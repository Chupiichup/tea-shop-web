(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();function Lv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $f={exports:{}},jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function s2(){if(Zx)return jo;Zx=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var x in c)x!=="key"&&(u[x]=c[x])}else u=c;return c=u.ref,{$$typeof:i,type:r,key:f,ref:c!==void 0?c:null,props:u}}return jo.Fragment=e,jo.jsx=n,jo.jsxs=n,jo}var Jx;function i2(){return Jx||(Jx=1,$f.exports=s2()),$f.exports}var l=i2(),Zf={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function r2(){if(Wx)return je;Wx=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function z(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,P={};function se(O,ee,oe){this.props=O,this.context=ee,this.refs=P,this.updater=oe||V}se.prototype.isReactComponent={},se.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=se.prototype;function re(O,ee,oe){this.props=O,this.context=ee,this.refs=P,this.updater=oe||V}var ce=re.prototype=new ie;ce.constructor=re,X(ce,se.prototype),ce.isPureReactComponent=!0;var F=Array.isArray;function Q(){}var _={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function A(O,ee,oe){var he=oe.ref;return{$$typeof:i,type:O,key:ee,ref:he!==void 0?he:null,props:oe}}function j(O,ee){return A(O.type,ee,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function D(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return ee[oe]})}var R=/\/+/g;function we(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):ee.toString(36)}function Ct(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Q,Q):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,ee,oe,he,Ne){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case i:case e:Ue=!0;break;case N:return Ue=O._init,Z(Ue(O._payload),ee,oe,he,Ne)}}if(Ue)return Ne=Ne(O),Ue=he===""?"."+we(O,0):he,F(Ne)?(oe="",Ue!=null&&(oe=Ue.replace(R,"$&/")+"/"),Z(Ne,ee,oe,"",function(cr){return cr})):Ne!=null&&(C(Ne)&&(Ne=j(Ne,oe+(Ne.key==null||O&&O.key===Ne.key?"":(""+Ne.key).replace(R,"$&/")+"/")+Ue)),ee.push(Ne)),1;Ue=0;var Rt=he===""?".":he+":";if(F(O))for(var lt=0;lt<O.length;lt++)he=O[lt],Re=Rt+we(he,lt),Ue+=Z(he,ee,oe,Re,Ne);else if(lt=z(O),typeof lt=="function")for(O=lt.call(O),lt=0;!(he=O.next()).done;)he=he.value,Re=Rt+we(he,lt++),Ue+=Z(he,ee,oe,Re,Ne);else if(Re==="object"){if(typeof O.then=="function")return Z(Ct(O),ee,oe,he,Ne);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function le(O,ee,oe){if(O==null)return O;var he=[],Ne=0;return Z(O,he,"","",function(Re){return ee.call(oe,Re,Ne++)}),he}function pe(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var Be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ye={map:le,forEach:function(O,ee,oe){le(O,function(){ee.apply(this,arguments)},oe)},count:function(O){var ee=0;return le(O,function(){ee++}),ee},toArray:function(O){return le(O,function(ee){return ee})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return je.Activity=S,je.Children=Ye,je.Component=se,je.Fragment=n,je.Profiler=c,je.PureComponent=re,je.StrictMode=r,je.Suspense=p,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,je.__COMPILER_RUNTIME={__proto__:null,c:function(O){return _.H.useMemoCache(O)}},je.cache=function(O){return function(){return O.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(O,ee,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=X({},O.props),Ne=O.key;if(ee!=null)for(Re in ee.key!==void 0&&(Ne=""+ee.key),ee)!T.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(he[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)he.children=oe;else if(1<Re){for(var Ue=Array(Re),Rt=0;Rt<Re;Rt++)Ue[Rt]=arguments[Rt+2];he.children=Ue}return A(O.type,Ne,he)},je.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},je.createElement=function(O,ee,oe){var he,Ne={},Re=null;if(ee!=null)for(he in ee.key!==void 0&&(Re=""+ee.key),ee)T.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ne[he]=ee[he]);var Ue=arguments.length-2;if(Ue===1)Ne.children=oe;else if(1<Ue){for(var Rt=Array(Ue),lt=0;lt<Ue;lt++)Rt[lt]=arguments[lt+2];Ne.children=Rt}if(O&&O.defaultProps)for(he in Ue=O.defaultProps,Ue)Ne[he]===void 0&&(Ne[he]=Ue[he]);return A(O,Re,Ne)},je.createRef=function(){return{current:null}},je.forwardRef=function(O){return{$$typeof:x,render:O}},je.isValidElement=C,je.lazy=function(O){return{$$typeof:N,_payload:{_status:-1,_result:O},_init:pe}},je.memo=function(O,ee){return{$$typeof:y,type:O,compare:ee===void 0?null:ee}},je.startTransition=function(O){var ee=_.T,oe={};_.T=oe;try{var he=O(),Ne=_.S;Ne!==null&&Ne(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Q,Be)}catch(Re){Be(Re)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),_.T=ee}},je.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},je.use=function(O){return _.H.use(O)},je.useActionState=function(O,ee,oe){return _.H.useActionState(O,ee,oe)},je.useCallback=function(O,ee){return _.H.useCallback(O,ee)},je.useContext=function(O){return _.H.useContext(O)},je.useDebugValue=function(){},je.useDeferredValue=function(O,ee){return _.H.useDeferredValue(O,ee)},je.useEffect=function(O,ee){return _.H.useEffect(O,ee)},je.useEffectEvent=function(O){return _.H.useEffectEvent(O)},je.useId=function(){return _.H.useId()},je.useImperativeHandle=function(O,ee,oe){return _.H.useImperativeHandle(O,ee,oe)},je.useInsertionEffect=function(O,ee){return _.H.useInsertionEffect(O,ee)},je.useLayoutEffect=function(O,ee){return _.H.useLayoutEffect(O,ee)},je.useMemo=function(O,ee){return _.H.useMemo(O,ee)},je.useOptimistic=function(O,ee){return _.H.useOptimistic(O,ee)},je.useReducer=function(O,ee,oe){return _.H.useReducer(O,ee,oe)},je.useRef=function(O){return _.H.useRef(O)},je.useState=function(O){return _.H.useState(O)},je.useSyncExternalStore=function(O,ee,oe){return _.H.useSyncExternalStore(O,ee,oe)},je.useTransition=function(){return _.H.useTransition()},je.version="19.2.0",je}var ey;function Um(){return ey||(ey=1,Zf.exports=r2()),Zf.exports}var Y=Um();const a2=Lv(Y);var Jf={exports:{}},So={},Wf={exports:{}},em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function l2(){return ty||(ty=1,(function(i){function e(Z,le){var pe=Z.length;Z.push(le);e:for(;0<pe;){var Be=pe-1>>>1,Ye=Z[Be];if(0<c(Ye,le))Z[Be]=le,Z[pe]=Ye,pe=Be;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],pe=Z.pop();if(pe!==le){Z[0]=pe;e:for(var Be=0,Ye=Z.length,O=Ye>>>1;Be<O;){var ee=2*(Be+1)-1,oe=Z[ee],he=ee+1,Ne=Z[he];if(0>c(oe,pe))he<Ye&&0>c(Ne,oe)?(Z[Be]=Ne,Z[he]=pe,Be=he):(Z[Be]=oe,Z[ee]=pe,Be=ee);else if(he<Ye&&0>c(Ne,pe))Z[Be]=Ne,Z[he]=pe,Be=he;else break e}}return le}function c(Z,le){var pe=Z.sortIndex-le.sortIndex;return pe!==0?pe:Z.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,x=f.now();i.unstable_now=function(){return f.now()-x}}var p=[],y=[],N=1,S=null,I=3,z=!1,V=!1,X=!1,P=!1,se=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ce(Z){for(var le=n(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=Z)r(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function F(Z){if(X=!1,ce(Z),!V)if(n(p)!==null)V=!0,Q||(Q=!0,D());else{var le=n(y);le!==null&&Ct(F,le.startTime-Z)}}var Q=!1,_=-1,T=5,A=-1;function j(){return P?!0:!(i.unstable_now()-A<T)}function C(){if(P=!1,Q){var Z=i.unstable_now();A=Z;var le=!0;try{e:{V=!1,X&&(X=!1,ie(_),_=-1),z=!0;var pe=I;try{t:{for(ce(Z),S=n(p);S!==null&&!(S.expirationTime>Z&&j());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,I=S.priorityLevel;var Ye=Be(S.expirationTime<=Z);if(Z=i.unstable_now(),typeof Ye=="function"){S.callback=Ye,ce(Z),le=!0;break t}S===n(p)&&r(p),ce(Z)}else r(p);S=n(p)}if(S!==null)le=!0;else{var O=n(y);O!==null&&Ct(F,O.startTime-Z),le=!1}}break e}finally{S=null,I=pe,z=!1}le=void 0}}finally{le?D():Q=!1}}}var D;if(typeof re=="function")D=function(){re(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,we=R.port2;R.port1.onmessage=C,D=function(){we.postMessage(null)}}else D=function(){se(C,0)};function Ct(Z,le){_=se(function(){Z(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(Z){switch(I){case 1:case 2:case 3:var le=3;break;default:le=I}var pe=I;I=le;try{return Z()}finally{I=pe}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=I;I=Z;try{return le()}finally{I=pe}},i.unstable_scheduleCallback=function(Z,le,pe){var Be=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,Z){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=pe+Ye,Z={id:N++,callback:le,priorityLevel:Z,startTime:pe,expirationTime:Ye,sortIndex:-1},pe>Be?(Z.sortIndex=pe,e(y,Z),n(p)===null&&Z===n(y)&&(X?(ie(_),_=-1):X=!0,Ct(F,pe-Be))):(Z.sortIndex=Ye,e(p,Z),V||z||(V=!0,Q||(Q=!0,D()))),Z},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(Z){var le=I;return function(){var pe=I;I=le;try{return Z.apply(this,arguments)}finally{I=pe}}}})(em)),em}var ny;function o2(){return ny||(ny=1,Wf.exports=l2()),Wf.exports}var tm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function c2(){if(sy)return Xt;sy=1;var i=Um();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)y+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(p,y,N){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:p,containerInfo:y,implementation:N}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,y){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,N)},Xt.flushSync=function(p){var y=f.T,N=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=N,r.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var N=y.as,S=x(N,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;N==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:z}):N==="script"&&r.d.X(p,{crossOrigin:S,integrity:I,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var N=x(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var N=y.as,S=x(N,y.crossOrigin);r.d.L(p,N,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var N=x(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,N){return f.H.useFormState(p,y,N)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var iy;function u2(){if(iy)return tm.exports;iy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),tm.exports=c2(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function h2(){if(ry)return So;ry=1;var i=o2(),e=Um(),n=u2();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===o)return p(d),s;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=d,o=m;else{for(var v=!1,w=d.child;w;){if(w===a){v=!0,a=d,o=m;break}if(w===o){v=!0,o=d,a=m;break}w=w.sibling}if(!v){for(w=m.child;w;){if(w===a){v=!0,a=m,o=d;break}if(w===o){v=!0,o=m,a=d;break}w=w.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function N(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=N(t),s!==null)return s;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case se:return"Profiler";case P:return"StrictMode";case F:return"Suspense";case Q:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ce:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _:return s=t.displayName||null,s!==null?s:we(t.type)||"Memo";case T:s=t._payload,t=t._init;try{return we(t(s))}catch{}}return null}var Ct=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],Ye=-1;function O(t){return{current:t}}function ee(t){0>Ye||(t.current=Be[Ye],Be[Ye]=null,Ye--)}function oe(t,s){Ye++,Be[Ye]=t.current,t.current=s}var he=O(null),Ne=O(null),Re=O(null),Ue=O(null);function Rt(t,s){switch(oe(Re,s),oe(Ne,t),oe(he,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?bx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=bx(s),t=_x(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(he),oe(he,t)}function lt(){ee(he),ee(Ne),ee(Re)}function cr(t){t.memoizedState!==null&&oe(Ue,t);var s=he.current,a=_x(s,t.type);s!==a&&(oe(Ne,t),oe(he,a))}function ta(t){Ne.current===t&&(ee(he),ee(Ne)),Ue.current===t&&(ee(Ue),No._currentValue=pe)}var na,sa;function ts(t){if(na===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);na=s&&s[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+sa}var _l=!1;function ur(t,s){if(!t||_l)return"";_l=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var H=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){H=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){H=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),v=m[0],w=m[1];if(v&&w){var k=v.split(`
`),B=w.split(`
`);for(d=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(o===k.length||d===B.length)for(o=k.length-1,d=B.length-1;1<=o&&0<=d&&k[o]!==B[d];)d--;for(;1<=o&&0<=d;o--,d--)if(k[o]!==B[d]){if(o!==1||d!==1)do if(o--,d--,0>d||k[o]!==B[d]){var $=`
`+k[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=d);break}}}finally{_l=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ts(a):""}function Nl(t,s){switch(t.tag){case 26:case 27:case 5:return ts(t.type);case 16:return ts("Lazy");case 13:return t.child!==s&&s!==null?ts("Suspense Fallback"):ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return ur(t.type,!1);case 11:return ur(t.type.render,!1);case 1:return ur(t.type,!0);case 31:return ts("Activity");default:return""}}function Tl(t){try{var s="",a=null;do s+=Nl(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,hi=i.unstable_cancelCallback,Zh=i.unstable_shouldYield,dc=i.unstable_requestPaint,en=i.unstable_now,hr=i.unstable_getCurrentPriorityLevel,wl=i.unstable_ImmediatePriority,El=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,Jh=i.unstable_LowPriority,fc=i.unstable_IdlePriority,mc=i.log,gc=i.unstable_setDisableYieldValue,Un=null,Ut=null;function wn(t){if(typeof mc=="function"&&gc(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Un,t)}catch{}}var ft=Math.clz32?Math.clz32:xc,pc=Math.log,ia=Math.LN2;function xc(t){return t>>>=0,t===0?32:31-(pc(t)/ia|0)|0}var ns=256,dr=262144,vt=4194304;function ss(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function is(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?d=ss(o):(v&=w,v!==0?d=ss(v):a||(a=w&~t,a!==0&&(d=ss(a))))):(w=o&~m,w!==0?d=ss(w):v!==0?d=ss(v):a||(a=o&~t,a!==0&&(d=ss(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function qn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Wh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function rs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function fr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ed(t,s,a,o,d,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,k=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-ft(a),W=1<<$;w[$]=0,k[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var K=H[$];K!==null&&(K.lane&=-536870913)}a&=~W}o!==0&&mr(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~s))}function mr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-ft(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function jl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-ft(a),d=1<<o;d&s|t[o]&s&&(t[o]|=s),a&=~d}}function Sl(t,s){var a=s&-s;return a=(a&42)!==0?1:gr(a),(a&(t.suspendedLanes|s))!==0?0:a}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ds(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vc(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Fx(t.type))}function Bn(t,s){var a=le.p;try{return le.p=t,s()}finally{le.p=a}}var Hn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Hn,Ot="__reactProps$"+Hn,as="__reactContainer$"+Hn,ra="__reactEvents$"+Hn,td="__reactListeners$"+Hn,bc="__reactHandles$"+Hn,_c="__reactResources$"+Hn,ls="__reactMarker$"+Hn;function aa(t){delete t[bt],delete t[Ot],delete t[ra],delete t[td],delete t[bc]}function os(t){var s=t[bt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[as]||a[bt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Ax(t);t!==null;){if(a=t[bt])return a;t=Ax(t)}return s}t=a,a=t.parentNode}return null}function En(t){if(t=t[bt]||t[as]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function mn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function cs(t){var s=t[_c];return s||(s=t[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(t){t[ls]=!0}var Al=new Set,Cl={};function us(t,s){hs(t,s),hs(t+"Capture",s)}function hs(t,s){for(Cl[t]=s,t=0;t<s.length;t++)Al.add(s[t])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},kl={};function Nc(t){return yt.call(kl,t)?!0:yt.call(Il,t)?!1:Rl.test(t)?kl[t]=!0:(Il[t]=!0,!1)}function la(t,s,a){if(Nc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function gn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Nt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fi(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dl(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Xe(t){if(!t._valueTracker){var s=fi(t)?"checked":"value";t._valueTracker=Dl(t,s,""+t[s])}}function pr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=fi(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function rn(t){return t.replace(xr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function oa(t,s,a,o,d,m,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Vt(s)):t.value!==""+Vt(s)&&(t.value=""+Vt(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Ml(t,v,Vt(s)):a!=null?Ml(t,v,Vt(a)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Vt(w):t.removeAttribute("name")}function Tc(t,s,a,o,d,m,v,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Xe(t);return}a=a!=null?""+Vt(a):"",s=s!=null?""+Vt(s):a,w||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function Ml(t,s,a){s==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function mi(t,s,a,o){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Vt(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function wc(t,s,a){if(s!=null&&(s=""+Vt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Vt(a):""}function gi(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ct(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Vt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function an(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Ec.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Vl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&a[d]!==o&&Ol(t,d,o)}else for(var m in s)s.hasOwnProperty(m)&&Ol(t,m,s[m])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return pi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Ll=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,fs=null;function yr(t){var s=En(t);if(s&&(t=s.stateNode)){var a=t[Ot]||null;e:switch(t=s.stateNode,s.type){case"input":if(oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var d=o[Ot]||null;if(!d)throw Error(r(90));oa(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&pr(o)}break e;case"textarea":wc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&mi(t,!!a.multiple,s,!1)}}}var ha=!1;function yi(t,s,a){if(ha)return t(s,a);ha=!0;try{var o=t(s);return o}finally{if(ha=!1,(xi!==null||fs!==null)&&(vu(),xi&&(s=xi,t=fs,fs=xi=null,yr(s),t)))for(s=0;s<t.length;s++)yr(t[s])}}function Gn(t,s){var a=t.stateNode;if(a===null)return null;var o=a[Ot]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Sn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{vr=!1}var ms=null,Pl=null,br=null;function zl(){if(br)return br;var t,s=Pl,a=s.length,o,d="value"in ms?ms.value:ms.textContent,m=d.length;for(t=0;t<a&&s[t]===d[t];t++);var v=a-t;for(o=1;o<=v&&s[a-o]===d[m-o];o++);return br=d.slice(t,1<o?1-o:void 0)}function _r(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ms(){return!0}function Kn(){return!1}function qt(t){function s(a,o,d,m,v){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ms:Kn,this.isPropagationStopped=Kn,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),s}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=qt(Os),vi=S({},Os,{view:0,detail:0}),Ul=qt(vi),bi,da,ps,fa=S({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ps&&(ps&&t.type==="mousemove"?(bi=t.screenX-ps.screenX,da=t.screenY-ps.screenY):da=bi=0,ps=t),bi)},movementY:function(t){return"movementY"in t?t.movementY:da}}),ql=qt(fa),Nr=S({},fa,{dataTransfer:0}),Sc=qt(Nr),Ac=S({},vi,{relatedTarget:0}),Tr=qt(Ac),Bl=S({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),Cc=qt(Bl),ma=S({},Os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rc=qt(ma),Ic=S({},Os,{data:0}),xs=qt(Ic),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Mc[t])?!!s[t]:!1}function _i(){return Oc}var tn=S({},vi,{key:function(t){if(t.key){var s=kc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=_r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(t){return t.type==="keypress"?_r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vc=qt(tn),Lc=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vs=qt(Lc),h=S({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),g=qt(h),b=S({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=qt(b),U=S({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(U),ae=S({},Os,{newState:0,oldState:0}),Ae=qt(ae),mt=[9,13,27,32],Ge=Sn&&"CompositionEvent"in window,ot=null;Sn&&"documentMode"in document&&(ot=document.documentMode);var An=Sn&&"TextEvent"in window&&!ot,ys=Sn&&(!Ge||ot&&8<ot&&11>=ot),Qn=" ",Yn=!1;function wr(t,s){switch(t){case"keyup":return mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function S_(t,s){switch(t){case"compositionend":return ga(s);case"keypress":return s.which!==32?null:(Yn=!0,Qn);case"textInput":return t=s.data,t===Qn&&Yn?null:t;default:return null}}function A_(t,s){if(pa)return t==="compositionend"||!Ge&&wr(t,s)?(t=zl(),br=Pl=ms=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ys&&s.locale!=="ko"?null:s.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!C_[t.type]:s==="textarea"}function kg(t,s,a,o){xi?fs?fs.push(o):fs=[o]:xi=o,s=ju(s,"onChange"),0<s.length&&(a=new gs("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Hl=null,Fl=null;function R_(t){mx(t,0)}function Pc(t){var s=mn(t);if(pr(s))return t}function Dg(t,s){if(t==="change")return s}var Mg=!1;if(Sn){var nd;if(Sn){var sd="oninput"in document;if(!sd){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),sd=typeof Og.oninput=="function"}nd=sd}else nd=!1;Mg=nd&&(!document.documentMode||9<document.documentMode)}function Vg(){Hl&&(Hl.detachEvent("onpropertychange",Lg),Fl=Hl=null)}function Lg(t){if(t.propertyName==="value"&&Pc(Fl)){var s=[];kg(s,Fl,t,jn(t)),yi(R_,s)}}function I_(t,s,a){t==="focusin"?(Vg(),Hl=s,Fl=a,Hl.attachEvent("onpropertychange",Lg)):t==="focusout"&&Vg()}function k_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(Fl)}function D_(t,s){if(t==="click")return Pc(s)}function M_(t,s){if(t==="input"||t==="change")return Pc(s)}function O_(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var pn=typeof Object.is=="function"?Object.is:O_;function Gl(t,s){if(pn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!yt.call(s,d)||!pn(t[d],s[d]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,s){var a=Pg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function Ug(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Ug(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ds(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=ds(t.document)}return s}function id(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var V_=Sn&&"documentMode"in document&&11>=document.documentMode,xa=null,rd=null,Kl=null,ad=!1;function Bg(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ad||xa==null||xa!==ds(o)||(o=xa,"selectionStart"in o&&id(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Kl&&Gl(Kl,o)||(Kl=o,o=ju(rd,"onSelect"),0<o.length&&(s=new gs("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=xa)))}function Er(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ya={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},ld={},Hg={};Sn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function jr(t){if(ld[t])return ld[t];if(!ya[t])return t;var s=ya[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Hg)return ld[t]=s[a];return t}var Fg=jr("animationend"),Gg=jr("animationiteration"),Kg=jr("animationstart"),L_=jr("transitionrun"),P_=jr("transitionstart"),z_=jr("transitioncancel"),Qg=jr("transitionend"),Yg=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function Xn(t,s){Yg.set(t,s),us(s,[t])}var zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],va=0,cd=0;function Uc(){for(var t=va,s=cd=va=0;s<t;){var a=Cn[s];Cn[s++]=null;var o=Cn[s];Cn[s++]=null;var d=Cn[s];Cn[s++]=null;var m=Cn[s];if(Cn[s++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}m!==0&&Xg(a,d,m)}}function qc(t,s,a,o){Cn[va++]=t,Cn[va++]=s,Cn[va++]=a,Cn[va++]=o,cd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ud(t,s,a,o){return qc(t,s,a,o),Bc(t)}function Sr(t,s){return qc(t,null,null,s),Bc(t)}function Xg(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-ft(a),t=m.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=a|536870912),m):null}function Bc(t){if(50<go)throw go=0,bf=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ba={};function U_(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,s,a,o){return new U_(t,s,a,o)}function hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ls(t,s){var a=t.alternate;return a===null?(a=xn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Hc(t,s,a,o,d,m){var v=0;if(o=t,typeof t=="function")hd(t)&&(v=1);else if(typeof t=="string")v=GN(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=xn(31,a,s,d),t.elementType=A,t.lanes=m,t;case X:return Ar(a.children,d,m,s);case P:v=8,d|=24;break;case se:return t=xn(12,a,s,d|2),t.elementType=se,t.lanes=m,t;case F:return t=xn(13,a,s,d),t.elementType=F,t.lanes=m,t;case Q:return t=xn(19,a,s,d),t.elementType=Q,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ie:v=9;break e;case ce:v=11;break e;case _:v=14;break e;case T:v=16,o=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=xn(v,a,s,d),s.elementType=t,s.type=o,s.lanes=m,s}function Ar(t,s,a,o){return t=xn(7,t,o,s),t.lanes=a,t}function dd(t,s,a){return t=xn(6,t,null,s),t.lanes=a,t}function Zg(t){var s=xn(18,null,null,0);return s.stateNode=t,s}function fd(t,s,a){return s=xn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Jg=new WeakMap;function Rn(t,s){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Tl(s)},Jg.set(t,s),s)}return{value:t,source:s,stack:Tl(s)}}var _a=[],Na=0,Fc=null,Ql=0,In=[],kn=0,Ni=null,vs=1,bs="";function Ps(t,s){_a[Na++]=Ql,_a[Na++]=Fc,Fc=t,Ql=s}function Wg(t,s,a){In[kn++]=vs,In[kn++]=bs,In[kn++]=Ni,Ni=t;var o=vs;t=bs;var d=32-ft(o)-1;o&=~(1<<d),a+=1;var m=32-ft(s)+d;if(30<m){var v=d-d%5;m=(o&(1<<v)-1).toString(32),o>>=v,d-=v,vs=1<<32-ft(s)+d|a<<d|o,bs=m+t}else vs=1<<m|a<<d|o,bs=t}function md(t){t.return!==null&&(Ps(t,1),Wg(t,1,0))}function gd(t){for(;t===Fc;)Fc=_a[--Na],_a[Na]=null,Ql=_a[--Na],_a[Na]=null;for(;t===Ni;)Ni=In[--kn],In[kn]=null,bs=In[--kn],In[kn]=null,vs=In[--kn],In[kn]=null}function ep(t,s){In[kn++]=vs,In[kn++]=bs,In[kn++]=Ni,vs=s.id,bs=s.overflow,Ni=t}var Bt=null,it=null,ze=!1,Ti=null,Dn=!1,pd=Error(r(519));function wi(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(Rn(s,t)),pd}function tp(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[bt]=t,s[Ot]=o,a){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(a=0;a<xo.length;a++)De(xo[a],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),Tc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),gi(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||yx(s.textContent,a)?(o.popover!=null&&(De("beforetoggle",s),De("toggle",s)),o.onScroll!=null&&De("scroll",s),o.onScrollEnd!=null&&De("scrollend",s),o.onClick!=null&&(s.onclick=Fn),s=!0):s=!1,s||wi(t,!0)}function np(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Bt=Bt.return}}function Ta(t){if(t!==Bt)return!1;if(!ze)return np(t),ze=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Of(t.type,t.memoizedProps)),a=!a),a&&it&&wi(t),np(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Sx(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=Sx(t)}else s===27?(s=it,Pi(t.type)?(t=Uf,Uf=null,it=t):it=s):it=Bt?On(t.stateNode.nextSibling):null;return!0}function Cr(){it=Bt=null,ze=!1}function xd(){var t=Ti;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ti=null),t}function Yl(t){Ti===null?Ti=[t]:Ti.push(t)}var yd=O(null),Rr=null,zs=null;function Ei(t,s,a){oe(yd,s._currentValue),s._currentValue=a}function Us(t){t._currentValue=yd.current,ee(yd)}function vd(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function bd(t,s,a,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var k=0;k<s.length;k++)if(w.context===s[k]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),vd(m.return,a,t),o||(v=null);break e}m=w.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),vd(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function wa(t,s,a,o){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=d.type;pn(d.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(d===Ue.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(No):t=[No])}d=d.return}t!==null&&bd(s,t,a,o),s.flags|=262144}function Gc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){Rr=t,zs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return sp(Rr,t)}function Kc(t,s){return Rr===null&&Ir(t),sp(t,s)}function sp(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},zs===null){if(t===null)throw Error(r(308));zs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else zs=zs.next=s;return a}var q_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},B_=i.unstable_scheduleCallback,H_=i.unstable_NormalPriority,Tt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new q_,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&B_(H_,function(){t.controller.abort()})}var $l=null,Nd=0,Ea=0,ja=null;function F_(t,s){if($l===null){var a=$l=[];Nd=0,Ea=jf(),ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Nd++,s.then(ip,ip),s}function ip(){if(--Nd===0&&$l!==null){ja!==null&&(ja.status="fulfilled");var t=$l;$l=null,Ea=0,ja=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function G_(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var rp=Z.S;Z.S=function(t,s){B0=en(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&F_(t,s),rp!==null&&rp(t,s)};var kr=O(null);function Td(){var t=kr.current;return t!==null?t:nt.pooledCache}function Qc(t,s){s===null?oe(kr,kr.current):oe(kr,s.pool)}function ap(){var t=Td();return t===null?null:{parent:Tt._currentValue,pool:t}}var Sa=Error(r(460)),wd=Error(r(474)),Yc=Error(r(542)),Xc={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function op(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Fn,Fn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,up(t),t;default:if(typeof s.status=="string")s.then(Fn,Fn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,up(t),t}throw Mr=s,Sa}}function Dr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mr=a,Sa):a}}var Mr=null;function cp(){if(Mr===null)throw Error(r(459));var t=Mr;return Mr=null,t}function up(t){if(t===Sa||t===Yc)throw Error(r(483))}var Aa=null,Zl=0;function $c(t){var s=Zl;return Zl+=1,Aa===null&&(Aa=[]),op(Aa,t,s)}function Jl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Zc(t,s){throw s.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function hp(t){function s(L,M){if(t){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)s(L,M),M=M.sibling;return null}function o(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function d(L,M){return L=Ls(L,M),L.index=0,L.sibling=null,L}function m(L,M,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,M,q,J){return M===null||M.tag!==6?(M=dd(q,L.mode,J),M.return=L,M):(M=d(M,q),M.return=L,M)}function k(L,M,q,J){var ge=q.type;return ge===X?$(L,M,q.props.children,J,q.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&Dr(ge)===M.type)?(M=d(M,q.props),Jl(M,q),M.return=L,M):(M=Hc(q.type,q.key,q.props,null,L.mode,J),Jl(M,q),M.return=L,M)}function B(L,M,q,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=fd(q,L.mode,J),M.return=L,M):(M=d(M,q.children||[]),M.return=L,M)}function $(L,M,q,J,ge){return M===null||M.tag!==7?(M=Ar(q,L.mode,J,ge),M.return=L,M):(M=d(M,q),M.return=L,M)}function W(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=dd(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return q=Hc(M.type,M.key,M.props,null,L.mode,q),Jl(q,M),q.return=L,q;case V:return M=fd(M,L.mode,q),M.return=L,M;case T:return M=Dr(M),W(L,M,q)}if(Ct(M)||D(M))return M=Ar(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return W(L,$c(M),q);if(M.$$typeof===re)return W(L,Kc(L,M),q);Zc(L,M)}return null}function H(L,M,q,J){var ge=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(L,M,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return q.key===ge?k(L,M,q,J):null;case V:return q.key===ge?B(L,M,q,J):null;case T:return q=Dr(q),H(L,M,q,J)}if(Ct(q)||D(q))return ge!==null?null:$(L,M,q,J,null);if(typeof q.then=="function")return H(L,M,$c(q),J);if(q.$$typeof===re)return H(L,M,Kc(L,q),J);Zc(L,q)}return null}function K(L,M,q,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(q)||null,w(M,L,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return L=L.get(J.key===null?q:J.key)||null,k(M,L,J,ge);case V:return L=L.get(J.key===null?q:J.key)||null,B(M,L,J,ge);case T:return J=Dr(J),K(L,M,q,J,ge)}if(Ct(J)||D(J))return L=L.get(q)||null,$(M,L,J,ge,null);if(typeof J.then=="function")return K(L,M,q,$c(J),ge);if(J.$$typeof===re)return K(L,M,q,Kc(M,J),ge);Zc(M,J)}return null}function de(L,M,q,J){for(var ge=null,He=null,fe=M,Ie=M=0,Oe=null;fe!==null&&Ie<q.length;Ie++){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var Fe=H(L,fe,q[Ie],J);if(Fe===null){fe===null&&(fe=Oe);break}t&&fe&&Fe.alternate===null&&s(L,fe),M=m(Fe,M,Ie),He===null?ge=Fe:He.sibling=Fe,He=Fe,fe=Oe}if(Ie===q.length)return a(L,fe),ze&&Ps(L,Ie),ge;if(fe===null){for(;Ie<q.length;Ie++)fe=W(L,q[Ie],J),fe!==null&&(M=m(fe,M,Ie),He===null?ge=fe:He.sibling=fe,He=fe);return ze&&Ps(L,Ie),ge}for(fe=o(fe);Ie<q.length;Ie++)Oe=K(fe,L,Ie,q[Ie],J),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ie:Oe.key),M=m(Oe,M,Ie),He===null?ge=Oe:He.sibling=Oe,He=Oe);return t&&fe.forEach(function(Hi){return s(L,Hi)}),ze&&Ps(L,Ie),ge}function ve(L,M,q,J){if(q==null)throw Error(r(151));for(var ge=null,He=null,fe=M,Ie=M=0,Oe=null,Fe=q.next();fe!==null&&!Fe.done;Ie++,Fe=q.next()){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var Hi=H(L,fe,Fe.value,J);if(Hi===null){fe===null&&(fe=Oe);break}t&&fe&&Hi.alternate===null&&s(L,fe),M=m(Hi,M,Ie),He===null?ge=Hi:He.sibling=Hi,He=Hi,fe=Oe}if(Fe.done)return a(L,fe),ze&&Ps(L,Ie),ge;if(fe===null){for(;!Fe.done;Ie++,Fe=q.next())Fe=W(L,Fe.value,J),Fe!==null&&(M=m(Fe,M,Ie),He===null?ge=Fe:He.sibling=Fe,He=Fe);return ze&&Ps(L,Ie),ge}for(fe=o(fe);!Fe.done;Ie++,Fe=q.next())Fe=K(fe,L,Ie,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ie:Fe.key),M=m(Fe,M,Ie),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(n2){return s(L,n2)}),ze&&Ps(L,Ie),ge}function tt(L,M,q,J){if(typeof q=="object"&&q!==null&&q.type===X&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case z:e:{for(var ge=q.key;M!==null;){if(M.key===ge){if(ge=q.type,ge===X){if(M.tag===7){a(L,M.sibling),J=d(M,q.props.children),J.return=L,L=J;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&Dr(ge)===M.type){a(L,M.sibling),J=d(M,q.props),Jl(J,q),J.return=L,L=J;break e}a(L,M);break}else s(L,M);M=M.sibling}q.type===X?(J=Ar(q.props.children,L.mode,J,q.key),J.return=L,L=J):(J=Hc(q.type,q.key,q.props,null,L.mode,J),Jl(J,q),J.return=L,L=J)}return v(L);case V:e:{for(ge=q.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(L,M.sibling),J=d(M,q.children||[]),J.return=L,L=J;break e}else{a(L,M);break}else s(L,M);M=M.sibling}J=fd(q,L.mode,J),J.return=L,L=J}return v(L);case T:return q=Dr(q),tt(L,M,q,J)}if(Ct(q))return de(L,M,q,J);if(D(q)){if(ge=D(q),typeof ge!="function")throw Error(r(150));return q=ge.call(q),ve(L,M,q,J)}if(typeof q.then=="function")return tt(L,M,$c(q),J);if(q.$$typeof===re)return tt(L,M,Kc(L,q),J);Zc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(L,M.sibling),J=d(M,q),J.return=L,L=J):(a(L,M),J=dd(q,L.mode,J),J.return=L,L=J),v(L)):a(L,M)}return function(L,M,q,J){try{Zl=0;var ge=tt(L,M,q,J);return Aa=null,ge}catch(fe){if(fe===Sa||fe===Yc)throw fe;var He=xn(29,fe,null,L.mode);return He.lanes=J,He.return=L,He}finally{}}}var Or=hp(!0),dp=hp(!1),ji=!1;function Ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=Bc(t),Xg(t,null,a),s}return qc(t,o,s,a),Bc(t)}function Wl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,jl(t,a)}}function Sd(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Ad=!1;function eo(){if(Ad){var t=ja;if(t!==null)throw t}}function to(t,s,a,o){Ad=!1;var d=t.updateQueue;ji=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var k=w,B=k.next;k.next=null,v===null?m=B:v.next=B,v=k;var $=t.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==v&&(w===null?$.firstBaseUpdate=B:w.next=B,$.lastBaseUpdate=k))}if(m!==null){var W=d.baseState;v=0,$=B=k=null,w=m;do{var H=w.lane&-536870913,K=H!==w.lane;if(K?(Me&H)===H:(o&H)===H){H!==0&&H===Ea&&(Ad=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=t,ve=w;H=s;var tt=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){W=de.call(tt,W,H);break e}W=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,H=typeof de=="function"?de.call(tt,W,H):de,H==null)break e;W=S({},W,H);break e;case 2:ji=!0}}H=w.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[H]:K.push(H))}else K={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(B=$=K,k=W):$=$.next=K,v|=H;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;K=w,w=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);$===null&&(k=W),d.baseState=k,d.firstBaseUpdate=B,d.lastBaseUpdate=$,m===null&&(d.shared.lanes=0),Di|=v,t.lanes=v,t.memoizedState=W}}function fp(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function mp(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fp(a[t],s)}var Ca=O(null),Jc=O(0);function gp(t,s){t=Xs,oe(Jc,t),oe(Ca,s),Xs=t|s.baseLanes}function Cd(){oe(Jc,Xs),oe(Ca,Ca.current)}function Rd(){Xs=Jc.current,ee(Ca),ee(Jc)}var yn=O(null),Mn=null;function Ci(t){var s=t.alternate;oe(gt,gt.current&1),oe(yn,t),Mn===null&&(s===null||Ca.current!==null||s.memoizedState!==null)&&(Mn=t)}function Id(t){oe(gt,gt.current),oe(yn,t),Mn===null&&(Mn=t)}function pp(t){t.tag===22?(oe(gt,gt.current),oe(yn,t),Mn===null&&(Mn=t)):Ri()}function Ri(){oe(gt,gt.current),oe(yn,yn.current)}function vn(t){ee(yn),Mn===t&&(Mn=null),ee(gt)}var gt=O(0);function Wc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pf(a)||zf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qs=0,Ce=null,We=null,wt=null,eu=!1,Ra=!1,Vr=!1,tu=0,no=0,Ia=null,K_=0;function ht(){throw Error(r(321))}function kd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!pn(t[a],s[a]))return!1;return!0}function Dd(t,s,a,o,d,m){return qs=m,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=t===null||t.memoizedState===null?Wp:Yd,Vr=!1,m=a(o,d),Vr=!1,Ra&&(m=yp(s,a,o,d)),xp(t),m}function xp(t){Z.H=ro;var s=We!==null&&We.next!==null;if(qs=0,wt=We=Ce=null,eu=!1,no=0,Ia=null,s)throw Error(r(300));t===null||Et||(t=t.dependencies,t!==null&&Gc(t)&&(Et=!0))}function yp(t,s,a,o){Ce=t;var d=0;do{if(Ra&&(Ia=null),no=0,Ra=!1,25<=d)throw Error(r(301));if(d+=1,wt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=e0,m=s(a,o)}while(Ra);return m}function Q_(){var t=Z.H,s=t.useState()[0];return s=typeof s.then=="function"?so(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ce.flags|=1024),s}function Md(){var t=tu!==0;return tu=0,t}function Od(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Vd(t){if(eu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}eu=!1}qs=0,wt=We=Ce=null,Ra=!1,no=tu=0,Ia=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(We===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=wt===null?Ce.memoizedState:wt.next;if(s!==null)wt=s,We=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ce.memoizedState=wt=t:wt=wt.next=t}return wt}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(t){var s=no;return no+=1,Ia===null&&(Ia=[]),t=op(Ia,t,s),s=Ce,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Wp:Yd),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return so(t);if(t.$$typeof===re)return Ht(t)}throw Error(r(438,String(t)))}function Ld(t){var s=null,a=Ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=nu(),Ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=j;return s.index++,a}function Bs(t,s){return typeof s=="function"?s(t):s}function iu(t){var s=pt();return Pd(s,We,t)}function Pd(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}s.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var w=v=null,k=null,B=s,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Me&W)===W:(qs&W)===W){var H=B.revertLane;if(H===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ea&&($=!0);else if((qs&H)===H){B=B.next,H===Ea&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(w=k=W,v=m):k=k.next=W,Ce.lanes|=H,Di|=H;W=B.action,Vr&&a(m,W),m=B.hasEagerState?B.eagerState:a(m,W)}else H={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(w=k=H,v=m):k=k.next=H,Ce.lanes|=W,Di|=W;B=B.next}while(B!==null&&B!==s);if(k===null?v=m:k.next=w,!pn(m,t.memoizedState)&&(Et=!0,$&&(a=ja,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=k,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function zd(t){var s=pt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=t(m,v.action),v=v.next;while(v!==d);pn(m,s.memoizedState)||(Et=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function vp(t,s,a){var o=Ce,d=pt(),m=ze;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!pn((We||d).memoizedState,a);if(v&&(d.memoizedState=a,Et=!0),d=d.queue,Bd(Np.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,ka(9,{destroy:void 0},_p.bind(null,o,d,a,s),null),nt===null)throw Error(r(349));m||(qs&127)!==0||bp(o,s,a)}return a}function bp(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ce.updateQueue,s===null?(s=nu(),Ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function _p(t,s,a,o){s.value=a,s.getSnapshot=o,Tp(s)&&wp(t)}function Np(t,s,a){return a(function(){Tp(s)&&wp(t)})}function Tp(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!pn(t,a)}catch{return!0}}function wp(t){var s=Sr(t,2);s!==null&&hn(s,t,2)}function Ud(t){var s=nn();if(typeof t=="function"){var a=t;if(t=a(),Vr){wn(!0);try{a()}finally{wn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},s}function Ep(t,s,a,o){return t.baseState=a,Pd(t,We,typeof o=="function"?o:Bs)}function Y_(t,s,a,o,d){if(lu(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Z.T!==null?a(!0):m.isTransition=!1,o(m),a=s.pending,a===null?(m.next=s.pending=m,jp(s,m)):(m.next=a.next,s.pending=a.next=m)}}function jp(t,s){var a=s.action,o=s.payload,d=t.state;if(s.isTransition){var m=Z.T,v={};Z.T=v;try{var w=a(d,o),k=Z.S;k!==null&&k(v,w),Sp(t,s,w)}catch(B){qd(t,s,B)}finally{m!==null&&v.types!==null&&(m.types=v.types),Z.T=m}}else try{m=a(d,o),Sp(t,s,m)}catch(B){qd(t,s,B)}}function Sp(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ap(t,s,o)},function(o){return qd(t,s,o)}):Ap(t,s,a)}function Ap(t,s,a){s.status="fulfilled",s.value=a,Cp(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,jp(t,a)))}function qd(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,Cp(s),s=s.next;while(s!==o)}t.action=null}function Cp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Rp(t,s){return s}function Ip(t,s){if(ze){var a=nt.formState;if(a!==null){e:{var o=Ce;if(ze){if(it){t:{for(var d=it,m=Dn;d.nodeType!==8;){if(!m){d=null;break t}if(d=On(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){it=On(d.nextSibling),o=d.data==="F!";break e}}wi(o)}o=!1}o&&(s=a[0])}}return a=nn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:s},a.queue=o,a=$p.bind(null,Ce,o),o.dispatch=a,o=Ud(!1),m=Qd.bind(null,Ce,!1,o.queue),o=nn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,a=Y_.bind(null,Ce,d,m,a),d.dispatch=a,o.memoizedState=t,[s,a,!1]}function kp(t){var s=pt();return Dp(s,We,t)}function Dp(t,s,a){if(s=Pd(t,s,Rp)[0],t=iu(Bs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=so(s)}catch(v){throw v===Sa?Yc:v}else o=s;s=pt();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Ce.flags|=2048,ka(9,{destroy:void 0},X_.bind(null,d,a),null)),[o,m,t]}function X_(t,s){t.action=s}function Mp(t){var s=pt(),a=We;if(a!==null)return Dp(s,a,t);pt(),s=s.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function ka(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=nu(),Ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Op(){return pt().memoizedState}function ru(t,s,a,o){var d=nn();Ce.flags|=t,d.memoizedState=ka(1|s,{destroy:void 0},a,o===void 0?null:o)}function au(t,s,a,o){var d=pt();o=o===void 0?null:o;var m=d.memoizedState.inst;We!==null&&o!==null&&kd(o,We.memoizedState.deps)?d.memoizedState=ka(s,m,a,o):(Ce.flags|=t,d.memoizedState=ka(1|s,m,a,o))}function Vp(t,s){ru(8390656,8,t,s)}function Bd(t,s){au(2048,8,t,s)}function $_(t){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=nu(),Ce.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Lp(t){var s=pt().memoizedState;return $_({ref:s,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Pp(t,s){return au(4,2,t,s)}function zp(t,s){return au(4,4,t,s)}function Up(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function qp(t,s,a){a=a!=null?a.concat([t]):null,au(4,4,Up.bind(null,s,t),a)}function Hd(){}function Bp(t,s){var a=pt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&kd(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Hp(t,s){var a=pt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&kd(s,o[1]))return o[0];if(o=t(),Vr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,s],o}function Fd(t,s,a){return a===void 0||(qs&1073741824)!==0&&(Me&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=F0(),Ce.lanes|=t,Di|=t,a)}function Fp(t,s,a,o){return pn(a,s)?a:Ca.current!==null?(t=Fd(t,a,o),pn(t,s)||(Et=!0),t):(qs&42)===0||(qs&1073741824)!==0&&(Me&261930)===0?(Et=!0,t.memoizedState=a):(t=F0(),Ce.lanes|=t,Di|=t,s)}function Gp(t,s,a,o,d){var m=le.p;le.p=m!==0&&8>m?m:8;var v=Z.T,w={};Z.T=w,Qd(t,!1,s,a);try{var k=d(),B=Z.S;if(B!==null&&B(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=G_(k,o);io(t,s,$,Nn(t))}else io(t,s,o,Nn(t))}catch(W){io(t,s,{then:function(){},status:"rejected",reason:W},Nn())}finally{le.p=m,v!==null&&w.types!==null&&(v.types=w.types),Z.T=v}}function Z_(){}function Gd(t,s,a,o){if(t.tag!==5)throw Error(r(476));var d=Kp(t).queue;Gp(t,d,s,pe,a===null?Z_:function(){return Qp(t),a(o)})}function Kp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Qp(t){var s=Kp(t);s.next===null&&(s=t.alternate.memoizedState),io(t,s.next.queue,{},Nn())}function Kd(){return Ht(No)}function Yp(){return pt().memoizedState}function Xp(){return pt().memoizedState}function J_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Nn();t=Si(a);var o=Ai(s,t,a);o!==null&&(hn(o,s,a),Wl(o,s,a)),s={cache:_d()},t.payload=s;return}s=s.return}}function W_(t,s,a){var o=Nn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lu(t)?Zp(s,a):(a=ud(t,s,a,o),a!==null&&(hn(a,t,o),Jp(a,s,o)))}function $p(t,s,a){var o=Nn();io(t,s,a,o)}function io(t,s,a,o){var d={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(t))Zp(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,w=m(v,a);if(d.hasEagerState=!0,d.eagerState=w,pn(w,v))return qc(t,s,d,0),nt===null&&Uc(),!1}catch{}finally{}if(a=ud(t,s,d,o),a!==null)return hn(a,t,o),Jp(a,s,o),!0}return!1}function Qd(t,s,a,o){if(o={lane:2,revertLane:jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lu(t)){if(s)throw Error(r(479))}else s=ud(t,a,o,2),s!==null&&hn(s,t,2)}function lu(t){var s=t.alternate;return t===Ce||s!==null&&s===Ce}function Zp(t,s){Ra=eu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Jp(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,jl(t,a)}}var ro={readContext:Ht,use:su,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};ro.useEffectEvent=ht;var Wp={readContext:Ht,use:su,useCallback:function(t,s){return nn().memoizedState=[t,s===void 0?null:s],t},useContext:Ht,useEffect:Vp,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ru(4194308,4,Up.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ru(4194308,4,t,s)},useInsertionEffect:function(t,s){ru(4,2,t,s)},useMemo:function(t,s){var a=nn();s=s===void 0?null:s;var o=t();if(Vr){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=nn();if(a!==void 0){var d=a(s);if(Vr){wn(!0);try{a(s)}finally{wn(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=W_.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var s=nn();return t={current:t},s.memoizedState=t},useState:function(t){t=Ud(t);var s=t.queue,a=$p.bind(null,Ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Hd,useDeferredValue:function(t,s){var a=nn();return Fd(a,t,s)},useTransition:function(){var t=Ud(!1);return t=Gp.bind(null,Ce,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=Ce,d=nn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),nt===null)throw Error(r(349));(Me&127)!==0||bp(o,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Vp(Np.bind(null,o,m,t),[t]),o.flags|=2048,ka(9,{destroy:void 0},_p.bind(null,o,m,a,s),null),a},useId:function(){var t=nn(),s=nt.identifierPrefix;if(ze){var a=bs,o=vs;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=tu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=K_++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Kd,useFormState:Ip,useActionState:Ip,useOptimistic:function(t){var s=nn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Qd.bind(null,Ce,!0,a),a.dispatch=s,[t,s]},useMemoCache:Ld,useCacheRefresh:function(){return nn().memoizedState=J_.bind(null,Ce)},useEffectEvent:function(t){var s=nn(),a={impl:t};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yd={readContext:Ht,use:su,useCallback:Bp,useContext:Ht,useEffect:Bd,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Hp,useReducer:iu,useRef:Op,useState:function(){return iu(Bs)},useDebugValue:Hd,useDeferredValue:function(t,s){var a=pt();return Fp(a,We.memoizedState,t,s)},useTransition:function(){var t=iu(Bs)[0],s=pt().memoizedState;return[typeof t=="boolean"?t:so(t),s]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Kd,useFormState:kp,useActionState:kp,useOptimistic:function(t,s){var a=pt();return Ep(a,We,t,s)},useMemoCache:Ld,useCacheRefresh:Xp};Yd.useEffectEvent=Lp;var e0={readContext:Ht,use:su,useCallback:Bp,useContext:Ht,useEffect:Bd,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:zp,useMemo:Hp,useReducer:zd,useRef:Op,useState:function(){return zd(Bs)},useDebugValue:Hd,useDeferredValue:function(t,s){var a=pt();return We===null?Fd(a,t,s):Fp(a,We.memoizedState,t,s)},useTransition:function(){var t=zd(Bs)[0],s=pt().memoizedState;return[typeof t=="boolean"?t:so(t),s]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Kd,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,s){var a=pt();return We!==null?Ep(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ld,useCacheRefresh:Xp};e0.useEffectEvent=Lp;function Xd(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:S({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $d={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Nn(),d=Si(o);d.payload=s,a!=null&&(d.callback=a),s=Ai(t,d,o),s!==null&&(hn(s,t,o),Wl(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Nn(),d=Si(o);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Ai(t,d,o),s!==null&&(hn(s,t,o),Wl(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Nn(),o=Si(a);o.tag=2,s!=null&&(o.callback=s),s=Ai(t,o,a),s!==null&&(hn(s,t,a),Wl(s,t,a))}};function t0(t,s,a,o,d,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,v):s.prototype&&s.prototype.isPureReactComponent?!Gl(a,o)||!Gl(d,m):!0}function n0(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&$d.enqueueReplaceState(s,s.state,null)}function Lr(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=S({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function s0(t){zc(t)}function i0(t){console.error(t)}function r0(t){zc(t)}function ou(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function a0(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zd(t,s,a){return a=Si(a),a.tag=3,a.payload={element:null},a.callback=function(){ou(t,s)},a}function l0(t){return t=Si(t),t.tag=3,t}function o0(t,s,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){a0(s,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){a0(s,a,o),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function eN(t,s,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&wa(s,a,d,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?bu():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===Xc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Tf(t,o,d)),!1;case 22:return a.flags|=65536,o===Xc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Tf(t,o,d)),!1}throw Error(r(435,a.tag))}return Tf(t,o,d),bu(),!1}if(ze)return s=yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==pd&&(t=Error(r(422),{cause:o}),Yl(Rn(t,a)))):(o!==pd&&(s=Error(r(423),{cause:o}),Yl(Rn(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=Rn(o,a),d=Zd(t.stateNode,o,d),Sd(t,d),dt!==4&&(dt=2)),!1;var m=Error(r(520),{cause:o});if(m=Rn(m,a),mo===null?mo=[m]:mo.push(m),dt!==4&&(dt=2),s===null)return!0;o=Rn(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Zd(a.stateNode,o,t),Sd(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=l0(d),o0(d,t,a,o),Sd(a,d),!1}a=a.return}while(a!==null);return!1}var Jd=Error(r(461)),Et=!1;function Ft(t,s,a,o){s.child=t===null?dp(s,null,a,o):Or(s,t.child,a,o)}function c0(t,s,a,o,d){a=a.render;var m=s.ref;if("ref"in o){var v={};for(var w in o)w!=="ref"&&(v[w]=o[w])}else v=o;return Ir(s),o=Dd(t,s,a,v,m,d),w=Md(),t!==null&&!Et?(Od(t,s,d),Hs(t,s,d)):(ze&&w&&md(s),s.flags|=1,Ft(t,s,o,d),s.child)}function u0(t,s,a,o,d){if(t===null){var m=a.type;return typeof m=="function"&&!hd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,h0(t,s,m,o,d)):(t=Hc(a.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!lf(t,d)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(v,o)&&t.ref===s.ref)return Hs(t,s,d)}return s.flags|=1,t=Ls(m,o),t.ref=s.ref,t.return=s,s.child=t}function h0(t,s,a,o,d){if(t!==null){var m=t.memoizedProps;if(Gl(m,o)&&t.ref===s.ref)if(Et=!1,s.pendingProps=o=m,lf(t,d))(t.flags&131072)!==0&&(Et=!0);else return s.lanes=t.lanes,Hs(t,s,d)}return Wd(t,s,a,o,d)}function d0(t,s,a,o){var d=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~m}else o=0,s.child=null;return f0(t,s,m,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qc(s,m!==null?m.cachePool:null),m!==null?gp(s,m):Cd(),pp(s);else return o=s.lanes=536870912,f0(t,s,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(Qc(s,m.cachePool),gp(s,m),Ri(),s.memoizedState=null):(t!==null&&Qc(s,null),Cd(),Ri());return Ft(t,s,d,a),s.child}function ao(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function f0(t,s,a,o,d){var m=Td();return m=m===null?null:{parent:Tt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Qc(s,null),Cd(),pp(s),t!==null&&wa(t,s,o,!0),s.childLanes=d,null}function cu(t,s){return s=hu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function m0(t,s,a){return Or(s,t.child,null,a),t=cu(s,s.pendingProps),t.flags|=2,vn(s),s.memoizedState=null,t}function tN(t,s,a){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=cu(s,o),s.lanes=536870912,ao(null,t);if(Id(s),(t=it)?(t=jx(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ni!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=s,s.child=a,Bt=s,it=null)):t=null,t===null)throw wi(s);return s.lanes=536870912,null}return cu(s,o)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(Id(s),d)if(s.flags&256)s.flags&=-257,s=m0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Et||wa(t,s,a,!1),d=(a&t.childLanes)!==0,Et||d){if(o=nt,o!==null&&(v=Sl(o,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Sr(t,v),hn(o,t,v),Jd;bu(),s=m0(t,s,a)}else t=m.treeContext,it=On(v.nextSibling),Bt=s,ze=!0,Ti=null,Dn=!1,t!==null&&ep(s,t),s=cu(s,o),s.flags|=4096;return s}return t=Ls(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function uu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Wd(t,s,a,o,d){return Ir(s),a=Dd(t,s,a,o,void 0,d),o=Md(),t!==null&&!Et?(Od(t,s,d),Hs(t,s,d)):(ze&&o&&md(s),s.flags|=1,Ft(t,s,a,d),s.child)}function g0(t,s,a,o,d,m){return Ir(s),s.updateQueue=null,a=yp(s,o,a,d),xp(t),o=Md(),t!==null&&!Et?(Od(t,s,m),Hs(t,s,m)):(ze&&o&&md(s),s.flags|=1,Ft(t,s,a,m),s.child)}function p0(t,s,a,o,d){if(Ir(s),s.stateNode===null){var m=ba,v=a.contextType;typeof v=="object"&&v!==null&&(m=Ht(v)),m=new a(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$d,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},Ed(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?Ht(v):ba,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xd(s,a,v,o),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&$d.enqueueReplaceState(m,m.state,null),to(s,o,m,d),eo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var w=s.memoizedProps,k=Lr(a,w);m.props=k;var B=m.context,$=a.contextType;v=ba,typeof $=="object"&&$!==null&&(v=Ht($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||B!==v)&&n0(s,m,o,v),ji=!1;var H=s.memoizedState;m.state=H,to(s,o,m,d),eo(),B=s.memoizedState,w||H!==B||ji?(typeof W=="function"&&(Xd(s,a,W,o),B=s.memoizedState),(k=ji||t0(s,a,k,o,H,B,v))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=B),m.props=o,m.state=B,m.context=v,o=k):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,jd(t,s),v=s.memoizedProps,$=Lr(a,v),m.props=$,W=s.pendingProps,H=m.context,B=a.contextType,k=ba,typeof B=="object"&&B!==null&&(k=Ht(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==W||H!==k)&&n0(s,m,o,k),ji=!1,H=s.memoizedState,m.state=H,to(s,o,m,d),eo();var K=s.memoizedState;v!==W||H!==K||ji||t!==null&&t.dependencies!==null&&Gc(t.dependencies)?(typeof w=="function"&&(Xd(s,a,w,o),K=s.memoizedState),($=ji||t0(s,a,$,o,H,K,k)||t!==null&&t.dependencies!==null&&Gc(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,K,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,K,k)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=K),m.props=o,m.state=K,m.context=k,o=$):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,uu(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=Or(s,t.child,null,d),s.child=Or(s,null,a,d)):Ft(t,s,a,d),s.memoizedState=m.state,t=s.child):t=Hs(t,s,d),t}function x0(t,s,a,o){return Cr(),s.flags|=256,Ft(t,s,a,o),s.child}var ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(t){return{baseLanes:t,cachePool:ap()}}function nf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=_n),t}function y0(t,s,a){var o=s.pendingProps,d=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(ze){if(d?Ci(s):Ri(),(t=it)?(t=jx(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ni!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=s,s.child=a,Bt=s,it=null)):t=null,t===null)throw wi(s);return zf(t)?s.lanes=32:s.lanes=536870912,null}var w=o.children;return o=o.fallback,d?(Ri(),d=s.mode,w=hu({mode:"hidden",children:w},d),o=Ar(o,d,a,null),w.return=s,o.return=s,w.sibling=o,s.child=w,o=s.child,o.memoizedState=tf(a),o.childLanes=nf(t,v,a),s.memoizedState=ef,ao(null,o)):(Ci(s),sf(s,w))}var k=t.memoizedState;if(k!==null&&(w=k.dehydrated,w!==null)){if(m)s.flags&256?(Ci(s),s.flags&=-257,s=rf(t,s,a)):s.memoizedState!==null?(Ri(),s.child=t.child,s.flags|=128,s=null):(Ri(),w=o.fallback,d=s.mode,o=hu({mode:"visible",children:o.children},d),w=Ar(w,d,a,null),w.flags|=2,o.return=s,w.return=s,o.sibling=w,s.child=o,Or(s,t.child,null,a),o=s.child,o.memoizedState=tf(a),o.childLanes=nf(t,v,a),s.memoizedState=ef,s=ao(null,o));else if(Ci(s),zf(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(r(419)),o.stack="",o.digest=v,Yl({value:o,source:null,stack:null}),s=rf(t,s,a)}else if(Et||wa(t,s,a,!1),v=(a&t.childLanes)!==0,Et||v){if(v=nt,v!==null&&(o=Sl(v,a),o!==0&&o!==k.retryLane))throw k.retryLane=o,Sr(t,o),hn(v,t,o),Jd;Pf(w)||bu(),s=rf(t,s,a)}else Pf(w)?(s.flags|=192,s.child=t.child,s=null):(t=k.treeContext,it=On(w.nextSibling),Bt=s,ze=!0,Ti=null,Dn=!1,t!==null&&ep(s,t),s=sf(s,o.children),s.flags|=4096);return s}return d?(Ri(),w=o.fallback,d=s.mode,k=t.child,B=k.sibling,o=Ls(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,B!==null?w=Ls(B,w):(w=Ar(w,d,a,null),w.flags|=2),w.return=s,o.return=s,o.sibling=w,s.child=o,ao(null,o),o=s.child,w=t.child.memoizedState,w===null?w=tf(a):(d=w.cachePool,d!==null?(k=Tt._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=ap(),w={baseLanes:w.baseLanes|a,cachePool:d}),o.memoizedState=w,o.childLanes=nf(t,v,a),s.memoizedState=ef,ao(t.child,o)):(Ci(s),a=t.child,t=a.sibling,a=Ls(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function sf(t,s){return s=hu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function hu(t,s){return t=xn(22,t,null,s),t.lanes=0,t}function rf(t,s,a){return Or(s,t.child,null,a),t=sf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function v0(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),vd(t.return,s,a)}function af(t,s,a,o,d,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=d,v.treeForkCount=m)}function b0(t,s,a){var o=s.pendingProps,d=o.revealOrder,m=o.tail;o=o.children;var v=gt.current,w=(v&2)!==0;if(w?(v=v&1|2,s.flags|=128):v&=1,oe(gt,v),Ft(t,s,o,a),o=ze?Ql:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v0(t,a,s);else if(t.tag===19)v0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&Wc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),af(s,!1,d,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Wc(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}af(s,!0,a,null,m,o);break;case"together":af(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Hs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Di|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(wa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Ls(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ls(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function lf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Gc(t)))}function nN(t,s,a){switch(s.tag){case 3:Rt(s,s.stateNode.containerInfo),Ei(s,Tt,t.memoizedState.cache),Cr();break;case 27:case 5:cr(s);break;case 4:Rt(s,s.stateNode.containerInfo);break;case 10:Ei(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Id(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Ci(s),s.flags|=128,null):(a&s.child.childLanes)!==0?y0(t,s,a):(Ci(s),t=Hs(t,s,a),t!==null?t.sibling:null);Ci(s);break;case 19:var d=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(wa(t,s,a,!1),o=(a&s.childLanes)!==0),d){if(o)return b0(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(gt,gt.current),o)break;return null;case 22:return s.lanes=0,d0(t,s,a,s.pendingProps);case 24:Ei(s,Tt,t.memoizedState.cache)}return Hs(t,s,a)}function _0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Et=!0;else{if(!lf(t,a)&&(s.flags&128)===0)return Et=!1,nN(t,s,a);Et=(t.flags&131072)!==0}else Et=!1,ze&&(s.flags&1048576)!==0&&Wg(s,Ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=Dr(s.elementType),s.type=t,typeof t=="function")hd(t)?(o=Lr(t,o),s.tag=1,s=p0(null,s,t,o,a)):(s.tag=0,s=Wd(null,s,t,o,a));else{if(t!=null){var d=t.$$typeof;if(d===ce){s.tag=11,s=c0(null,s,t,o,a);break e}else if(d===_){s.tag=14,s=u0(null,s,t,o,a);break e}}throw s=we(t)||t,Error(r(306,s,""))}}return s;case 0:return Wd(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,d=Lr(o,s.pendingProps),p0(t,s,o,d,a);case 3:e:{if(Rt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var m=s.memoizedState;d=m.element,jd(t,s),to(s,o,null,a);var v=s.memoizedState;if(o=v.cache,Ei(s,Tt,o),o!==m.cache&&bd(s,[Tt],a,!0),eo(),o=v.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=x0(t,s,o,a);break e}else if(o!==d){d=Rn(Error(r(424)),s),Yl(d),s=x0(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=On(t.firstChild),Bt=s,ze=!0,Ti=null,Dn=!0,a=dp(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cr(),o===d){s=Hs(t,s,a);break e}Ft(t,s,o,a)}s=s.child}return s;case 26:return uu(t,s),t===null?(a=kx(s.type,null,s.pendingProps,null))?s.memoizedState=a:ze||(a=s.type,t=s.pendingProps,o=Su(Re.current).createElement(a),o[bt]=s,o[Ot]=t,Gt(o,a,t),_t(o),s.stateNode=o):s.memoizedState=kx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return cr(s),t===null&&ze&&(o=s.stateNode=Cx(s.type,s.pendingProps,Re.current),Bt=s,Dn=!0,d=it,Pi(s.type)?(Uf=d,it=On(o.firstChild)):it=d),Ft(t,s,s.pendingProps.children,a),uu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ze&&((d=o=it)&&(o=kN(o,s.type,s.pendingProps,Dn),o!==null?(s.stateNode=o,Bt=s,it=On(o.firstChild),Dn=!1,d=!0):d=!1),d||wi(s)),cr(s),d=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,o=m.children,Of(d,m)?o=null:v!==null&&Of(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Dd(t,s,Q_,null,null,a),No._currentValue=d),uu(t,s),Ft(t,s,o,a),s.child;case 6:return t===null&&ze&&((t=a=it)&&(a=DN(a,s.pendingProps,Dn),a!==null?(s.stateNode=a,Bt=s,it=null,t=!0):t=!1),t||wi(s)),null;case 13:return y0(t,s,a);case 4:return Rt(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Or(s,null,o,a):Ft(t,s,o,a),s.child;case 11:return c0(t,s,s.type,s.pendingProps,a);case 7:return Ft(t,s,s.pendingProps,a),s.child;case 8:return Ft(t,s,s.pendingProps.children,a),s.child;case 12:return Ft(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Ei(s,s.type,o.value),Ft(t,s,o.children,a),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,Ir(s),d=Ht(d),o=o(d),s.flags|=1,Ft(t,s,o,a),s.child;case 14:return u0(t,s,s.type,s.pendingProps,a);case 15:return h0(t,s,s.type,s.pendingProps,a);case 19:return b0(t,s,a);case 31:return tN(t,s,a);case 22:return d0(t,s,a,s.pendingProps);case 24:return Ir(s),o=Ht(Tt),t===null?(d=Td(),d===null&&(d=nt,m=_d(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:o,cache:d},Ed(s),Ei(s,Tt,d)):((t.lanes&a)!==0&&(jd(t,s),to(s,null,null,a),eo()),d=t.memoizedState,m=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ei(s,Tt,o)):(o=m.cache,Ei(s,Tt,o),o!==d.cache&&bd(s,[Tt],a,!0))),Ft(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fs(t){t.flags|=4}function of(t,s,a,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Y0())t.flags|=8192;else throw Mr=Xc,wd}else t.flags&=-16777217}function N0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lx(s))if(Y0())t.flags|=8192;else throw Mr=Xc,wd}function du(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?yc():536870912,t.lanes|=s,Va|=s)}function lo(t,s){if(!ze)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function sN(t,s,a){var o=s.pendingProps;switch(gd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Us(Tt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(s)?Fs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xd())),rt(s),null;case 26:var d=s.type,m=s.memoizedState;return t===null?(Fs(s),m!==null?(rt(s),N0(s,m)):(rt(s),of(s,d,null,o,a))):m?m!==t.memoizedState?(Fs(s),rt(s),N0(s,m)):(rt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&Fs(s),rt(s),of(s,d,t,o,a)),null;case 27:if(ta(s),a=Re.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Fs(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return rt(s),null}t=he.current,Ta(s)?tp(s):(t=Cx(d,o,a),s.stateNode=t,Fs(s))}return rt(s),null;case 5:if(ta(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Fs(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return rt(s),null}if(m=he.current,Ta(s))tp(s);else{var v=Su(Re.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}m[bt]=s,m[Ot]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(Gt(m,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Fs(s)}}return rt(s),of(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Fs(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=Re.current,Ta(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,d=Bt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[bt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||yx(t.nodeValue,a)),t||wi(s,!0)}else t=Su(t).createTextNode(o),t[bt]=s,s.stateNode=t}return rt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Ta(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=s}else Cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),t=!1}else a=xd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(vn(s),s):(vn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return rt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ta(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[bt]=s}else Cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),d=!1}else d=xd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(vn(s),s):(vn(s),null)}return vn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),du(s,s.updateQueue),rt(s),null);case 4:return lt(),t===null&&Rf(s.stateNode.containerInfo),rt(s),null;case 10:return Us(s.type),rt(s),null;case 19:if(ee(gt),o=s.memoizedState,o===null)return rt(s),null;if(d=(s.flags&128)!==0,m=o.rendering,m===null)if(d)lo(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Wc(t),m!==null){for(s.flags|=128,lo(o,!1),t=m.updateQueue,s.updateQueue=t,du(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)$g(a,t),a=a.sibling;return oe(gt,gt.current&1|2),ze&&Ps(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&en()>xu&&(s.flags|=128,d=!0,lo(o,!1),s.lanes=4194304)}else{if(!d)if(t=Wc(m),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,du(s,t),lo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!ze)return rt(s),null}else 2*en()-o.renderingStartTime>xu&&a!==536870912&&(s.flags|=128,d=!0,lo(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=gt.current,oe(gt,d?a&1|2:a&1),ze&&Ps(s,o.treeForkCount),t):(rt(s),null);case 22:case 23:return vn(s),Rd(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&du(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&ee(kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Us(Tt),rt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function iN(t,s){switch(gd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Us(Tt),lt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ta(s),null;case 31:if(s.memoizedState!==null){if(vn(s),s.alternate===null)throw Error(r(340));Cr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(vn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Cr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ee(gt),null;case 4:return lt(),null;case 10:return Us(s.type),null;case 22:case 23:return vn(s),Rd(),t!==null&&ee(kr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Us(Tt),null;case 25:return null;default:return null}}function T0(t,s){switch(gd(s),s.tag){case 3:Us(Tt),lt();break;case 26:case 27:case 5:ta(s);break;case 4:lt();break;case 31:s.memoizedState!==null&&vn(s);break;case 13:vn(s);break;case 19:ee(gt);break;case 10:Us(s.type);break;case 22:case 23:vn(s),Rd(),t!==null&&ee(kr);break;case 24:Us(Tt)}}function oo(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&t)===t){o=void 0;var m=a.create,v=a.inst;o=m(),v.destroy=o}a=a.next}while(a!==d)}}catch(w){Ze(s,s.return,w)}}function Ii(t,s,a){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var v=o.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,d=s;var k=a,B=w;try{B()}catch($){Ze(d,k,$)}}}o=o.next}while(o!==m)}}catch($){Ze(s,s.return,$)}}function w0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{mp(s,a)}catch(o){Ze(t,t.return,o)}}}function E0(t,s,a){a.props=Lr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ze(t,s,o)}}function co(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(d){Ze(t,s,d)}}function _s(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){Ze(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ze(t,s,d)}else a.current=null}function j0(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){Ze(t,t.return,d)}}function cf(t,s,a){try{var o=t.stateNode;jN(o,t.type,a,s),o[Ot]=s}catch(d){Ze(t,t.return,d)}}function S0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Fn));else if(o!==4&&(o===27&&Pi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(hf(t,s,a),t=t.sibling;t!==null;)hf(t,s,a),t=t.sibling}function fu(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Pi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fu(t,s,a),t=t.sibling;t!==null;)fu(t,s,a),t=t.sibling}function A0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Gt(s,o,a),s[bt]=t,s[Ot]=a}catch(m){Ze(t,t.return,m)}}var Gs=!1,jt=!1,df=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function rN(t,s){if(t=t.containerInfo,Df=Mu,t=qg(t),id(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,w=-1,k=-1,B=0,$=0,W=t,H=null;t:for(;;){for(var K;W!==a||d!==0&&W.nodeType!==3||(w=v+d),W!==m||o!==0&&W.nodeType!==3||(k=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(K=W.firstChild)!==null;)H=W,W=K;for(;;){if(W===t)break t;if(H===a&&++B===d&&(w=v),H===m&&++$===o&&(k=v),(K=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=K}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mf={focusedElem:t,selectionRange:a},Mu=!1,Lt=s;Lt!==null;)if(s=Lt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Lt=t;else for(;Lt!==null;){switch(s=Lt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var de=Lr(a.type,d);t=o.getSnapshotBeforeUpdate(de,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Lf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Lt=t;break}Lt=s.return}}function R0(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qs(t,a),o&4&&oo(5,a);break;case 1:if(Qs(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var d=Lr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}o&64&&w0(a),o&512&&co(a,a.return);break;case 3:if(Qs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{mp(t,s)}catch(v){Ze(a,a.return,v)}}break;case 27:s===null&&o&4&&A0(a);case 26:case 5:Qs(t,a),s===null&&o&4&&j0(a),o&512&&co(a,a.return);break;case 12:Qs(t,a);break;case 31:Qs(t,a),o&4&&D0(t,a);break;case 13:Qs(t,a),o&4&&M0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mN.bind(null,a),MN(t,a))));break;case 22:if(o=a.memoizedState!==null||Gs,!o){s=s!==null&&s.memoizedState!==null||jt,d=Gs;var m=jt;Gs=o,(jt=s)&&!m?Ys(t,a,(a.subtreeFlags&8772)!==0):Qs(t,a),Gs=d,jt=m}break;case 30:break;default:Qs(t,a)}}function I0(t){var s=t.alternate;s!==null&&(t.alternate=null,I0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&aa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,ln=!1;function Ks(t,s,a){for(a=a.child;a!==null;)k0(t,s,a),a=a.sibling}function k0(t,s,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:jt||_s(a,s),Ks(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||_s(a,s);var o=ct,d=ln;Pi(a.type)&&(ct=a.stateNode,ln=!1),Ks(t,s,a),vo(a.stateNode),ct=o,ln=d;break;case 5:jt||_s(a,s);case 6:if(o=ct,d=ln,ct=null,Ks(t,s,a),ct=o,ln=d,ct!==null)if(ln)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(m){Ze(a,s,m)}else try{ct.removeChild(a.stateNode)}catch(m){Ze(a,s,m)}break;case 18:ct!==null&&(ln?(t=ct,wx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):wx(ct,a.stateNode));break;case 4:o=ct,d=ln,ct=a.stateNode.containerInfo,ln=!0,Ks(t,s,a),ct=o,ln=d;break;case 0:case 11:case 14:case 15:Ii(2,a,s),jt||Ii(4,a,s),Ks(t,s,a);break;case 1:jt||(_s(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&E0(a,s,o)),Ks(t,s,a);break;case 21:Ks(t,s,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,Ks(t,s,a),jt=o;break;default:Ks(t,s,a)}}function D0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Ze(s,s.return,a)}}}function M0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Ze(s,s.return,a)}}function aN(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new C0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new C0),s;default:throw Error(r(435,t.tag))}}function mu(t,s){var a=aN(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var d=gN.bind(null,t,o);o.then(d,d)}})}function on(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],m=t,v=s,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Pi(w.type)){ct=w.stateNode,ln=!1;break e}break;case 5:ct=w.stateNode,ln=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(ct===null)throw Error(r(160));k0(m,v,d),ct=null,ln=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)O0(s,t),s=s.sibling}var $n=null;function O0(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(s,t),cn(t),o&4&&(Ii(3,t,t.return),oo(3,t),Ii(5,t,t.return));break;case 1:on(s,t),cn(t),o&512&&(jt||a===null||_s(a,a.return)),o&64&&Gs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=$n;if(on(s,t),cn(t),o&512&&(jt||a===null||_s(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ls]||m[bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),Gt(m,o,a),m[bt]=t,_t(m),o=m;break e;case"link":var v=Ox("link","href",d).get(o+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(m=v[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}m=d.createElement(o),Gt(m,o,a),d.head.appendChild(m);break;case"meta":if(v=Ox("meta","content",d).get(o+(a.content||""))){for(w=0;w<v.length;w++)if(m=v[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}m=d.createElement(o),Gt(m,o,a),d.head.appendChild(m);break;default:throw Error(r(468,o))}m[bt]=t,_t(m),o=m}t.stateNode=o}else Vx(d,t.type,t.stateNode);else t.stateNode=Mx(d,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Vx(d,t.type,t.stateNode):Mx(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&cf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(s,t),cn(t),o&512&&(jt||a===null||_s(a,a.return)),a!==null&&o&4&&cf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(s,t),cn(t),o&512&&(jt||a===null||_s(a,a.return)),t.flags&32){d=t.stateNode;try{an(d,"")}catch(de){Ze(t,t.return,de)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,cf(t,d,a!==null?a.memoizedProps:d)),o&1024&&(df=!0);break;case 6:if(on(s,t),cn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(de){Ze(t,t.return,de)}}break;case 3:if(Ru=null,d=$n,$n=Au(s.containerInfo),on(s,t),$n=d,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(s.containerInfo)}catch(de){Ze(t,t.return,de)}df&&(df=!1,V0(t));break;case 4:o=$n,$n=Au(t.stateNode.containerInfo),on(s,t),cn(t),$n=o;break;case 12:on(s,t),cn(t);break;case 31:on(s,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mu(t,o)));break;case 13:on(s,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pu=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mu(t,o)));break;case 22:d=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,B=Gs,$=jt;if(Gs=B||d,jt=$||k,on(s,t),jt=$,Gs=B,cn(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||k||Gs||jt||Pr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(m=k.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=k.stateNode;var W=k.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){Ze(k,k.return,de)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(de){Ze(k,k.return,de)}}}else if(s.tag===18){if(a===null){k=s;try{var K=k.stateNode;d?Ex(K,!0):Ex(k.stateNode,!1)}catch(de){Ze(k,k.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mu(t,a))));break;case 19:on(s,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mu(t,o)));break;case 30:break;case 21:break;default:on(s,t),cn(t)}}function cn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(S0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=uf(t);fu(t,m,d);break;case 5:var v=a.stateNode;a.flags&32&&(an(v,""),a.flags&=-33);var w=uf(t);fu(t,w,v);break;case 3:case 4:var k=a.stateNode.containerInfo,B=uf(t);hf(t,B,k);break;default:throw Error(r(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function V0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;V0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Qs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)R0(t,s.alternate,s),s=s.sibling}function Pr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ii(4,s,s.return),Pr(s);break;case 1:_s(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&E0(s,s.return,a),Pr(s);break;case 27:vo(s.stateNode);case 26:case 5:_s(s,s.return),Pr(s);break;case 22:s.memoizedState===null&&Pr(s);break;case 30:Pr(s);break;default:Pr(s)}t=t.sibling}}function Ys(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:Ys(d,m,a),oo(4,m);break;case 1:if(Ys(d,m,a),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Ze(o,o.return,B)}if(o=m,d=o.updateQueue,d!==null){var w=o.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)fp(k[d],w)}catch(B){Ze(o,o.return,B)}}a&&v&64&&w0(m),co(m,m.return);break;case 27:A0(m);case 26:case 5:Ys(d,m,a),a&&o===null&&v&4&&j0(m),co(m,m.return);break;case 12:Ys(d,m,a);break;case 31:Ys(d,m,a),a&&v&4&&D0(d,m);break;case 13:Ys(d,m,a),a&&v&4&&M0(d,m);break;case 22:m.memoizedState===null&&Ys(d,m,a),co(m,m.return);break;case 30:break;default:Ys(d,m,a)}s=s.sibling}}function ff(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xl(a))}function mf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xl(t))}function Zn(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)L0(t,s,a,o),s=s.sibling}function L0(t,s,a,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Zn(t,s,a,o),d&2048&&oo(9,s);break;case 1:Zn(t,s,a,o);break;case 3:Zn(t,s,a,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xl(t)));break;case 12:if(d&2048){Zn(t,s,a,o),t=s.stateNode;try{var m=s.memoizedProps,v=m.id,w=m.onPostCommit;typeof w=="function"&&w(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Ze(s,s.return,k)}}else Zn(t,s,a,o);break;case 31:Zn(t,s,a,o);break;case 13:Zn(t,s,a,o);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?Zn(t,s,a,o):uo(t,s):m._visibility&2?Zn(t,s,a,o):(m._visibility|=2,Da(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&ff(v,s);break;case 24:Zn(t,s,a,o),d&2048&&mf(s.alternate,s);break;default:Zn(t,s,a,o)}}function Da(t,s,a,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,v=s,w=a,k=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:Da(m,v,w,k,d),oo(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Da(m,v,w,k,d):uo(m,v):($._visibility|=2,Da(m,v,w,k,d)),d&&B&2048&&ff(v.alternate,v);break;case 24:Da(m,v,w,k,d),d&&B&2048&&mf(v.alternate,v);break;default:Da(m,v,w,k,d)}s=s.sibling}}function uo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,d=o.flags;switch(o.tag){case 22:uo(a,o),d&2048&&ff(o.alternate,o);break;case 24:uo(a,o),d&2048&&mf(o.alternate,o);break;default:uo(a,o)}s=s.sibling}}var ho=8192;function Ma(t,s,a){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)P0(t,s,a),t=t.sibling}function P0(t,s,a){switch(t.tag){case 26:Ma(t,s,a),t.flags&ho&&t.memoizedState!==null&&KN(a,$n,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,s,a);break;case 3:case 4:var o=$n;$n=Au(t.stateNode.containerInfo),Ma(t,s,a),$n=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ho,ho=16777216,Ma(t,s,a),ho=o):Ma(t,s,a));break;default:Ma(t,s,a)}}function z0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function fo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Lt=o,q0(o,t)}z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)U0(t),t=t.sibling}function U0(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,gu(t)):fo(t);break;default:fo(t)}}function gu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Lt=o,q0(o,t)}z0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ii(8,s,s.return),gu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,gu(s));break;default:gu(s)}t=t.sibling}}function q0(t,s){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ii(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Lt=o;else e:for(a=t;Lt!==null;){o=Lt;var d=o.sibling,m=o.return;if(I0(o),o===a){Lt=null;break e}if(d!==null){d.return=m,Lt=d;break e}Lt=m}}}var lN={getCacheForType:function(t){var s=Ht(Tt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Ht(Tt).controller.signal}},oN=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,ke=null,Me=0,$e=0,bn=null,ki=!1,Oa=!1,gf=!1,Xs=0,dt=0,Di=0,zr=0,pf=0,_n=0,Va=0,mo=null,un=null,xf=!1,pu=0,B0=0,xu=1/0,yu=null,Mi=null,kt=0,Oi=null,La=null,$s=0,yf=0,vf=null,H0=null,go=0,bf=null;function Nn(){return(Ke&2)!==0&&Me!==0?Me&-Me:Z.T!==null?jf():vc()}function F0(){if(_n===0)if((Me&536870912)===0||ze){var t=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),_n=t}else _n=536870912;return t=yn.current,t!==null&&(t.flags|=32),_n}function hn(t,s,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Vi(t,Me,_n,!1)),fr(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(zr|=a),dt===4&&Vi(t,Me,_n,!1)),Ns(t))}function G0(t,s,a){if((Ke&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||qn(t,s),d=o?hN(t,s):Nf(t,s,!0),m=o;do{if(d===0){Oa&&!o&&Vi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!cN(a)){d=Nf(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var w=t;d=mo;var k=w.current.memoizedState.isDehydrated;if(k&&(Pa(w,v).flags|=256),v=Nf(w,v,!1),v!==2){if(gf&&!k){w.errorRecoveryDisabledLanes|=m,zr|=m,d=4;break e}m=un,un=d,m!==null&&(un===null?un=m:un.push.apply(un,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){Pa(t,0),Vi(t,s,0,!0);break}e:{switch(o=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Vi(o,s,_n,!ki);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=pu+300-en(),10<d)){if(Vi(o,s,_n,!ki),is(o,0,!0)!==0)break e;$s=s,o.timeoutHandle=Nx(K0.bind(null,o,a,un,yu,xf,s,_n,zr,Va,ki,m,"Throttled",-0,0),d);break e}K0(o,a,un,yu,xf,s,_n,zr,Va,ki,m,null,-0,0)}}break}while(!0);Ns(t)}function K0(t,s,a,o,d,m,v,w,k,B,$,W,H,K){if(t.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},P0(s,m,W);var de=(m&62914560)===m?pu-en():(m&4194048)===m?B0-en():0;if(de=QN(W,de),de!==null){$s=m,t.cancelPendingCommit=de(ex.bind(null,t,s,m,a,o,d,v,w,k,$,W,null,H,K)),Vi(t,m,v,!B);return}}ex(t,s,m,a,o,d,v,w,k)}function cN(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],m=d.getSnapshot;d=d.value;try{if(!pn(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(t,s,a,o){s&=~pf,s&=~zr,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var m=31-ft(d),v=1<<m;o[m]=-1,d&=~v}a!==0&&mr(t,a,s)}function vu(){return(Ke&6)===0?(po(0),!1):!0}function _f(){if(ke!==null){if($e===0)var t=ke.return;else t=ke,zs=Rr=null,Vd(t),Aa=null,Zl=0,t=ke;for(;t!==null;)T0(t.alternate,t),t=t.return;ke=null}}function Pa(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CN(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$s=0,_f(),nt=t,ke=a=Ls(t.current,null),Me=s,$e=0,bn=null,ki=!1,Oa=qn(t,s),gf=!1,Va=_n=pf=zr=Di=dt=0,un=mo=null,xf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-ft(o),m=1<<d;s|=t[d],o&=~m}return Xs=s,Uc(),a}function Q0(t,s){Ce=null,Z.H=ro,s===Sa||s===Yc?(s=cp(),$e=3):s===wd?(s=cp(),$e=4):$e=s===Jd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,ke===null&&(dt=1,ou(t,Rn(s,t.current)))}function Y0(){var t=yn.current;return t===null?!0:(Me&4194048)===Me?Mn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Mn:!1}function X0(){var t=Z.H;return Z.H=ro,t===null?ro:t}function $0(){var t=Z.A;return Z.A=lN,t}function bu(){dt=4,ki||(Me&4194048)!==Me&&yn.current!==null||(Oa=!0),(Di&134217727)===0&&(zr&134217727)===0||nt===null||Vi(nt,Me,_n,!1)}function Nf(t,s,a){var o=Ke;Ke|=2;var d=X0(),m=$0();(nt!==t||Me!==s)&&(yu=null,Pa(t,s)),s=!1;var v=dt;e:do try{if($e!==0&&ke!==null){var w=ke,k=bn;switch($e){case 8:_f(),v=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(s=!0);var B=$e;if($e=0,bn=null,za(t,w,k,B),a&&Oa){v=0;break e}break;default:B=$e,$e=0,bn=null,za(t,w,k,B)}}uN(),v=dt;break}catch($){Q0(t,$)}while(!0);return s&&t.shellSuspendCounter++,zs=Rr=null,Ke=o,Z.H=d,Z.A=m,ke===null&&(nt=null,Me=0,Uc()),v}function uN(){for(;ke!==null;)Z0(ke)}function hN(t,s){var a=Ke;Ke|=2;var o=X0(),d=$0();nt!==t||Me!==s?(yu=null,xu=en()+500,Pa(t,s)):Oa=qn(t,s);e:do try{if($e!==0&&ke!==null){s=ke;var m=bn;t:switch($e){case 1:$e=0,bn=null,za(t,s,m,1);break;case 2:case 9:if(lp(m)){$e=0,bn=null,J0(s);break}s=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ns(t)},m.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:lp(m)?($e=0,bn=null,J0(s)):($e=0,bn=null,za(t,s,m,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var w=ke;if(v?Lx(v):w.stateNode.complete){$e=0,bn=null;var k=w.sibling;if(k!==null)ke=k;else{var B=w.return;B!==null?(ke=B,_u(B)):ke=null}break t}}$e=0,bn=null,za(t,s,m,5);break;case 6:$e=0,bn=null,za(t,s,m,6);break;case 8:_f(),dt=6;break e;default:throw Error(r(462))}}dN();break}catch($){Q0(t,$)}while(!0);return zs=Rr=null,Z.H=o,Z.A=d,Ke=a,ke!==null?0:(nt=null,Me=0,Uc(),dt)}function dN(){for(;ke!==null&&!Zh();)Z0(ke)}function Z0(t){var s=_0(t.alternate,t,Xs);t.memoizedProps=t.pendingProps,s===null?_u(t):ke=s}function J0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=g0(a,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=g0(a,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:Vd(s);default:T0(a,s),s=ke=$g(s,Xs),s=_0(a,s,Xs)}t.memoizedProps=t.pendingProps,s===null?_u(t):ke=s}function za(t,s,a,o){zs=Rr=null,Vd(s),Aa=null,Zl=0;var d=s.return;try{if(eN(t,d,s,a,Me)){dt=1,ou(t,Rn(a,t.current)),ke=null;return}}catch(m){if(d!==null)throw ke=d,m;dt=1,ou(t,Rn(a,t.current)),ke=null;return}s.flags&32768?(ze||o===1?t=!0:Oa||(Me&536870912)!==0?t=!1:(ki=t=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),W0(s,t)):_u(s)}function _u(t){var s=t;do{if((s.flags&32768)!==0){W0(s,ki);return}t=s.return;var a=sN(s.alternate,s,Xs);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);dt===0&&(dt=5)}function W0(t,s){do{var a=iN(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);dt=6,ke=null}function ex(t,s,a,o,d,m,v,w,k){t.cancelPendingCommit=null;do Nu();while(kt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=cd,ed(t,a,m,v,w,k),t===nt&&(ke=nt=null,Me=0),La=s,Oi=t,$s=a,yf=m,vf=d,H0=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pN(di,function(){return rx(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null,d=le.p,le.p=2,v=Ke,Ke|=4;try{rN(t,s,a)}finally{Ke=v,le.p=d,Z.T=o}}kt=1,tx(),nx(),sx()}}function tx(){if(kt===1){kt=0;var t=Oi,s=La,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var o=le.p;le.p=2;var d=Ke;Ke|=4;try{O0(s,t);var m=Mf,v=qg(t.containerInfo),w=m.focusedElem,k=m.selectionRange;if(v!==w&&w&&w.ownerDocument&&Ug(w.ownerDocument.documentElement,w)){if(k!==null&&id(w)){var B=k.start,$=k.end;if($===void 0&&($=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min($,w.value.length);else{var W=w.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var K=H.getSelection(),de=w.textContent.length,ve=Math.min(k.start,de),tt=k.end===void 0?ve:Math.min(k.end,de);!K.extend&&ve>tt&&(v=tt,tt=ve,ve=v);var L=zg(w,ve),M=zg(w,tt);if(L&&M&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var q=W.createRange();q.setStart(L.node,L.offset),K.removeAllRanges(),ve>tt?(K.addRange(q),K.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),K.addRange(q))}}}}for(W=[],K=w;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var J=W[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Mu=!!Df,Mf=Df=null}finally{Ke=d,le.p=o,Z.T=a}}t.current=s,kt=2}}function nx(){if(kt===2){kt=0;var t=Oi,s=La,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var o=le.p;le.p=2;var d=Ke;Ke|=4;try{R0(t,s.alternate,s)}finally{Ke=d,le.p=o,Z.T=a}}kt=3}}function sx(){if(kt===4||kt===3){kt=0,dc();var t=Oi,s=La,a=$s,o=H0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,La=Oi=null,ix(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Mi=null),Ds(a),s=s.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Un,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=Z.T,d=le.p,le.p=2,Z.T=null;try{for(var m=t.onRecoverableError,v=0;v<o.length;v++){var w=o[v];m(w.value,{componentStack:w.stack})}}finally{Z.T=s,le.p=d}}($s&3)!==0&&Nu(),Ns(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===bf?go++:(go=0,bf=t):go=0,po(0)}}function ix(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Xl(s)))}function Nu(){return tx(),nx(),sx(),rx()}function rx(){if(kt!==5)return!1;var t=Oi,s=yf;yf=0;var a=Ds($s),o=Z.T,d=le.p;try{le.p=32>a?32:a,Z.T=null,a=vf,vf=null;var m=Oi,v=$s;if(kt=0,La=Oi=null,$s=0,(Ke&6)!==0)throw Error(r(331));var w=Ke;if(Ke|=4,U0(m.current),L0(m,m.current,v,a),Ke=w,po(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Un,m)}catch{}return!0}finally{le.p=d,Z.T=o,ix(t,s)}}function ax(t,s,a){s=Rn(a,s),s=Zd(t.stateNode,s,2),t=Ai(t,s,2),t!==null&&(fr(t,2),Ns(t))}function Ze(t,s,a){if(t.tag===3)ax(t,t,a);else for(;s!==null;){if(s.tag===3){ax(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mi===null||!Mi.has(o))){t=Rn(a,t),a=l0(2),o=Ai(s,a,2),o!==null&&(o0(a,o,s,t),fr(o,2),Ns(o));break}}s=s.return}}function Tf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new oN;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(a)||(gf=!0,d.add(a),t=fN.bind(null,t,s,a),s.then(t,t))}function fN(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(dt===4||dt===3&&(Me&62914560)===Me&&300>en()-pu?(Ke&2)===0&&Pa(t,0):pf|=a,Va===Me&&(Va=0)),Ns(t)}function lx(t,s){s===0&&(s=yc()),t=Sr(t,s),t!==null&&(fr(t,s),Ns(t))}function mN(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),lx(t,a)}function gN(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),lx(t,a)}function pN(t,s){return It(t,s)}var Tu=null,Ua=null,wf=!1,wu=!1,Ef=!1,Li=0;function Ns(t){t!==Ua&&t.next===null&&(Ua===null?Tu=Ua=t:Ua=Ua.next=t),wu=!0,wf||(wf=!0,yN())}function po(t,s){if(!Ef&&wu){Ef=!0;do for(var a=!1,o=Tu;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var v=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-ft(42|t)+1)-1,m&=d&~(v&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,hx(o,m))}else m=Me,m=is(o,o===nt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||qn(o,m)||(a=!0,hx(o,m));o=o.next}while(a);Ef=!1}}function xN(){ox()}function ox(){wu=wf=!1;var t=0;Li!==0&&AN()&&(t=Li);for(var s=en(),a=null,o=Tu;o!==null;){var d=o.next,m=cx(o,s);m===0?(o.next=null,a===null?Tu=d:a.next=d,d===null&&(Ua=a)):(a=o,(t!==0||(m&3)!==0)&&(wu=!0)),o=d}kt!==0&&kt!==5||po(t),Li!==0&&(Li=0)}function cx(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-ft(m),w=1<<v,k=d[v];k===-1?((w&a)===0||(w&o)!==0)&&(d[v]=Wh(w,s)):k<=s&&(t.expiredLanes|=w),m&=~w}if(s=nt,a=Me,a=is(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&($e===2||$e===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&hi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&hi(o),Ds(a)){case 2:case 8:a=El;break;case 32:a=di;break;case 268435456:a=fc;break;default:a=di}return o=ux.bind(null,t),a=It(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&hi(o),t.callbackPriority=2,t.callbackNode=null,2}function ux(t,s){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var o=Me;return o=is(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(G0(t,o,s),cx(t,en()),t.callbackNode!=null&&t.callbackNode===a?ux.bind(null,t):null)}function hx(t,s){if(Nu())return null;G0(t,s,!0)}function yN(){RN(function(){(Ke&6)!==0?It(wl,xN):ox()})}function jf(){if(Li===0){var t=Ea;t===0&&(t=ns,ns<<=1,(ns&261888)===0&&(ns=256)),Li=t}return Li}function dx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function fx(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function vN(t,s,a,o,d){if(s==="submit"&&a&&a.stateNode===d){var m=dx((d[Ot]||null).action),v=o.submitter;v&&(s=(s=v[Ot]||null)?dx(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var w=new gs("action","action",null,o,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Li!==0){var k=v?fx(d,v):new FormData(d);Gd(a,{pending:!0,data:k,method:d.method,action:m},null,k)}}else typeof m=="function"&&(w.preventDefault(),k=v?fx(d,v):new FormData(d),Gd(a,{pending:!0,data:k,method:d.method,action:m},m,k))},currentTarget:d}]})}}for(var Sf=0;Sf<od.length;Sf++){var Af=od[Sf],bN=Af.toLowerCase(),_N=Af[0].toUpperCase()+Af.slice(1);Xn(bN,"on"+_N)}Xn(Fg,"onAnimationEnd"),Xn(Gg,"onAnimationIteration"),Xn(Kg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(L_,"onTransitionRun"),Xn(P_,"onTransitionStart"),Xn(z_,"onTransitionCancel"),Xn(Qg,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function mx(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],d=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var v=o.length-1;0<=v;v--){var w=o[v],k=w.instance,B=w.currentTarget;if(w=w.listener,k!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=B;try{m(d)}catch($){zc($)}d.currentTarget=null,m=k}else for(v=0;v<o.length;v++){if(w=o[v],k=w.instance,B=w.currentTarget,w=w.listener,k!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=B;try{m(d)}catch($){zc($)}d.currentTarget=null,m=k}}}}function De(t,s){var a=s[ra];a===void 0&&(a=s[ra]=new Set);var o=t+"__bubble";a.has(o)||(gx(s,t,2,!1),a.add(o))}function Cf(t,s,a){var o=0;s&&(o|=4),gx(a,t,o,s)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Rf(t){if(!t[Eu]){t[Eu]=!0,Al.forEach(function(a){a!=="selectionchange"&&(NN.has(a)||Cf(a,!1,t),Cf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Eu]||(s[Eu]=!0,Cf("selectionchange",!1,s))}}function gx(t,s,a,o){switch(Fx(s)){case 2:var d=$N;break;case 8:d=ZN;break;default:d=Gf}a=d.bind(null,s,a,t),d=void 0,!vr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function If(t,s,a,o,d){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var w=o.stateNode.containerInfo;if(w===d)break;if(v===4)for(v=o.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;w!==null;){if(v=os(w),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){o=m=v;continue e}w=w.parentNode}}o=o.return}yi(function(){var B=m,$=jn(a),W=[];e:{var H=Yg.get(t);if(H!==void 0){var K=gs,de=t;switch(t){case"keypress":if(_r(a)===0)break e;case"keydown":case"keyup":K=Vc;break;case"focusin":de="focus",K=Tr;break;case"focusout":de="blur",K=Tr;break;case"beforeblur":case"afterblur":K=Tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case Fg:case Gg:case Kg:K=Cc;break;case Qg:K=E;break;case"scroll":case"scrollend":K=Ul;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Vs;break;case"toggle":case"beforetoggle":K=Ae}var ve=(s&4)!==0,tt=!ve&&(t==="scroll"||t==="scrollend"),L=ve?H!==null?H+"Capture":null:H;ve=[];for(var M=B,q;M!==null;){var J=M;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||L===null||(J=Gn(M,L),J!=null&&ve.push(yo(M,J,q))),tt)break;M=M.return}0<ve.length&&(H=new K(H,de,null,a,$),W.push({event:H,listeners:ve}))}}if((s&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==Ll&&(de=a.relatedTarget||a.fromElement)&&(os(de)||de[as]))break e;if((K||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=B,de=de?os(de):null,de!==null&&(tt=u(de),ve=de.tag,de!==tt||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(K=null,de=B),K!==de)){if(ve=ql,J="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Vs,J="onPointerLeave",L="onPointerEnter",M="pointer"),tt=K==null?H:mn(K),q=de==null?H:mn(de),H=new ve(J,M+"leave",K,a,$),H.target=tt,H.relatedTarget=q,J=null,os($)===B&&(ve=new ve(L,M+"enter",de,a,$),ve.target=q,ve.relatedTarget=tt,J=ve),tt=J,K&&de)t:{for(ve=TN,L=K,M=de,q=0,J=L;J;J=ve(J))q++;J=0;for(var ge=M;ge;ge=ve(ge))J++;for(;0<q-J;)L=ve(L),q--;for(;0<J-q;)M=ve(M),J--;for(;q--;){if(L===M||M!==null&&L===M.alternate){ve=L;break t}L=ve(L),M=ve(M)}ve=null}else ve=null;K!==null&&px(W,H,K,ve,!1),de!==null&&tt!==null&&px(W,tt,de,ve,!0)}}e:{if(H=B?mn(B):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var He=Dg;else if(Ig(H))if(Mg)He=M_;else{He=k_;var fe=I_}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ca(B.elementType)&&(He=Dg):He=D_;if(He&&(He=He(t,B))){kg(W,He,a,$);break e}fe&&fe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Ml(H,"number",H.value)}switch(fe=B?mn(B):window,t){case"focusin":(Ig(fe)||fe.contentEditable==="true")&&(xa=fe,rd=B,Kl=null);break;case"focusout":Kl=rd=xa=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Bg(W,a,$);break;case"selectionchange":if(V_)break;case"keydown":case"keyup":Bg(W,a,$)}var Ie;if(Ge)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else pa?wr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(ys&&a.locale!=="ko"&&(pa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&pa&&(Ie=zl()):(ms=$,Pl="value"in ms?ms.value:ms.textContent,pa=!0)),fe=ju(B,Oe),0<fe.length&&(Oe=new xs(Oe,t,null,a,$),W.push({event:Oe,listeners:fe}),Ie?Oe.data=Ie:(Ie=ga(a),Ie!==null&&(Oe.data=Ie)))),(Ie=An?S_(t,a):A_(t,a))&&(Oe=ju(B,"onBeforeInput"),0<Oe.length&&(fe=new xs("onBeforeInput","beforeinput",null,a,$),W.push({event:fe,listeners:Oe}),fe.data=Ie)),vN(W,t,B,a,$)}mx(W,s)})}function yo(t,s,a){return{instance:t,listener:s,currentTarget:a}}function ju(t,s){for(var a=s+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Gn(t,a),d!=null&&o.unshift(yo(t,d,m)),d=Gn(t,s),d!=null&&o.push(yo(t,d,m))),t.tag===3)return o;t=t.return}return[]}function TN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function px(t,s,a,o,d){for(var m=s._reactName,v=[];a!==null&&a!==o;){var w=a,k=w.alternate,B=w.stateNode;if(w=w.tag,k!==null&&k===o)break;w!==5&&w!==26&&w!==27||B===null||(k=B,d?(B=Gn(a,m),B!=null&&v.unshift(yo(a,B,k))):d||(B=Gn(a,m),B!=null&&v.push(yo(a,B,k)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var wN=/\r\n?/g,EN=/\u0000|\uFFFD/g;function xx(t){return(typeof t=="string"?t:""+t).replace(wN,`
`).replace(EN,"")}function yx(t,s){return s=xx(s),xx(t)===s}function et(t,s,a,o,d,m){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&an(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Vl(t,o,m);break;case"data":if(s!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ua(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",d.name,d,null),et(t,s,"formEncType",d.formEncType,d,null),et(t,s,"formMethod",d.formMethod,d,null),et(t,s,"formTarget",d.formTarget,d,null)):(et(t,s,"encType",d.encType,d,null),et(t,s,"method",d.method,d,null),et(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ua(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ua(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":De("beforetoggle",t),De("toggle",t),la(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jc.get(a)||a,la(t,a,o))}}function kf(t,s,a,o,d,m){switch(a){case"style":Vl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=t[Ot]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,d);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):la(t,a,o)}}}function Gt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,m,v,a,null)}}d&&et(t,s,"srcSet",a.srcSet,a,null),o&&et(t,s,"src",a.src,a,null);return;case"input":De("invalid",t);var w=m=v=d=null,k=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":d=$;break;case"type":v=$;break;case"checked":k=$;break;case"defaultChecked":B=$;break;case"value":m=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:et(t,s,o,$,a,null)}}Tc(t,m,w,k,B,v,d,!1);return;case"select":De("invalid",t),o=v=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":v=w;break;case"multiple":o=w;default:et(t,s,d,w,a,null)}s=m,a=v,t.multiple=!!o,s!=null?mi(t,!!o,s,!1):a!=null&&mi(t,!!o,a,!0);return;case"textarea":De("invalid",t),m=d=o=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":o=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:et(t,s,v,w,a,null)}gi(t,o,d,m);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,s,k,o,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<xo.length;o++)De(xo[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,B,o,a,null)}return;default:if(ca(s)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&kf(t,s,$,o,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(o=a[w],o!=null&&et(t,s,w,o,a,null))}function jN(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,w=null,k=null,B=null,$=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=W;default:o.hasOwnProperty(K)||et(t,s,K,null,o,W)}}for(var H in o){var K=o[H];if(W=a[H],o.hasOwnProperty(H)&&(K!=null||W!=null))switch(H){case"type":m=K;break;case"name":d=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":v=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==W&&et(t,s,H,K,o,W)}}oa(t,v,w,k,B,$,m,d);return;case"select":K=v=w=H=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":K=k;default:o.hasOwnProperty(m)||et(t,s,m,null,o,k)}for(d in o)if(m=o[d],k=a[d],o.hasOwnProperty(d)&&(m!=null||k!=null))switch(d){case"value":H=m;break;case"defaultValue":w=m;break;case"multiple":v=m;default:m!==k&&et(t,s,d,m,o,k)}s=w,a=v,o=K,H!=null?mi(t,!!a,H,!1):!!o!=!!a&&(s!=null?mi(t,!!a,s,!0):mi(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,s,w,null,o,d)}for(v in o)if(d=o[v],m=a[v],o.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":H=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&et(t,s,v,d,o,m)}wc(t,H,K);return;case"option":for(var de in a)if(H=a[de],a.hasOwnProperty(de)&&H!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:et(t,s,de,null,o,H)}for(k in o)if(H=o[k],K=a[k],o.hasOwnProperty(k)&&H!==K&&(H!=null||K!=null))switch(k){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:et(t,s,k,H,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!o.hasOwnProperty(ve)&&et(t,s,ve,null,o,H);for(B in o)if(H=o[B],K=a[B],o.hasOwnProperty(B)&&H!==K&&(H!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:et(t,s,B,H,o,K)}return;default:if(ca(s)){for(var tt in a)H=a[tt],a.hasOwnProperty(tt)&&H!==void 0&&!o.hasOwnProperty(tt)&&kf(t,s,tt,void 0,o,H);for($ in o)H=o[$],K=a[$],!o.hasOwnProperty($)||H===K||H===void 0&&K===void 0||kf(t,s,$,H,o,K);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!o.hasOwnProperty(L)&&et(t,s,L,null,o,H);for(W in o)H=o[W],K=a[W],!o.hasOwnProperty(W)||H===K||H==null&&K==null||et(t,s,W,H,o,K)}function vx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var d=a[o],m=d.transferSize,v=d.initiatorType,w=d.duration;if(m&&w&&vx(v)){for(v=0,w=d.responseEnd,o+=1;o<a.length;o++){var k=a[o],B=k.startTime;if(B>w)break;var $=k.transferSize,W=k.initiatorType;$&&vx(W)&&(k=k.responseEnd,v+=$*(k<w?1:(w-B)/(k-B)))}if(--o,s+=8*(m+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Df=null,Mf=null;function Su(t){return t.nodeType===9?t:t.ownerDocument}function bx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _x(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Of(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vf=null;function AN(){var t=window.event;return t&&t.type==="popstate"?t===Vf?!1:(Vf=t,!0):(Vf=null,!1)}var Nx=typeof setTimeout=="function"?setTimeout:void 0,CN=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,RN=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(IN)}:Nx;function IN(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function wx(t,s){var a=s,o=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(d),Fa(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")vo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vo(a);for(var m=a.firstChild;m;){var v=m.nextSibling,w=m.nodeName;m[ls]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&vo(t.ownerDocument.body);a=d}while(a);Fa(s)}function Ex(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Lf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lf(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kN(t,s,a,o){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ls])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function DN(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function jx(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=On(t.nextSibling),t===null))return null;return t}function Pf(t){return t.data==="$?"||t.data==="$~"}function zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MN(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function On(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Uf=null;function Sx(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return On(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Ax(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Cx(t,s,a){switch(s=Su(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);aa(t)}var Vn=new Map,Rx=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zs=le.d;le.d={f:ON,r:VN,D:LN,C:PN,L:zN,m:UN,X:BN,S:qN,M:HN};function ON(){var t=Zs.f(),s=vu();return t||s}function VN(t){var s=En(t);s!==null&&s.tag===5&&s.type==="form"?Qp(s):Zs.r(t)}var qa=typeof document>"u"?null:document;function Ix(t,s,a){var o=qa;if(o&&typeof s=="string"&&s){var d=rn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Rx.has(d)||(Rx.add(d),t={rel:t,crossOrigin:a,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),Gt(s,"link",t),_t(s),o.head.appendChild(s)))}}function LN(t){Zs.D(t),Ix("dns-prefetch",t,null)}function PN(t,s){Zs.C(t,s),Ix("preconnect",t,s)}function zN(t,s,a){Zs.L(t,s,a);var o=qa;if(o&&t&&s){var d='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+rn(a.imageSizes)+'"]')):d+='[href="'+rn(t)+'"]';var m=d;switch(s){case"style":m=Ba(t);break;case"script":m=Ha(t)}Vn.has(m)||(t=S({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Vn.set(m,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(bo(m))||s==="script"&&o.querySelector(_o(m))||(s=o.createElement("link"),Gt(s,"link",t),_t(s),o.head.appendChild(s)))}}function UN(t,s){Zs.m(t,s);var a=qa;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ha(t)}if(!Vn.has(m)&&(t=S({rel:"modulepreload",href:t},s),Vn.set(m,t),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_o(m)))return}o=a.createElement("link"),Gt(o,"link",t),_t(o),a.head.appendChild(o)}}}function qN(t,s,a){Zs.S(t,s,a);var o=qa;if(o&&t){var d=cs(o).hoistableStyles,m=Ba(t);s=s||"default";var v=d.get(m);if(!v){var w={loading:0,preload:null};if(v=o.querySelector(bo(m)))w.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Vn.get(m))&&qf(t,a);var k=v=o.createElement("link");_t(k),Gt(k,"link",t),k._p=new Promise(function(B,$){k.onload=B,k.onerror=$}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Cu(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:w},d.set(m,v)}}}function BN(t,s){Zs.X(t,s);var a=qa;if(a&&t){var o=cs(a).hoistableScripts,d=Ha(t),m=o.get(d);m||(m=a.querySelector(_o(d)),m||(t=S({src:t,async:!0},s),(s=Vn.get(d))&&Bf(t,s),m=a.createElement("script"),_t(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function HN(t,s){Zs.M(t,s);var a=qa;if(a&&t){var o=cs(a).hoistableScripts,d=Ha(t),m=o.get(d);m||(m=a.querySelector(_o(d)),m||(t=S({src:t,async:!0,type:"module"},s),(s=Vn.get(d))&&Bf(t,s),m=a.createElement("script"),_t(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function kx(t,s,a,o){var d=(d=Re.current)?Au(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ba(a.href),a=cs(d).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var m=cs(d).hoistableStyles,v=m.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=d.querySelector(bo(t)))&&!m._p&&(v.instance=m,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),m||FN(d,t,a,v.state))),s&&o===null)throw Error(r(528,""));return v}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ha(a),a=cs(d).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ba(t){return'href="'+rn(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Dx(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function FN(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Gt(s,"link",a),_t(s),t.head.appendChild(s))}function Ha(t){return'[src="'+rn(t)+'"]'}function _o(t){return"script[async]"+t}function Mx(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return s.instance=o,_t(o),o;var d=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),_t(o),Gt(o,"style",d),Cu(o,a.precedence,t),s.instance=o;case"stylesheet":d=Ba(a.href);var m=t.querySelector(bo(d));if(m)return s.state.loading|=4,s.instance=m,_t(m),m;o=Dx(a),(d=Vn.get(d))&&qf(o,d),m=(t.ownerDocument||t).createElement("link"),_t(m);var v=m;return v._p=new Promise(function(w,k){v.onload=w,v.onerror=k}),Gt(m,"link",o),s.state.loading|=4,Cu(m,a.precedence,t),s.instance=m;case"script":return m=Ha(a.src),(d=t.querySelector(_o(m)))?(s.instance=d,_t(d),d):(o=a,(d=Vn.get(m))&&(o=S({},a),Bf(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),_t(d),Gt(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Cu(o,a.precedence,t));return s.instance}function Cu(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,v=0;v<o.length;v++){var w=o[v];if(w.dataset.precedence===s)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function qf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Bf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Ru=null;function Ox(t,s,a){if(Ru===null){var o=new Map,d=Ru=new Map;d.set(a,o)}else d=Ru,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[ls]||m[bt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=t+v;var w=o.get(v);w?w.push(m):o.set(v,[m])}}return o}function Vx(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function GN(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Lx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KN(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Ba(o.href),m=s.querySelector(bo(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Iu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,_t(m);return}m=s.ownerDocument||s,o=Dx(o),(d=Vn.get(d))&&qf(o,d),m=m.createElement("link"),_t(m);var v=m;v._p=new Promise(function(w,k){v.onload=w,v.onerror=k}),Gt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Iu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Hf=0;function QN(t,s){return t.stylesheets&&t.count===0&&Du(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Du(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Hf===0&&(Hf=62500*SN());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Du(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Hf?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Du(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,s.forEach(YN,t),ku=null,Iu.call(t))}function YN(t,s){if(!(s.state.loading&4)){var a=ku.get(t);if(a)var o=a.get(null);else{a=new Map,ku.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}d=s.instance,v=d.getAttribute("data-precedence"),m=a.get(v)||o,m===o&&a.set(null,d),a.set(v,d),this.count++,o=Iu.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var No={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function XN(t,s,a,o,d,m,v,w,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Px(t,s,a,o,d,m,v,w,k,B,$,W){return t=new XN(t,s,a,v,k,B,$,W,w),s=1,m===!0&&(s|=24),m=xn(3,null,null,s),t.current=m,m.stateNode=t,s=_d(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:s},Ed(m),t}function zx(t){return t?(t=ba,t):ba}function Ux(t,s,a,o,d,m){d=zx(d),o.context===null?o.context=d:o.pendingContext=d,o=Si(s),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Ai(t,o,s),a!==null&&(hn(a,t,s),Wl(a,t,s))}function qx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Ff(t,s){qx(t,s),(t=t.alternate)&&qx(t,s)}function Bx(t){if(t.tag===13||t.tag===31){var s=Sr(t,67108864);s!==null&&hn(s,t,67108864),Ff(t,67108864)}}function Hx(t){if(t.tag===13||t.tag===31){var s=Nn();s=gr(s);var a=Sr(t,s);a!==null&&hn(a,t,s),Ff(t,s)}}var Mu=!0;function $N(t,s,a,o){var d=Z.T;Z.T=null;var m=le.p;try{le.p=2,Gf(t,s,a,o)}finally{le.p=m,Z.T=d}}function ZN(t,s,a,o){var d=Z.T;Z.T=null;var m=le.p;try{le.p=8,Gf(t,s,a,o)}finally{le.p=m,Z.T=d}}function Gf(t,s,a,o){if(Mu){var d=Kf(o);if(d===null)If(t,s,o,Ou,a),Gx(t,o);else if(WN(d,t,s,a,o))o.stopPropagation();else if(Gx(t,o),s&4&&-1<JN.indexOf(t)){for(;d!==null;){var m=En(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=ss(m.pendingLanes);if(v!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var k=1<<31-ft(v);w.entanglements[1]|=k,v&=~k}Ns(m),(Ke&6)===0&&(xu=en()+500,po(0))}}break;case 31:case 13:w=Sr(m,2),w!==null&&hn(w,m,2),vu(),Ff(m,2)}if(m=Kf(o),m===null&&If(t,s,o,Ou,a),m===d)break;d=m}d!==null&&o.stopPropagation()}else If(t,s,o,null,a)}}function Kf(t){return t=jn(t),Qf(t)}var Ou=null;function Qf(t){if(Ou=null,t=os(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=x(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ou=t,null}function Fx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case wl:return 2;case El:return 8;case di:case Jh:return 32;case fc:return 268435456;default:return 32}default:return 32}}var Yf=!1,zi=null,Ui=null,qi=null,To=new Map,wo=new Map,Bi=[],JN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gx(t,s){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":To.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(s.pointerId)}}function Eo(t,s,a,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},s!==null&&(s=En(s),s!==null&&Bx(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function WN(t,s,a,o,d){switch(s){case"focusin":return zi=Eo(zi,t,s,a,o,d),!0;case"dragenter":return Ui=Eo(Ui,t,s,a,o,d),!0;case"mouseover":return qi=Eo(qi,t,s,a,o,d),!0;case"pointerover":var m=d.pointerId;return To.set(m,Eo(To.get(m)||null,t,s,a,o,d)),!0;case"gotpointercapture":return m=d.pointerId,wo.set(m,Eo(wo.get(m)||null,t,s,a,o,d)),!0}return!1}function Kx(t){var s=os(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,Bn(t.priority,function(){Hx(a)});return}}else if(s===31){if(s=x(a),s!==null){t.blockedOn=s,Bn(t.priority,function(){Hx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Kf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ll=o,a.target.dispatchEvent(o),Ll=null}else return s=En(a),s!==null&&Bx(s),t.blockedOn=a,!1;s.shift()}return!0}function Qx(t,s,a){Vu(t)&&a.delete(s)}function e2(){Yf=!1,zi!==null&&Vu(zi)&&(zi=null),Ui!==null&&Vu(Ui)&&(Ui=null),qi!==null&&Vu(qi)&&(qi=null),To.forEach(Qx),wo.forEach(Qx)}function Lu(t,s){t.blockedOn===s&&(t.blockedOn=null,Yf||(Yf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,e2)))}var Pu=null;function Yx(t){Pu!==t&&(Pu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(Qf(o||a)===null)continue;break}var m=En(a);m!==null&&(t.splice(s,3),s-=3,Gd(m,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function Fa(t){function s(k){return Lu(k,t)}zi!==null&&Lu(zi,t),Ui!==null&&Lu(Ui,t),qi!==null&&Lu(qi,t),To.forEach(s),wo.forEach(s);for(var a=0;a<Bi.length;a++){var o=Bi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)Kx(a),a.blockedOn===null&&Bi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],m=a[o+1],v=d[Ot]||null;if(typeof m=="function")v||Yx(a);else if(v){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[Ot]||null)w=v.formAction;else if(Qf(d)!==null)continue}else w=v.action;typeof w=="function"?a[o+1]=w:(a.splice(o,3),o-=3),Yx(a)}}}function Xx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Xf(t){this._internalRoot=t}zu.prototype.render=Xf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Nn();Ux(a,o,t,s,null,null)},zu.prototype.unmount=Xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Ux(t.current,2,null,t,null,null),vu(),s[as]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var s=vc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Bi.length&&s!==0&&s<Bi[a].priority;a++);Bi.splice(a,0,t),a===0&&Kx(t)}};var $x=e.version;if($x!=="19.2.0")throw Error(r(527,$x,"19.2.0"));le.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(s),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var t2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Un=Uu.inject(t2),Ut=Uu}catch{}}return So.createRoot=function(t,s){if(!c(t))throw Error(r(299));var a=!1,o="",d=s0,m=i0,v=r0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=Px(t,1,!1,null,null,a,o,null,d,m,v,Xx),t[as]=s.current,Rf(t),new Xf(s)},So.hydrateRoot=function(t,s,a){if(!c(t))throw Error(r(299));var o=!1,d="",m=s0,v=i0,w=r0,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),s=Px(t,1,!0,s,a??null,o,d,k,m,v,w,Xx),s.context=zx(null),a=s.current,o=Nn(),o=gr(o),d=Si(o),d.callback=null,Ai(a,d,o),a=o,s.current.lanes=a,fr(s,a),Ns(s),t[as]=s.current,Rf(t),new zu(s)},So.version="19.2.0",So}var ay;function d2(){if(ay)return Jf.exports;ay=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jf.exports=h2(),Jf.exports}var f2=d2();const m2=Lv(f2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p2=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ly=i=>{const e=p2(i);return e.charAt(0).toUpperCase()+e.slice(1)},Pv=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),x2=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Y.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:c="",children:u,iconNode:f,...x},p)=>Y.createElement("svg",{ref:p,...y2,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:Pv("lucide",c),...!u&&!x2(x)&&{"aria-hidden":"true"},...x},[...f.map(([y,N])=>Y.createElement(y,N)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(i,e)=>{const n=Y.forwardRef(({className:r,...c},u)=>Y.createElement(v2,{ref:u,iconNode:e,className:Pv(`lucide-${g2(ly(i))}`,`lucide-${i}`,r),...c}));return n.displayName=ly(i),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dl=ye("arrow-left",b2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Br=ye("arrow-right",_2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sh=ye("book-open",N2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],w2=ye("calendar",T2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tn=ye("check",E2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sn=ye("chevron-down",j2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],A2=ye("chevron-left",S2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zv=ye("chevron-right",C2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gi=ye("chevron-up",R2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ih=ye("circle-alert",I2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nl=ye("circle-check-big",k2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fr=ye("clock",D2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Uv=ye("coffee",M2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rh=ye("eye-off",O2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ah=ye("eye",V2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],P2=ye("facebook",L2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],oy=ye("flower",z2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],q2=ye("frown",U2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],H2=ye("gift",B2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],qv=ye("heart",F2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],K2=ye("info",G2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Y2=ye("instagram",Q2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Mo=ye("leaf",X2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sl=ye("loader-circle",$2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ch=ye("mail",Z2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qm=ye("map-pin",J2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eT=ye("menu",W2);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M5 12h14",key:"1ays0h"}]],Bm=ye("minus",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],sT=ye("monitor-play",nT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],rT=ye("music",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],lT=ye("pen",aT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cT=ye("phone-call",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rh=ye("phone",uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qo=ye("plus",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],fT=ye("qr-code",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nm=ye("search",mT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Hm=ye("send",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Bv=ye("share-2",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Wo=ye("shopping-bag",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Xa=ye("sliders-horizontal",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],bT=ye("smartphone",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Hv=ye("star",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TT=ye("sun",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],ET=ye("thermometer",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fv=ye("trash-2",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],AT=ye("truck",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],RT=ye("twitter",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ec=ye("user",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DT=ye("users",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],cy=ye("video",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],si=ye("x",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],LT=ye("youtube",VT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zT=ye("zap",PT),uy=[{label:"Trang Ch",href:"#"},{label:"V Chng Ti",href:"#ve-chung-toi"},{label:"Sn Phm",href:"#",children:[{label:"Tr Nguyn Bn",href:"#tra-nguyen-ban",children:[{label:"Lc Tr",href:"#luc-tra"},{label:"Bch Tr",href:"#bach-tra"},{label:"Hong Tr",href:"#hoang-tra"},{label:" Long",href:"#o-long"},{label:"Ph Nh",href:"#pho-nhi"},{label:"Hng Tr",href:"#hong-tra"}]},{label:"Tr p Hng",href:"#tra-uop-huong",children:[{label:"Tr Sen",href:"#tra-sen"},{label:"Tr Li",href:"#tra-lai"},{label:"Tr Qu",href:"#tra-que"}]},{label:"Combo & Qu Tng",href:"#qua-tang",children:[{label:"Hp Qu Tt",href:"#qua-tet"},{label:"Combo Thng Tr",href:"#combo-tra"},{label:"Qu Doanh Nghip",href:"#qua-doanh-nghiep"}]},{label:"Tr C",href:"#tra-cu",children:[{label:"B Tr",href:"#bo-tra"},{label:"m Tr",href:"#am-tra"},{label:"Chn Tr",href:"#chen-tra"},{label:"Chn Tng",href:"#chen-tong"},{label:"Tr C Khc",href:"#tra-cu-khac"}]},{label:"Tic Tr",href:"#tiec-tra",children:[{label:"Workshop",href:"#workshop"},{label:"Tic Tr",href:"#tiec-tra-service"},{label:"Kha Hc Tr Online",href:"#khoa-hoc-online"}]}]},{label:"Khm Ph",href:"#",children:[{label:"Cch Pha Tr",href:"#cach-pha-tra"},{label:"Chuyn Tr",href:"#chuyen-tra"}]},{label:"Lin H",href:"#lien-he"}],Gv=[{id:"tra-nguyen-ban",title:"Tr Mc",description:"Hng v tr mc mc t nhng i cao nguyn.",image:"/images/tra-moc-bg.png",link:"#tra-nguyen-ban"},{id:"tra-uop-huong",title:"Tr p Hng",description:"S ha quyn tinh t gia tr v nhng ma hoa qu.",image:"/images/tra-uop-huong.png",link:"#tra-uop-huong"},{id:"tra-cu",title:"Tr C & Ph Kin",description:"Dng c thng tr tinh xo, nng tm ngh thut.",image:"images/tra-cu.jpg",link:"#tra-cu"},{id:"qua-tang",title:"Hp Qu ChuLeaf",description:"Gi trn tm tnh trong tng hp qu biu tng.",image:"images/qua-tang.jpg",link:"#qua-tang"}],UT=[{id:"luc-tra",title:"Lc Tr",description:"V cht du, hu ngt, hng cm non c trng Thi Nguyn.",image:"https://images.unsplash.com/photo-1627435601361-ec25f5b1d0e5?q=80&w=400&auto=format&fit=crop"},{id:"bach-tra",title:"Bch Tr",description:"Bp non ph lng tuyt trng, hng v thanh tao tinh khit.",image:"https://images.unsplash.com/photo-1576092768241-dec231879fc3?q=80&w=400&auto=format&fit=crop"},{id:"o-long",title:" Long",description:"Vin trn, hng hoa lan thm ngt, v m  kh qun.",image:"https://images.unsplash.com/photo-1563911892437-1feda0179e1b?q=80&w=400&auto=format&fit=crop"},{id:"hong-tra",title:"Hng Tr",description:"Mnh m, sc nc  thm, v ngt mt ong t nhin.",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=400&auto=format&fit=crop"},{id:"pho-nhi",title:"Ph Nh",description:"Ln men theo thi gian, v trm mc, mu nc nu .",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=400&auto=format&fit=crop"},{id:"hoang-tra",title:"Hong Tr",description:"Phm tr tin vua, quy trnh ch bin cu k, hng v vng gi.",image:"https://images.unsplash.com/photo-1571934811356-5cc554bc7d0f?q=80&w=400&auto=format&fit=crop"}],Kv=[{id:"1",name:"Classic Oolong Tea",price:"250.000 ",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=600&auto=format&fit=crop",tag:"Bn chy"},{id:"2",name:"Jasmine Green Tea",price:"180.000 ",image:"https://images.unsplash.com/photo-1627435601361-ec25f5b1d0e5?q=80&w=600&auto=format&fit=crop",tag:"Mi"},{id:"3",name:"Rose Lychee Tea",price:"220.000 ",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=600&auto=format&fit=crop"},{id:"4",name:"Matcha Starter Kit",price:"850.000 ",image:"https://images.unsplash.com/photo-1532339142463-fd0a8979791a?q=80&w=600&auto=format&fit=crop",tag:"Combo"},{id:"5",name:"ChuLeaf Gift Box",price:"1.200.000 ",image:"https://images.unsplash.com/photo-1606446546044-88f89150d67f?q=80&w=600&auto=format&fit=crop",tag:"c bit"}],Bo={"tra-nguyen-ban":{id:"tra-nguyen-ban",title:"Tr Nguyn Bn",description:"B su tp nhng phm tr mc gi trn hng v tinh ty ca t tri.",breadcrumb:"Tr Nguyn Bn",parent:{label:"Sn phm",href:"#"}},"luc-tra":{id:"luc-tra",title:"Lc Tr",description:"Lc tr trong xanh, mc mc, lu gi trn vn hng v ti mi ca ni i Thi Nguyn.",breadcrumb:"Lc Tr",parent:{label:"Tr Nguyn Bn",href:"#tra-nguyen-ban"}},"bach-tra":{id:"bach-tra",title:"Bch Tr",description:"Tinh khit, thanh tao, nh sng sm ban mai trn nh Ty Cn Lnh.",breadcrumb:"Bch Tr",parent:{label:"Tr Nguyn Bn",href:"#tra-nguyen-ban"}},"hoang-tra":{id:"hoang-tra",title:"Hong Tr",description:"V ngt du, hng thm quyn r, phm tr tin vua mang sc vng vng gi.",breadcrumb:"Hong Tr",parent:{label:"Tr Nguyn Bn",href:"#tra-nguyen-ban"}},"o-long":{id:"o-long",title:" Long",description:"Hng hoa lan thm ngt, v m , hu ngt su lng y thi v.",breadcrumb:" Long",parent:{label:"Tr Nguyn Bn",href:"#tra-nguyen-ban"}},"pho-nhi":{id:"pho-nhi",title:"Ph Nh",description:"Trm mc, c knh, thi gian ng li trong tng chn tr ln men theo nm thng.",breadcrumb:"Ph Nh",parent:{label:"Tr Nguyn Bn",href:"#tra-nguyen-ban"}},"hong-tra":{id:"hong-tra",title:"Hng Tr",description:"Mnh m, nng nn, sc nc  thm kiu sa v v ngt mt ong t nhin.",breadcrumb:"Hng Tr",parent:{label:"Tr Nguyn Bn",href:"#tra-nguyen-ban"}},"tra-uop-huong":{id:"tra-uop-huong",title:"Tr p Hng",description:"S giao thoa tinh t gia tr v hng hoa t nhin, nh thc mi gic quan.",breadcrumb:"Tr p Hng",parent:{label:"Sn phm",href:"#"}},"qua-tang":{id:"qua-tang",title:"Combo & Qu Tng",description:"Nhng hp qu tr tinh t, gi ghm tm chn tnh gi trao ngi trn qu.",breadcrumb:"Combo & Qu Tng",parent:{label:"Sn phm",href:"#"}},"tra-cu":{id:"tra-cu",title:"Tr C",description:"Dng c thng tr tinh xo, nng tm ngh thut tr o.",breadcrumb:"Tr C",parent:{label:"Sn phm",href:"#"}},"bo-tra":{id:"bo-tra",title:"B Tr",description:"Nhng b m chn ng b, hon ho cho bn tr ca bn.",breadcrumb:"B Tr",parent:{label:"Tr C",href:"#tra-cu"}},"am-tra":{id:"am-tra",title:"m Tr",description:"Cc loi m t sa, m gm, m s c ch tc th cng.",breadcrumb:"m Tr",parent:{label:"Tr C",href:"#tra-cu"}},"chen-tra":{id:"chen-tra",title:"Chn Tr",description:"Chn qun, chn tng a dng kiu dng v cht liu.",breadcrumb:"Chn Tr",parent:{label:"Tr C",href:"#tra-cu"}},"chen-tong":{id:"chen-tong",title:"Chn Tng",description:"Dng c lm u tr, gip nc tr trong v u v.",breadcrumb:"Chn Tng",parent:{label:"Tr C",href:"#tra-cu"}},"tra-cu-khac":{id:"tra-cu-khac",title:"Tr C Khc",description:"Lc tr, h ng tr, khay tr v cc ph kin khc.",breadcrumb:"Ph Kin",parent:{label:"Tr C",href:"#tra-cu"}},"tiec-tra":{id:"tiec-tra",title:"Tic Tr",description:"Dch v tic tr trn gi cho s kin ca bn.",breadcrumb:"Tic Tr",parent:{label:"Sn phm",href:"#"}},workshop:{id:"workshop",title:"Workshop",description:"Cc lp hc v bui chia s v vn ha tr.",breadcrumb:"Workshop",parent:{label:"Tic Tr",href:"#tiec-tra"}},"tiec-tra-service":{id:"tiec-tra-service",title:"Dch V Tic Tr",description:"Tn hng khng gian tr o ng cp ngay ti s kin ca bn.",breadcrumb:"Tic Tr",parent:{label:"Tic Tr",href:"#tiec-tra"}},"khoa-hoc-online":{id:"khoa-hoc-online",title:"Kha Hc Tr Online",description:"Hc cch pha tr v thng tr ng iu mi lc mi ni.",breadcrumb:"Kha Hc Online",parent:{label:"Tic Tr",href:"#tiec-tra"}}},Ih=[{id:"lt-1",categoryId:"luc-tra",name:"Lc Tr Thi Nguyn - Hp 50g",price:"125.000 ",image:"https://images.unsplash.com/photo-1597481499750-3e6b22637e12?q=80&w=800&auto=format&fit=crop",tag:"Mi",format:"L ri"},{id:"lt-2",categoryId:"luc-tra",name:"Lc Tr Thi Nguyn - Ti lc 20pcs",price:"85.000 ",image:"https://images.unsplash.com/photo-1627435601361-ec25f5b1d0e5?q=80&w=800&auto=format&fit=crop",tag:"Tin li",format:"Ti lc"},{id:"lt-3",categoryId:"luc-tra",name:"Lc Tr Shan Tuyt T Xa - 50g",price:"250.000 ",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=800&auto=format&fit=crop",tag:"Thng hng",format:"L ri"},{id:"bt-1",categoryId:"bach-tra",name:"Bch Tr Tin - 50g",price:"350.000 ",image:"https://images.unsplash.com/photo-1576092768241-dec231879fc3?q=80&w=800&auto=format&fit=crop",tag:"Cao cp",format:"L ri"},{id:"bt-2",categoryId:"bach-tra",name:"Bch Tr Mng Rng - 100g",price:"500.000 ",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=800&auto=format&fit=crop",format:"L ri"},{id:"ht-1",categoryId:"hoang-tra",name:"Hong Tr C Th",price:"400.000 ",image:"https://images.unsplash.com/photo-1627435601361-ec25f5b1d0e5?q=80&w=800&auto=format&fit=crop",format:"L ri"},{id:"ol-1",categoryId:"o-long",name:" Long Cao Sn",price:"250.000 ",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=800&auto=format&fit=crop",tag:"Bn chy",format:"L ri"},{id:"ol-3",categoryId:"o-long",name:" Long Sa - Ti lc",price:"95.000 ",image:"https://images.unsplash.com/photo-1563911892437-1feda0179e1b?q=80&w=800&auto=format&fit=crop",tag:"Tin li",format:"Ti lc"},{id:"pn-1",categoryId:"pho-nhi",name:"Ph Nh Sng 2018",price:"850.000 ",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=800&auto=format&fit=crop",tag:"Lu nm",format:"Bnh"},{id:"hot-1",categoryId:"hong-tra",name:"Hng Tr C Th",price:"220.000 ",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=800&auto=format&fit=crop",format:"L ri"},{id:"uh-1",categoryId:"tra-uop-huong",name:"Tr Sen Ty H",price:"150.000 ",image:"https://images.unsplash.com/photo-1563911892437-1feda0179e1b?q=80&w=800&auto=format&fit=crop",format:"L ri",tag:"c sn"},{id:"uh-2",categoryId:"tra-uop-huong",name:"Tr Li T Nhin",price:"120.000 ",image:"https://images.unsplash.com/photo-1627435601361-ec25f5b1d0e5?q=80&w=800&auto=format&fit=crop",format:"Ti lc"},{id:"uh-3",categoryId:"tra-uop-huong",name:"Tr Qu Cam Tho",price:"95.000 ",image:"https://images.unsplash.com/photo-1597318181409-cf64d0b5d8a2?q=80&w=800&auto=format&fit=crop",format:"L ri"},{id:"qt-1",categoryId:"qua-tang",name:'Set Qu Tng "An"',price:"550.000 ",image:"https://images.unsplash.com/photo-1549488352-843258fb82fd?q=80&w=800&auto=format&fit=crop",format:"Hp qu",tag:"Bn chy"},{id:"qt-2",categoryId:"qua-tang",name:"Hp G Sn Mi Cao Cp",price:"1.250.000 ",image:"https://images.unsplash.com/photo-1513519245088-0e12902e5a38?q=80&w=800&auto=format&fit=crop",format:"Hp qu",tag:"VIP"},{id:"bot-1",categoryId:"bo-tra",name:"B Tr T Sa Nghi Hng",price:"2.500.000 ",image:"https://images.unsplash.com/photo-1633519128522-835698b67160?q=80&w=800&auto=format&fit=crop",format:"T Sa"},{id:"bot-2",categoryId:"bo-tra",name:"B Tr S Trng V Tay",price:"850.000 ",image:"https://images.unsplash.com/photo-1578357078586-4917d485053d?q=80&w=800&auto=format&fit=crop",format:"S"},{id:"at-1",categoryId:"am-tra",name:"m T Sa Dng Ty Thi",price:"1.200.000 ",image:"https://images.unsplash.com/photo-1563205764-69a419515569?q=80&w=800&auto=format&fit=crop",format:"T Sa"},{id:"at-2",categoryId:"am-tra",name:"m Thy Tinh Chu Nhit",price:"250.000 ",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=800&auto=format&fit=crop",format:"Thy tinh"},{id:"ct-1",categoryId:"chen-tra",name:"Chn Thin Mc",price:"150.000 ",image:"https://images.unsplash.com/photo-1577937927133-66ef06acdf18?q=80&w=800&auto=format&fit=crop",format:"Gm"}],lh=[{id:"cach-pha-tra-ngon",categoryId:"cach-pha-tra",title:"Cch Pha Tr Xanh Chun V Thi Nguyn",excerpt:"Hng dn chi tit nhit  nc, thi gian hm v lng tr  c mt m tr xanh thm ngt, khng b cht ng.",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=800&auto=format&fit=crop",date:"20 T10, 2024",author:"Ngh nhn Tr Vit",content:`
            <p>Pha tr xanh khng kh, nhng  c mt m tr xanh chun v Thi Nguyn, thm hng cm non, nc xanh trong v hu ngt su th cn mt cht tinh t.</p>
            <h3>1. Chn nc pha tr</h3>
            <p>Nc l yu t quan trng nht. "Nht nc, nh tr". Nn dng nc sui hoc nc lc tinh khit. Trnh dng nc my trc tip v mi clo s lm hng hng tr.</p>
            <h3>2. Nhit  nc</h3>
            <p>ng bao gi dng nc si 100  C ngay lp tc cho tr xanh. Nhit  l tng l t 80-85  C. Nc qu nng s lm tr b "chy", dn n v ng gt v mt i hng thm tinh t.</p>
            <h3>3. Cc bc thc hin</h3>
            <ul>
                <li><strong>Trng m chn:</strong> Dng nc si trng qua m v chn  lm nng dng c v v sinh.</li>
                <li><strong>nh thc tr:</strong> Cho tr vo m, rt mt t nc xm xp mt tr ri cht b ngay. Bc ny gip l tr n ra v loi b bi bn.</li>
                <li><strong>Hm tr:</strong> Rt nc nng (80-85 ) vo m, y np v i khong 1-2 pht ty khu v.</li>
                <li><strong>Rt tr:</strong> Rt tr ra chuyn (tng)  lm u v tr trc khi rt ra cc chn qun mi khch.</li>
            </ul>
        `},{id:"cach-pha-tra-o-long",categoryId:"cach-pha-tra",title:"Ngh Thut Thng Thc Tr  Long",excerpt:" Long l loi tr bn ln men vi hng v bin i phong ph. Khm ph cch nh thc hng hoa trong tng bp tr.",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=800&auto=format&fit=crop",date:"18 T10, 2024",author:"ChuLeaf Team",content:`
            <p>Tr  Long ni ting vi hnh dng vin trn c o v hng thm a dng t hoa lan, hoa mc n hng sa.  pha  Long ngon, cn nhit  cao hn tr xanh.</p>
            <h3>Dng c cn thit</h3>
            <p>Khuyn dng m T Sa hoc m gm  gi nhit tt. Chn Tng l khng th thiu  quan st mu nc vng ng .</p>
            <h3>Nhit  v Thi gian</h3>
            <p>S dng nc si gi (95-98  C). Thi gian hm tr  Long c th ko di t 40 giy n 1 pht cho nc u, v tng dn cho cc nc sau.  Long tt c th pha c 5-7 nc m vn gi hng v.</p>
        `},{id:"cach-lam-matcha-latte",categoryId:"cach-pha-tra",title:"T Lm Matcha Latte Ti Nh",excerpt:"Ch vi 5 pht v nhng nguyn liu n gin, bn c th t tay lm ly Matcha Latte thm bo, p mt nh ngoi qun.",image:"https://images.unsplash.com/photo-1515823662972-da6a2e4d3002?q=80&w=800&auto=format&fit=crop",date:"15 T10, 2024",author:"Barista ChuLeaf",content:`
             <p>Matcha Latte l s kt hp hon ho gia v cht nh ca tr xanh v v bo ngy ca sa ti. y l thc ung yu thch ca gii tr hin i.</p>
             <h3>Nguyn liu</h3>
             <ul>
                <li>3g bt Matcha Nht Bn (loi dng  pha ch)</li>
                <li>50ml nc nng (80  C)</li>
                <li>200ml sa ti khng ng</li>
                <li>15ml nc ng hoc mt ong</li>
             </ul>
             <h3>Cch lm</h3>
             <ol>
                <li>Ry bt matcha vo bt  trnh vn cc.</li>
                <li>Thm nc nng v dng chi chasen (hoc my nh bt) nh tan bt tr n khi ni bt mn.</li>
                <li>un m sa ti (hoc nh bt sa lnh nu ung ).</li>
                <li>Rt sa vo ly, sau  nh nhng rt ct tr matcha ln trn  to tng mu p mt.</li>
             </ol>
        `},{id:"tra-lanh-cold-brew",categoryId:"cach-pha-tra",title:"Cold Brew Tea - Xu Hng Tr Lnh Mi",excerpt:"Cch  tr lnh n gin, gii nhit ma h m vn gi trn vn vitamin v hng v thanh mt ca l tr.",image:"https://images.unsplash.com/photo-1517093602195-b40af9688b46?q=80&w=800&auto=format&fit=crop",date:"10 T10, 2024",author:"ChuLeaf Team",content:"Ni dung ang cp nht..."},{id:"lich-su-tra-viet",categoryId:"chuyen-tra",title:"Hnh Trnh Ngn Nm Ca Tr Vit",excerpt:"T nhng cy ch Shan Tuyt c th hng trm nm tui n vn ha tr  va h. Tr  i su vo tm hn ngi Vit nh th no?",image:"https://images.unsplash.com/photo-1533658298282-3783a5df6124?q=80&w=800&auto=format&fit=crop",date:"12 T10, 2024",author:"S K Tr",content:`
            <p>Vit Nam l mt trong nhng ci ni ca cy ch th gii. Trn dy Hong Lin Sn, nhng rng ch Shan Tuyt c th hng trm nm tui vn sng sng n gi sng.</p>
            <h3>Vn ha tr mc mc</h3>
            <p>Khc vi Tr o cu k ca Nht Bn hay Tr Ngh cng phu ca Trung Hoa, vn ha tr Vit mang nt mc mc, gn gi.  l bt ch xanh om c cm tm mi hng xm, l ly tr  va h mt lnh gia tra h H Ni, hay m tr mc cu i khch qu ngy Tt.</p>
            <p>Ngi Vit ung tr  tm tnh,  m u cu chuyn. "Ming tru l u cu chuyn", nhng chn tr mi l th gi cu chuyn m nng.</p>
        `},{id:"shan-tuyet-co-thu",categoryId:"chuyen-tra",title:"Shan Tuyt - Bu Vt Ca Ni Rng Ty Bc",excerpt:"Tm hiu v loi tr mc trn nh ni cao, quanh nm my ph, vi lp lng t trng mut nh tuyt ph trn bp non.",image:"https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=800&auto=format&fit=crop",date:"08 T10, 2024",author:"Ngi K Chuyn",content:`
            <p>  cao trn 1200m ti H Giang, Yn Bi, c nhng cy ch c th to ln, thn trng mc, ru phong.  l ch Shan Tuyt (ch bp tuyt).</p>
            <h3>c im c o</h3>
            <p>Bp ch to, mp, ph mt lp lng t mn trng nh tuyt. Khi pha, nc tr vng snh nh mt ong, hng thm cm mi ngo ngt, v cht du v hu ngt rt su.</p>
            <p>Shan Tuyt l loi tr sch t nhin (organic) tuyt i v cy sng nh tinh kh ca t tri, khng h c s can thip ca ha cht.</p>
        `},{id:"yen-binh-trong-chen-tra",categoryId:"chuyen-tra",title:"Tm S Yn Bnh Trong Mt Chn Tr",excerpt:"Gia bn b cuc sng, dnh 15 pht mi sng  pha mt m tr l cch thin nh n gin nht  nui dng tm hn.",image:"https://images.unsplash.com/photo-1544787219-7f47ccb76574?q=80&w=800&auto=format&fit=crop",date:"01 T10, 2024",author:"ChuLeaf Blog",content:"Ni dung ang cp nht..."}],qT=i=>i?parseInt(i.replace(/\./g,"").replace(/\D/g,""),10):0,ws=i=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(i),Qv=Y.createContext(void 0),BT=({children:i})=>{const[e,n]=Y.useState([]),[r,c]=Y.useState(!1);Y.useEffect(()=>{const z=localStorage.getItem("chuleaf_cart");z&&n(JSON.parse(z))},[]),Y.useEffect(()=>{localStorage.setItem("chuleaf_cart",JSON.stringify(e))},[e]);const u=z=>{n(V=>V.find(P=>P.id===z.id)?V.map(P=>P.id===z.id?{...P,quantity:P.quantity+1}:P):[...V,{...z,quantity:1}]),c(!0)},f=z=>{n(V=>V.filter(X=>X.id!==z))},x=(z,V)=>{if(V<1){f(z);return}n(X=>X.map(P=>P.id===z?{...P,quantity:V}:P))},p=()=>{n([]),localStorage.removeItem("chuleaf_cart")},y=()=>c(!0),N=()=>c(!1),S=e.reduce((z,V)=>z+qT(V.price)*V.quantity,0),I=e.reduce((z,V)=>z+V.quantity,0);return l.jsx(Qv.Provider,{value:{cartItems:e,addToCart:u,removeFromCart:f,updateQuantity:x,clearCart:p,isMiniCartOpen:r,openMiniCart:y,closeMiniCart:N,cartTotal:S,cartCount:I},children:i})},fl=()=>{const i=Y.useContext(Qv);if(i===void 0)throw new Error("useCart must be used within a CartProvider");return i},HT=()=>{const[i,e]=Y.useState(!1),[n,r]=Y.useState(!1),[c,u]=Y.useState(null),[f,x]=Y.useState(null),[p,y]=Y.useState(!1),[N,S]=Y.useState(""),[I,z]=Y.useState(["Tr xanh","m t sa","Qu tng"]),V=Y.useRef(null),X=Y.useRef(null),{cartCount:P,openMiniCart:se}=fl();Y.useEffect(()=>{const _=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]),Y.useEffect(()=>{const _=T=>{X.current&&!X.current.contains(T.target)&&(N||y(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[N]),Y.useEffect(()=>{p&&V.current&&V.current.focus()},[p]);const ie=(_,T)=>{_.preventDefault(),T==="#"||T===""?(window.location.hash&&window.location.hash!=="#"&&(window.location.hash=""),window.scrollTo({top:0,behavior:"smooth"})):window.location.hash=T,r(!1),u(null)},re=_=>{var T;_.preventDefault(),N.trim()&&(I.includes(N)||z(A=>[N,...A].slice(0,5)),window.location.hash=`#search?q=${encodeURIComponent(N.trim())}`,y(!1),(T=V.current)==null||T.blur())},ce=()=>{y(!p),p||setTimeout(()=>{var _;return(_=V.current)==null?void 0:_.focus()},100)},F=_=>{x(f===_?null:_)},Q=N?Kv.filter(_=>_.name.toLowerCase().includes(N.toLowerCase())).slice(0,2):[];return l.jsxs("header",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${i?"bg-stone-950 py-3 shadow-md":"bg-stone-950 py-4"}`,children:[l.jsx("div",{className:"container mx-auto px-4 lg:px-8 relative",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",children:l.jsxs("a",{href:"#",onClick:_=>ie(_,"#"),className:"flex items-center gap-3 group",children:[l.jsx("div",{className:"w-10 h-10 bg-rust-500 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-inner group-hover:bg-rust-600 transition-colors",children:"c"}),l.jsx("span",{className:"text-xl font-bold text-stone-100 tracking-tight group-hover:text-white transition-colors",children:"ChuLeaf Co."})]})}),l.jsx("nav",{className:`hidden xl:flex items-center space-x-6 ${p?"opacity-0 pointer-events-none w-0 overflow-hidden":"opacity-100"} transition-all duration-300`,children:uy.map(_=>l.jsxs("div",{className:"relative group",onMouseEnter:()=>_.children&&u(_.label),onMouseLeave:()=>u(null),children:[l.jsxs("a",{href:_.href,onClick:T=>ie(T,_.href),className:`text-stone-300 hover:text-white px-2 py-2 font-medium text-sm tracking-wide transition-colors flex items-center gap-1 ${c===_.label?"text-white":""}`,children:[_.label,_.children&&l.jsx(sn,{size:14,className:"opacity-70"})]}),_.children&&l.jsx("div",{className:`absolute left-0 top-full pt-4 transition-all duration-200 transform origin-top-left z-50 ${c===_.label?"opacity-100 scale-100 visible":"opacity-0 scale-95 invisible"}`,children:_.label==="Sn Phm"?l.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-stone-100 overflow-hidden p-8 w-[800px] grid grid-cols-3 gap-x-8 gap-y-12",children:_.children.slice(0,6).map((T,A)=>l.jsxs("div",{className:"flex flex-col",children:[l.jsx("a",{href:T.href,onClick:j=>ie(j,T.href),className:"font-bold text-stone-900 text-base hover:text-rust-600 block mb-3 border-b border-stone-100 pb-2",children:T.label}),T.children&&l.jsx("div",{className:"space-y-2",children:T.children.map((j,C)=>l.jsx("a",{href:j.href,onClick:D=>ie(D,j.href),className:"block text-sm text-stone-600 hover:text-rust-500 hover:translate-x-1 transition-all",children:j.label},C))})]},A))}):l.jsx("div",{className:"bg-white rounded-lg shadow-xl border border-stone-100 overflow-hidden py-2 w-[200px]",children:_.children.map((T,A)=>l.jsx("a",{href:T.href,onClick:j=>ie(j,T.href),className:"block px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50 hover:text-rust-600 font-medium",children:T.label},A))})})]},_.label))}),l.jsx("div",{className:`flex-1 relative mx-4 transition-all duration-300 ${p?"max-w-3xl":"max-w-xs"}`,ref:X,children:l.jsxs("form",{onSubmit:re,className:"relative group",children:[l.jsxs("div",{className:`relative flex items-center w-full rounded-full transition-all duration-300 border ${p?"bg-stone-800 border-stone-700":"bg-transparent border-transparent hover:bg-stone-800"}`,children:[!p&&l.jsx("button",{type:"button",onClick:ce,className:"absolute right-0 p-2 text-stone-300 hover:text-white",children:l.jsx(nm,{size:20})}),l.jsx("input",{ref:V,type:"text",value:N,onChange:_=>S(_.target.value),onFocus:()=>y(!0),placeholder:p?"Tm kim tr, dng c...":"",className:`w-full py-2.5 pl-5 pr-12 rounded-full border-none outline-none font-medium transition-all ${p?"opacity-100 visible bg-stone-800 text-white placeholder-stone-400":"opacity-0 invisible w-0"}`}),p&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"submit",className:"absolute right-8 p-2 text-stone-400 hover:text-rust-500",children:l.jsx(nm,{size:18})}),l.jsx("button",{type:"button",onClick:()=>{S(""),y(!1)},className:"absolute right-2 p-2 text-stone-400 hover:text-stone-300",children:l.jsx(si,{size:18})})]})]}),p&&l.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white rounded-xl shadow-2xl border border-stone-100 overflow-hidden animate-fade-in z-50",children:N?l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-2 text-xs font-bold text-stone-400 uppercase tracking-wider",children:"Gi  tm kim"}),l.jsxs("ul",{className:"mb-4 space-y-1",children:[l.jsx("li",{children:l.jsxs("button",{className:"w-full text-left px-3 py-2 text-stone-700 hover:bg-stone-50 rounded-lg flex items-center gap-2 font-medium",children:[l.jsx(nm,{size:14,className:"text-stone-400"}),' "',N,'"']})}),Gv.filter(_=>_.title.toLowerCase().includes(N.toLowerCase())).map(_=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>window.location.hash=_.link,className:"w-full text-left px-3 py-2 text-stone-700 hover:bg-stone-50 rounded-lg flex items-center gap-2",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-rust-500 rounded-full"})," Danh mc: ",_.title]})},_.id))]}),Q.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-2 text-xs font-bold text-stone-400 uppercase tracking-wider border-t border-stone-100 pt-3",children:"Sn phm ph hp"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:Q.map(_=>l.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-stone-50 rounded-lg cursor-pointer",onClick:()=>window.location.hash=`#search?q=${_.name}`,children:[l.jsx("img",{src:_.image,className:"w-10 h-10 rounded object-cover",alt:""}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold text-stone-800",children:_.name}),l.jsx("div",{className:"text-xs text-stone-500",children:_.price})]})]},_.id))})]}),l.jsxs("button",{type:"submit",className:"w-full mt-3 py-3 bg-stone-900 text-white text-sm font-bold rounded-lg hover:bg-rust-500 transition-colors",children:['Xem tt c kt qu cho "',N,'"']})]}):l.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x divide-stone-100",children:[l.jsxs("div",{className:"p-5 w-full md:w-1/2",children:[l.jsxs("div",{className:"mb-3 text-xs font-bold text-stone-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Fr,{size:12})," Tm kim gn y"]}),l.jsx("ul",{className:"space-y-1",children:I.map((_,T)=>l.jsx("li",{children:l.jsx("button",{onClick:()=>{S(_),re({preventDefault:()=>{}})},className:"block w-full text-left px-3 py-2 text-sm text-stone-600 hover:text-rust-600 hover:bg-stone-50 rounded-lg transition-colors",children:_})},T))})]}),l.jsxs("div",{className:"p-5 w-full md:w-1/2 bg-stone-50/50",children:[l.jsx("div",{className:"mb-3 text-xs font-bold text-stone-400 uppercase tracking-wider",children:"Xu hng tm kim"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:["Hng tr","Bch tr","m t sa","Qu tt","Matcha"].map(_=>l.jsx("button",{onClick:()=>{S(_),re({preventDefault:()=>{}})},className:"px-3 py-1.5 bg-white border border-stone-200 rounded-full text-xs text-stone-600 hover:border-rust-500 hover:text-rust-500 transition-colors shadow-sm",children:_},_))})]})]})})]})}),l.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[l.jsxs("a",{href:"#account",onClick:_=>ie(_,"#account"),className:"hidden md:flex items-center gap-2 text-stone-300 hover:text-white px-3 py-2 rounded-full hover:bg-stone-800 transition-colors",children:[l.jsx(ec,{size:20}),l.jsx("span",{className:"text-sm font-medium hidden lg:inline",children:"Ti khon"})]}),l.jsxs("button",{onClick:se,className:"relative flex items-center gap-2 text-stone-300 hover:text-white px-3 py-2 rounded-full hover:bg-stone-800 transition-colors group",children:[l.jsx(Wo,{size:20,className:"group-hover:text-rust-400 transition-colors"}),l.jsx("span",{className:"text-sm font-medium hidden lg:inline",children:"Gi hng"}),P>0&&l.jsx("span",{className:"absolute top-1 right-1 lg:top-1 lg:right-2 bg-rust-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center border border-stone-900",children:P})]}),l.jsx("button",{onClick:()=>r(!n),className:"xl:hidden text-stone-300 hover:text-white p-2",children:n?l.jsx(si,{size:24}):l.jsx(eT,{size:24})})]})]})}),l.jsx("div",{className:`xl:hidden fixed inset-0 z-40 bg-stone-950 transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} pt-[80px]`,children:l.jsx("nav",{className:"h-full overflow-y-auto px-6 py-4 pb-20",children:l.jsxs("div",{className:"space-y-1",children:[uy.map(_=>l.jsxs("div",{className:"border-b border-stone-800 last:border-0",children:[l.jsxs("div",{className:"flex items-center justify-between text-lg font-medium text-stone-200 py-4 cursor-pointer",onClick:()=>_.children?F(_.label):null,children:[l.jsx("a",{href:_.href,onClick:T=>{_.children?T.preventDefault():ie(T,_.href)},children:_.label}),_.children&&l.jsx("button",{className:"p-2 text-stone-500",children:f===_.label?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})})]}),_.children&&f===_.label&&l.jsx("div",{className:"bg-stone-900 rounded-xl mb-4 p-4 space-y-4",children:_.children.map((T,A)=>l.jsxs("div",{children:[l.jsx("a",{href:T.href,onClick:j=>ie(j,T.href),className:"block text-stone-300 font-medium mb-2 hover:text-rust-400",children:T.label}),T.children&&l.jsx("div",{className:"pl-4 border-l border-stone-700 space-y-2 mt-2",children:T.children.map((j,C)=>l.jsx("a",{href:j.href,onClick:D=>ie(D,j.href),className:"block text-sm text-stone-500 hover:text-white",children:j.label},C))})]},A))})]},_.label)),l.jsx("div",{className:"border-b border-stone-800",children:l.jsx("a",{href:"#account",onClick:_=>ie(_,"#account"),className:"flex items-center justify-between text-lg font-medium text-stone-200 py-4",children:"Ti khon"})})]})})})]})},Te=({children:i,variant:e="primary",size:n="md",fullWidth:r=!1,className:c="",...u})=>{const f="inline-flex items-center justify-center font-medium transition-all duration-300 tracking-wide rounded-full focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",x={primary:"bg-rust-500 text-white hover:bg-rust-600 shadow-sm hover:shadow-md",secondary:"bg-stone-800 text-white hover:bg-stone-700 shadow-sm",outline:"border border-stone-300 text-stone-700 hover:border-rust-500 hover:text-rust-500 bg-transparent",white:"bg-white/90 text-stone-900 hover:bg-white shadow-sm backdrop-blur-sm",ghost:"text-stone-600 hover:text-rust-500 hover:bg-rust-50"},p={sm:"px-5 py-2 text-xs",md:"px-8 py-3 text-sm",lg:"px-10 py-4 text-base"},y=r?"w-full":"";return l.jsx("button",{className:`${f} ${x[e]} ${p[n]} ${y} ${c}`,...u,children:i})},FT=()=>l.jsxs("section",{className:"relative w-full h-screen min-h-[700px] flex items-center justify-center overflow-hidden bg-stone-900",children:[l.jsx("div",{className:"absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat transform scale-105 animate-slow-zoom",style:{backgroundImage:"url('images/hero4.jpg')"},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/50"})}),l.jsx("div",{className:"relative z-10 container mx-auto px-6 lg:px-12 flex flex-col items-start justify-center h-full pt-20",children:l.jsxs("div",{className:"max-w-3xl animate-fade-in-up",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/20 backdrop-blur-md text-white text-xs font-bold tracking-widest uppercase px-4 py-2 rounded-full mb-8 border border-white/20 shadow-lg",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-rust-400"}),"Welcome to ChuLeaf Co."]}),l.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl leading-tight mb-8 font-light text-white tracking-tight drop-shadow-lg",children:["Qun tr nh ",l.jsx("br",{}),l.jsx("span",{className:"font-medium text-rust-100",children:"gia lng ph th"})]}),l.jsx("p",{className:"text-lg md:text-2xl mb-12 font-light text-white leading-relaxed max-w-xl drop-shadow-md text-shadow",children:"Mt chic shop nh, dn bn n vi tr gin d thi."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-5",children:[l.jsx(Te,{size:"lg",variant:"white",className:"shadow-xl",children:"Khm ph menu"}),l.jsx(Te,{size:"lg",variant:"primary",className:"border border-white/20 bg-rust-500/90 backdrop-blur-sm shadow-xl",children:"t mua ngay"})]})]})}),l.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce text-white drop-shadow-md",children:l.jsx("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]}),GT=()=>{const i=e=>{window.location.hash=e};return l.jsx("section",{className:"py-24 bg-stone-50",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("span",{className:"text-rust-500 font-bold tracking-widest uppercase text-xs mb-3 block",children:"B Su Tp"}),l.jsx("h2",{className:"text-3xl md:text-5xl font-light text-stone-900 tracking-tight",children:"Khm Ph Th Gii Tr"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Gv.map(e=>l.jsxs("div",{onClick:()=>i(e.link),className:"relative group overflow-hidden h-[400px] rounded-3xl cursor-pointer shadow-sm",children:[l.jsxs("div",{className:"absolute inset-0 bg-stone-900",children:[l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover opacity-90 group-hover:opacity-75 transition-opacity duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-80"})]}),l.jsx("div",{className:"absolute inset-0 flex flex-col justify-end p-8",children:l.jsxs("div",{className:"transform translate-y-2 group-hover:translate-y-0 transition-transform duration-500",children:[l.jsx("h3",{className:"text-2xl font-medium text-white mb-2",children:e.title}),l.jsx("p",{className:"text-stone-300 text-sm mb-6 leading-relaxed opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-75",children:e.description}),l.jsxs("div",{className:"flex items-center gap-3 text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-all duration-500 delay-150",children:[l.jsx("span",{className:"w-8 h-8 rounded-full border border-white/30 flex items-center justify-center group-hover:bg-white group-hover:text-stone-900 transition-colors",children:l.jsx(Br,{size:14})}),l.jsx("span",{children:"Xem sn phm"})]})]})})]},e.id))})]})})},Yv=({product:i})=>{const{addToCart:e}=fl(),n=c=>{c.stopPropagation(),e(i)},r=()=>{window.location.hash=`#product/${i.id}`};return l.jsxs("div",{className:"group relative flex flex-col h-full bg-white rounded-2xl overflow-hidden transition-all duration-500 hover:shadow-xl hover:shadow-stone-200/50 border border-stone-100 cursor-pointer",onClick:r,children:[l.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-stone-50",children:[l.jsx("img",{src:i.image,alt:i.name,className:`w-full h-full object-cover transition-opacity duration-500 ease-in-out ${i.imageHover?"group-hover:opacity-0":"group-hover:scale-105"}`}),i.imageHover&&l.jsx("img",{src:i.imageHover,alt:i.name,className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-500 ease-in-out"}),i.tag&&l.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm text-stone-800 text-[10px] font-bold uppercase px-3 py-1.5 rounded-full tracking-wider shadow-sm z-10",children:i.tag}),l.jsx("div",{className:"absolute bottom-4 right-4 z-20 translate-y-12 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:l.jsx("button",{onClick:n,className:"bg-rust-500 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:bg-rust-600 transition-colors","aria-label":"Add to cart",children:l.jsx(Wo,{size:20})})})]}),l.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[l.jsx("div",{className:"flex items-start justify-between mb-2",children:l.jsx("h3",{className:"text-stone-800 font-medium text-lg group-hover:text-rust-600 transition-colors cursor-pointer",children:i.name})}),l.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[[1,2,3,4,5].map(c=>l.jsx(Hv,{size:12,className:"text-yellow-400 fill-yellow-400"},c)),l.jsx("span",{className:"text-xs text-stone-400 ml-1",children:"(24)"})]}),l.jsx("p",{className:"text-stone-600 font-bold mt-auto",children:i.price})]})]})},KT=()=>{const i=Y.useRef(null),e=n=>{i.current&&i.current.scrollBy({left:n==="left"?-350:350,behavior:"smooth"})};return l.jsx("section",{className:"py-24 bg-white overflow-hidden",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 relative",children:[l.jsxs("div",{className:"flex items-end justify-between mb-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-light text-stone-900 mb-4 tracking-tight",children:"Sn Phm Ni Bt"}),l.jsx("p",{className:"text-stone-500 font-light text-lg max-w-md",children:"Nhng hng v c yu thch nht ma ny."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>e("left"),className:"w-12 h-12 rounded-full border border-stone-200 flex items-center justify-center hover:bg-stone-900 hover:border-stone-900 hover:text-white transition-all duration-300 active:scale-95",children:l.jsx(A2,{size:20})}),l.jsx("button",{onClick:()=>e("right"),className:"w-12 h-12 rounded-full border border-stone-200 flex items-center justify-center hover:bg-stone-900 hover:border-stone-900 hover:text-white transition-all duration-300 active:scale-95",children:l.jsx(zv,{size:20})})]})]}),l.jsx("div",{ref:i,className:"flex gap-8 overflow-x-auto pb-12 snap-x snap-mandatory hide-scrollbar -mx-6 px-6 lg:mx-0 lg:px-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Kv.map(n=>l.jsx("div",{className:"min-w-[280px] md:min-w-[340px] snap-start",children:l.jsx(Yv,{product:n})},n.id))})]})})},QT=()=>{const i=()=>{window.location.hash="#ve-chung-toi",window.scrollTo({top:0,behavior:"smooth"})};return l.jsx("section",{className:"w-full bg-stone-50 py-20 lg:py-32 overflow-hidden",children:l.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[l.jsxs("div",{className:"relative order-2 lg:order-1",children:[l.jsx("div",{className:"relative w-full aspect-[4/3] rounded-[2.5rem] overflow-hidden shadow-2xl shadow-stone-200/50 bg-stone-200",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1737279146334-3a6debeec98d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D?q=80&w=1600&auto=format&fit=crop",alt:"Cozy Tea Table",className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-1000"})}),l.jsx("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-rust-200 rounded-full blur-3xl opacity-60 -z-10"}),l.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-stone-300 rounded-full blur-3xl opacity-60 -z-10"})]}),l.jsxs("div",{className:"order-1 lg:order-2",children:[l.jsx("span",{className:"text-rust-500 font-bold tracking-widest uppercase text-xs mb-6 block",children:"Trit L Thng Hiu"}),l.jsxs("h2",{className:"text-4xl md:text-6xl font-light text-stone-900 mb-8 leading-tight",children:["Chuyn Tr  ",l.jsx("br",{}),l.jsx("span",{className:"font-medium text-rust-500",children:"ChuLeaf Co"})]}),l.jsxs("div",{className:"space-y-6 text-stone-600 text-lg font-light leading-relaxed",children:[l.jsx("p",{children:"Tr khng ch l thc ung,  l mt khong lng du dng gia nhp sng hi h. Ti ChuLeaf, chng ti gom gp nhng bp tr non t nhng i cao sng ph, mang v ph th  bn tm li s bnh yn."}),l.jsx("p",{children:"Mi tch tr l mt cu chuyn, mt hng v ca qu hng, ca t tri v ca s chn thnh. Chng ti tin rng, hnh phc i khi ch n gin l mt tch tr nng trong tay."})]}),l.jsx("div",{className:"mt-10",children:l.jsx(Te,{variant:"outline",className:"rounded-full px-10",onClick:i,children:"c thm v chng ti"})})]})]})})})},YT=()=>l.jsxs("section",{className:"bg-stone-900 text-white py-24 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-stone-900 to-stone-950"}),l.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-rust-900/10 blur-3xl rounded-full transform translate-x-1/2"}),l.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-light mb-6 tracking-tight",children:"Join the ChuLeaf Community"}),l.jsx("p",{className:"text-stone-300 mb-12 max-w-xl mx-auto text-lg font-light",children:"ng k  nhn u i & cu chuyn tr mi mi tun. Mang bnh yn v nh."}),l.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 justify-center max-w-lg mx-auto",onSubmit:i=>i.preventDefault(),children:[l.jsx("input",{type:"email",placeholder:"Enter your email address",className:"px-8 py-4 rounded-full text-stone-900 flex-grow focus:outline-none focus:ring-2 focus:ring-rust-500 placeholder-stone-400 border-none shadow-xl",required:!0}),l.jsx("button",{type:"submit",className:"bg-rust-500 hover:bg-rust-600 text-white font-medium px-10 py-4 rounded-full transition-all shadow-xl hover:shadow-rust-500/20",children:"ng k"})]}),l.jsx("p",{className:"text-xs text-stone-500 mt-8",children:"By signing up, you agree to our Terms & Conditions and Privacy Policy."})]})]}),XT=()=>l.jsxs(l.Fragment,{children:[l.jsx(FT,{}),l.jsx(GT,{}),l.jsx(KT,{}),l.jsx(QT,{}),l.jsx(YT,{})]}),$T=()=>{};var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let c=i.charCodeAt(r);c<128?e[n++]=c:c<2048?(e[n++]=c>>6|192,e[n++]=c&63|128):(c&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=c>>18|240,e[n++]=c>>12&63|128,e[n++]=c>>6&63|128,e[n++]=c&63|128):(e[n++]=c>>12|224,e[n++]=c>>6&63|128,e[n++]=c&63|128)}return e},ZT=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const c=i[n++];if(c<128)e[r++]=String.fromCharCode(c);else if(c>191&&c<224){const u=i[n++];e[r++]=String.fromCharCode((c&31)<<6|u&63)}else if(c>239&&c<365){const u=i[n++],f=i[n++],x=i[n++],p=((c&7)<<18|(u&63)<<12|(f&63)<<6|x&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[r++]=String.fromCharCode((c&15)<<12|(u&63)<<6|f&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<i.length;c+=3){const u=i[c],f=c+1<i.length,x=f?i[c+1]:0,p=c+2<i.length,y=p?i[c+2]:0,N=u>>2,S=(u&3)<<4|x>>4;let I=(x&15)<<2|y>>6,z=y&63;p||(z=64,f||(I=64)),r.push(n[N],n[S],n[I],n[z])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Xv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ZT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<i.length;){const u=n[i.charAt(c++)],x=c<i.length?n[i.charAt(c)]:0;++c;const y=c<i.length?n[i.charAt(c)]:64;++c;const S=c<i.length?n[i.charAt(c)]:64;if(++c,u==null||x==null||y==null||S==null)throw new JT;const I=u<<2|x>>4;if(r.push(I),y!==64){const z=x<<4&240|y>>2;if(r.push(z),S!==64){const V=y<<6&192|S;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WT=function(i){const e=Xv(i);return $v.encodeByteArray(e,!0)},oh=function(i){return WT(i).replace(/\./g,"")},Zv=function(i){try{return $v.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=()=>ew().__FIREBASE_DEFAULTS__,nw=()=>{if(typeof process>"u"||typeof hy>"u")return;const i=hy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Zv(i[1]);return e&&JSON.parse(e)},kh=()=>{try{return $T()||tw()||nw()||sw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Jv=i=>{var e,n;return(n=(e=kh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},iw=i=>{const e=Jv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wv=()=>{var i;return(i=kh())==null?void 0:i.config},eb=i=>{var e;return(e=kh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",c=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[oh(JSON.stringify(n)),oh(JSON.stringify(f)),""].join(".")}const Oo={};function lw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Oo))Oo[e]?i.emulator.push(e):i.prod.push(e);return i}function ow(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let dy=!1;function nb(i,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Oo[i]===e||Oo[i]||dy)return;Oo[i]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=lw().prod.length>0;function f(){const I=document.getElementById(r);I&&I.remove()}function x(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,z){I.setAttribute("width","24"),I.setAttribute("id",z),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{dy=!0,f()},I}function N(I,z){I.setAttribute("id",z),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=ow(r),z=n("text"),V=document.getElementById(z)||document.createElement("span"),X=n("learnmore"),P=document.getElementById(X)||document.createElement("a"),se=n("preprendIcon"),ie=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const re=I.element;x(re),N(P,X);const ce=y();p(ie,se),re.append(ie,V,P,ce),document.body.appendChild(re)}u?(V.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function uw(){var e;const i=(e=kh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mw(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gw(){return!uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pw(){try{return typeof indexedDB=="object"}catch{return!1}}function xw(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},c.onupgradeneeded=()=>{n=!1},c.onerror=()=>{var u;e(((u=c.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="FirebaseError";class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yw,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},c=`${this.service}/${e}`,u=this.errors[e],f=u?vw(u,r):"Error",x=`${this.serviceName}: ${f} (${c}).`;return new oi(c,x,r)}}function vw(i,e){return i.replace(bw,(n,r)=>{const c=e[r];return c!=null?String(c):`<${r}?>`})}const bw=/\{\$([^}]+)}/g;function _w(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Gr(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const c of n){if(!r.includes(c))return!1;const u=i[c],f=e[c];if(fy(u)&&fy(f)){if(!Gr(u,f))return!1}else if(u!==f)return!1}for(const c of r)if(!n.includes(c))return!1;return!0}function fy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(c=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ao(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[c,u]=r.split("=");e[decodeURIComponent(c)]=decodeURIComponent(u)}}),e}function Co(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Nw(i,e){const n=new Tw(i,e);return n.subscribe.bind(n)}class Tw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let c;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ww(e,["next","error","complete"])?c=e:c={next:e,error:n,complete:r},c.next===void 0&&(c.next=sm),c.error===void 0&&(c.error=sm),c.complete===void 0&&(c.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ww(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(i){return i&&i._delegate?i._delegate:i}class Kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:n});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sw(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:c});r.resolve(u)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(u);r===x&&f.resolve(c)}return c}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),c=this.onInitCallbacks.get(r)??new Set;c.add(e),this.onInitCallbacks.set(r,c);const u=this.instances.get(r);return u&&e(u,r),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const c of r)try{c(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jw(i){return i===Ur?void 0:i}function Sw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ew(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const Cw={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Rw=Ve.INFO,Iw={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},kw=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),c=Iw[e];if(c)console[c](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=Rw,this._logHandler=kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Dw=(i,e)=>e.some(n=>i instanceof n);let my,gy;function Mw(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ow(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sb=new WeakMap,pm=new WeakMap,ib=new WeakMap,im=new WeakMap,Gm=new WeakMap;function Vw(i){const e=new Promise((n,r)=>{const c=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Zi(i.result)),c()},f=()=>{r(i.error),c()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&sb.set(n,i)}).catch(()=>{}),Gm.set(e,i),e}function Lw(i){if(pm.has(i))return;const e=new Promise((n,r)=>{const c=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),c()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),c()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});pm.set(i,e)}let xm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ib.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Pw(i){xm=i(xm)}function zw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(rm(this),e,...n);return ib.set(r,e.sort?e.sort():[e]),Zi(r)}:Ow().includes(i)?function(...e){return i.apply(rm(this),e),Zi(sb.get(this))}:function(...e){return Zi(i.apply(rm(this),e))}}function Uw(i){return typeof i=="function"?zw(i):(i instanceof IDBTransaction&&Lw(i),Dw(i,Mw())?new Proxy(i,xm):i)}function Zi(i){if(i instanceof IDBRequest)return Vw(i);if(im.has(i))return im.get(i);const e=Uw(i);return e!==i&&(im.set(i,e),Gm.set(e,i)),e}const rm=i=>Gm.get(i);function qw(i,e,{blocked:n,upgrade:r,blocking:c,terminated:u}={}){const f=indexedDB.open(i,e),x=Zi(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Zi(f.result),p.oldVersion,p.newVersion,Zi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),x.then(p=>{u&&p.addEventListener("close",()=>u()),c&&p.addEventListener("versionchange",y=>c(y.oldVersion,y.newVersion,y))}).catch(()=>{}),x}const Bw=["get","getKey","getAll","getAllKeys","count"],Hw=["put","add","delete","clear"],am=new Map;function py(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,c=Hw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(c||Bw.includes(n)))return;const u=async function(f,...x){const p=this.transaction(f,c?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(x.shift())),(await Promise.all([y[n](...x),c&&p.done]))[0]};return am.set(e,u),u}Pw(i=>({...i,get:(e,n,r)=>py(e,n)||i.get(e,n,r),has:(e,n)=>!!py(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Gw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",xy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Fm("@firebase/app"),Kw="@firebase/app-compat",Qw="@firebase/analytics-compat",Yw="@firebase/analytics",Xw="@firebase/app-check-compat",$w="@firebase/app-check",Zw="@firebase/auth",Jw="@firebase/auth-compat",Ww="@firebase/database",eE="@firebase/data-connect",tE="@firebase/database-compat",nE="@firebase/functions",sE="@firebase/functions-compat",iE="@firebase/installations",rE="@firebase/installations-compat",aE="@firebase/messaging",lE="@firebase/messaging-compat",oE="@firebase/performance",cE="@firebase/performance-compat",uE="@firebase/remote-config",hE="@firebase/remote-config-compat",dE="@firebase/storage",fE="@firebase/storage-compat",mE="@firebase/firestore",gE="@firebase/ai",pE="@firebase/firestore-compat",xE="firebase",yE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",vE={[ym]:"fire-core",[Kw]:"fire-core-compat",[Yw]:"fire-analytics",[Qw]:"fire-analytics-compat",[$w]:"fire-app-check",[Xw]:"fire-app-check-compat",[Zw]:"fire-auth",[Jw]:"fire-auth-compat",[Ww]:"fire-rtdb",[eE]:"fire-data-connect",[tE]:"fire-rtdb-compat",[nE]:"fire-fn",[sE]:"fire-fn-compat",[iE]:"fire-iid",[rE]:"fire-iid-compat",[aE]:"fire-fcm",[lE]:"fire-fcm-compat",[oE]:"fire-perf",[cE]:"fire-perf-compat",[uE]:"fire-rc",[hE]:"fire-rc-compat",[dE]:"fire-gcs",[fE]:"fire-gcs-compat",[mE]:"fire-fst",[pE]:"fire-fst-compat",[gE]:"fire-vertex","fire-js":"fire-js",[xE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,bE=new Map,bm=new Map;function yy(i,e){try{i.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function il(i){const e=i.name;if(bm.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,i);for(const n of ch.values())yy(n,i);for(const n of bE.values())yy(n,i);return!0}function Km(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new tc("app","Firebase",_E);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=yE;function rb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:vm,automaticDataCollectionEnabled:!0,...e},c=r.name;if(typeof c!="string"||!c)throw Ji.create("bad-app-name",{appName:String(c)});if(n||(n=Wv()),!n)throw Ji.create("no-options");const u=ch.get(c);if(u){if(Gr(n,u.options)&&Gr(r,u.config))return u;throw Ji.create("duplicate-app",{appName:c})}const f=new Aw(c);for(const p of bm.values())f.addComponent(p);const x=new NE(n,r,f);return ch.set(c,x),x}function ab(i=vm){const e=ch.get(i);if(!e&&i===vm&&Wv())return rb();if(!e)throw Ji.create("no-app",{appName:i});return e}function Wi(i,e,n){let r=vE[i]??i;n&&(r+=`-${n}`);const c=r.match(/\s|\//),u=e.match(/\s|\//);if(c||u){const f=[`Unable to register library "${r}" with version "${e}":`];c&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(f.join(" "));return}il(new Kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firebase-heartbeat-database",wE=1,Ho="firebase-heartbeat-store";let lm=null;function lb(){return lm||(lm=qw(TE,wE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ho)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ji.create("idb-open",{originalErrorMessage:i.message})})),lm}async function EE(i){try{const n=(await lb()).transaction(Ho),r=await n.objectStore(Ho).get(ob(i));return await n.done,r}catch(e){if(e instanceof oi)ii.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function vy(i,e){try{const r=(await lb()).transaction(Ho,"readwrite");await r.objectStore(Ho).put(e,ob(i)),await r.done}catch(n){if(n instanceof oi)ii.warn(n.message);else{const r=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(r.message)}}}function ob(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=1024,SE=30;class AE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=by();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:c}),this._heartbeatsCache.heartbeats.length>SE){const f=IE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=by(),{heartbeatsToSend:r,unsentEntries:c}=CE(this._heartbeatsCache.heartbeats),u=oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ii.warn(n),""}}}function by(){return new Date().toISOString().substring(0,10)}function CE(i,e=jE){const n=[];let r=i.slice();for(const c of i){const u=n.find(f=>f.agent===c.agent);if(u){if(u.dates.push(c.date),_y(n)>e){u.dates.pop();break}}else if(n.push({agent:c.agent,dates:[c.date]}),_y(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pw()?xw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _y(i){return oh(JSON.stringify({version:2,heartbeats:i})).length}function IE(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(i){il(new Kr("platform-logger",e=>new Fw(e),"PRIVATE")),il(new Kr("heartbeat",e=>new AE(e),"PRIVATE")),Wi(ym,xy,i),Wi(ym,xy,"esm2020"),Wi("fire-js","")}kE("");var DE="firebase",ME="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(DE,ME,"app");var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var er,cb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function A(){}A.prototype=T.prototype,_.F=T.prototype,_.prototype=new A,_.prototype.constructor=_,_.D=function(j,C,D){for(var R=Array(arguments.length-2),we=2;we<arguments.length;we++)R[we-2]=arguments[we];return T.prototype[C].apply(j,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(_,T,A){A||(A=0);const j=Array(16);if(typeof T=="string")for(var C=0;C<16;++C)j[C]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(C=0;C<16;++C)j[C]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=_.g[0],A=_.g[1],C=_.g[2];let D=_.g[3],R;R=T+(D^A&(C^D))+j[0]+3614090360&4294967295,T=A+(R<<7&4294967295|R>>>25),R=D+(C^T&(A^C))+j[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(A^D&(T^A))+j[2]+606105819&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(T^C&(D^T))+j[3]+3250441966&4294967295,A=C+(R<<22&4294967295|R>>>10),R=T+(D^A&(C^D))+j[4]+4118548399&4294967295,T=A+(R<<7&4294967295|R>>>25),R=D+(C^T&(A^C))+j[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(A^D&(T^A))+j[6]+2821735955&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(T^C&(D^T))+j[7]+4249261313&4294967295,A=C+(R<<22&4294967295|R>>>10),R=T+(D^A&(C^D))+j[8]+1770035416&4294967295,T=A+(R<<7&4294967295|R>>>25),R=D+(C^T&(A^C))+j[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(A^D&(T^A))+j[10]+4294925233&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(T^C&(D^T))+j[11]+2304563134&4294967295,A=C+(R<<22&4294967295|R>>>10),R=T+(D^A&(C^D))+j[12]+1804603682&4294967295,T=A+(R<<7&4294967295|R>>>25),R=D+(C^T&(A^C))+j[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=C+(A^D&(T^A))+j[14]+2792965006&4294967295,C=D+(R<<17&4294967295|R>>>15),R=A+(T^C&(D^T))+j[15]+1236535329&4294967295,A=C+(R<<22&4294967295|R>>>10),R=T+(C^D&(A^C))+j[1]+4129170786&4294967295,T=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(T^A))+j[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^A&(D^T))+j[11]+643717713&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^T&(C^D))+j[0]+3921069994&4294967295,A=C+(R<<20&4294967295|R>>>12),R=T+(C^D&(A^C))+j[5]+3593408605&4294967295,T=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(T^A))+j[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^A&(D^T))+j[15]+3634488961&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^T&(C^D))+j[4]+3889429448&4294967295,A=C+(R<<20&4294967295|R>>>12),R=T+(C^D&(A^C))+j[9]+568446438&4294967295,T=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(T^A))+j[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^A&(D^T))+j[3]+4107603335&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^T&(C^D))+j[8]+1163531501&4294967295,A=C+(R<<20&4294967295|R>>>12),R=T+(C^D&(A^C))+j[13]+2850285829&4294967295,T=A+(R<<5&4294967295|R>>>27),R=D+(A^C&(T^A))+j[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=C+(T^A&(D^T))+j[7]+1735328473&4294967295,C=D+(R<<14&4294967295|R>>>18),R=A+(D^T&(C^D))+j[12]+2368359562&4294967295,A=C+(R<<20&4294967295|R>>>12),R=T+(A^C^D)+j[5]+4294588738&4294967295,T=A+(R<<4&4294967295|R>>>28),R=D+(T^A^C)+j[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^A)+j[11]+1839030562&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^T)+j[14]+4259657740&4294967295,A=C+(R<<23&4294967295|R>>>9),R=T+(A^C^D)+j[1]+2763975236&4294967295,T=A+(R<<4&4294967295|R>>>28),R=D+(T^A^C)+j[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^A)+j[7]+4139469664&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^T)+j[10]+3200236656&4294967295,A=C+(R<<23&4294967295|R>>>9),R=T+(A^C^D)+j[13]+681279174&4294967295,T=A+(R<<4&4294967295|R>>>28),R=D+(T^A^C)+j[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^A)+j[3]+3572445317&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^T)+j[6]+76029189&4294967295,A=C+(R<<23&4294967295|R>>>9),R=T+(A^C^D)+j[9]+3654602809&4294967295,T=A+(R<<4&4294967295|R>>>28),R=D+(T^A^C)+j[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=C+(D^T^A)+j[15]+530742520&4294967295,C=D+(R<<16&4294967295|R>>>16),R=A+(C^D^T)+j[2]+3299628645&4294967295,A=C+(R<<23&4294967295|R>>>9),R=T+(C^(A|~D))+j[0]+4096336452&4294967295,T=A+(R<<6&4294967295|R>>>26),R=D+(A^(T|~C))+j[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~A))+j[14]+2878612391&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~T))+j[5]+4237533241&4294967295,A=C+(R<<21&4294967295|R>>>11),R=T+(C^(A|~D))+j[12]+1700485571&4294967295,T=A+(R<<6&4294967295|R>>>26),R=D+(A^(T|~C))+j[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~A))+j[10]+4293915773&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~T))+j[1]+2240044497&4294967295,A=C+(R<<21&4294967295|R>>>11),R=T+(C^(A|~D))+j[8]+1873313359&4294967295,T=A+(R<<6&4294967295|R>>>26),R=D+(A^(T|~C))+j[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~A))+j[6]+2734768916&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~T))+j[13]+1309151649&4294967295,A=C+(R<<21&4294967295|R>>>11),R=T+(C^(A|~D))+j[4]+4149444226&4294967295,T=A+(R<<6&4294967295|R>>>26),R=D+(A^(T|~C))+j[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=C+(T^(D|~A))+j[2]+718787259&4294967295,C=D+(R<<15&4294967295|R>>>17),R=A+(D^(C|~T))+j[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+C&4294967295,_.g[3]=_.g[3]+D&4294967295}r.prototype.v=function(_,T){T===void 0&&(T=_.length);const A=T-this.blockSize,j=this.C;let C=this.h,D=0;for(;D<T;){if(C==0)for(;D<=A;)c(this,_,D),D+=this.blockSize;if(typeof _=="string"){for(;D<T;)if(j[C++]=_.charCodeAt(D++),C==this.blockSize){c(this,j),C=0;break}}else for(;D<T;)if(j[C++]=_[D++],C==this.blockSize){c(this,j),C=0;break}}this.h=C,this.o+=T},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var A=_.length-8;A<_.length;++A)_[A]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,A=0;A<4;++A)for(let j=0;j<32;j+=8)_[T++]=this.g[A]>>>j&255;return _};function u(_,T){var A=x;return Object.prototype.hasOwnProperty.call(A,_)?A[_]:A[_]=T(_)}function f(_,T){this.h=T;const A=[];let j=!0;for(let C=_.length-1;C>=0;C--){const D=_[C]|0;j&&D==T||(A[C]=D,j=!1)}this.g=A}var x={};function p(_){return-128<=_&&_<128?u(_,function(T){return new f([T|0],T<0?-1:0)}):new f([_|0],_<0?-1:0)}function y(_){if(isNaN(_)||!isFinite(_))return S;if(_<0)return P(y(-_));const T=[];let A=1;for(let j=0;_>=A;j++)T[j]=_/A|0,A*=4294967296;return new f(T,0)}function N(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return P(N(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=y(Math.pow(T,8));let j=S;for(let D=0;D<_.length;D+=8){var C=Math.min(8,_.length-D);const R=parseInt(_.substring(D,D+C),T);C<8?(C=y(Math.pow(T,C)),j=j.j(C).add(y(R))):(j=j.j(A),j=j.add(y(R)))}return j}var S=p(0),I=p(1),z=p(16777216);i=f.prototype,i.m=function(){if(X(this))return-P(this).m();let _=0,T=1;for(let A=0;A<this.g.length;A++){const j=this.i(A);_+=(j>=0?j:4294967296+j)*T,T*=4294967296}return _},i.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(V(this))return"0";if(X(this))return"-"+P(this).toString(_);const T=y(Math.pow(_,6));var A=this;let j="";for(;;){const C=ce(A,T).g;A=se(A,C.j(T));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(_);if(A=C,V(A))return D+j;for(;D.length<6;)D="0"+D;j=D+j}},i.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function V(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function X(_){return _.h==-1}i.l=function(_){return _=se(this,_),X(_)?-1:V(_)?0:1};function P(_){const T=_.g.length,A=[];for(let j=0;j<T;j++)A[j]=~_.g[j];return new f(A,~_.h).add(I)}i.abs=function(){return X(this)?P(this):this},i.add=function(_){const T=Math.max(this.g.length,_.g.length),A=[];let j=0;for(let C=0;C<=T;C++){let D=j+(this.i(C)&65535)+(_.i(C)&65535),R=(D>>>16)+(this.i(C)>>>16)+(_.i(C)>>>16);j=R>>>16,D&=65535,R&=65535,A[C]=R<<16|D}return new f(A,A[A.length-1]&-2147483648?-1:0)};function se(_,T){return _.add(P(T))}i.j=function(_){if(V(this)||V(_))return S;if(X(this))return X(_)?P(this).j(P(_)):P(P(this).j(_));if(X(_))return P(this.j(P(_)));if(this.l(z)<0&&_.l(z)<0)return y(this.m()*_.m());const T=this.g.length+_.g.length,A=[];for(var j=0;j<2*T;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(let C=0;C<_.g.length;C++){const D=this.i(j)>>>16,R=this.i(j)&65535,we=_.i(C)>>>16,Ct=_.i(C)&65535;A[2*j+2*C]+=R*Ct,ie(A,2*j+2*C),A[2*j+2*C+1]+=D*Ct,ie(A,2*j+2*C+1),A[2*j+2*C+1]+=R*we,ie(A,2*j+2*C+1),A[2*j+2*C+2]+=D*we,ie(A,2*j+2*C+2)}for(_=0;_<T;_++)A[_]=A[2*_+1]<<16|A[2*_];for(_=T;_<2*T;_++)A[_]=0;return new f(A,0)};function ie(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function re(_,T){this.g=_,this.h=T}function ce(_,T){if(V(T))throw Error("division by zero");if(V(_))return new re(S,S);if(X(_))return T=ce(P(_),T),new re(P(T.g),P(T.h));if(X(T))return T=ce(_,P(T)),new re(P(T.g),T.h);if(_.g.length>30){if(X(_)||X(T))throw Error("slowDivide_ only works with positive integers.");for(var A=I,j=T;j.l(_)<=0;)A=F(A),j=F(j);var C=Q(A,1),D=Q(j,1);for(j=Q(j,2),A=Q(A,2);!V(j);){var R=D.add(j);R.l(_)<=0&&(C=C.add(A),D=R),j=Q(j,1),A=Q(A,1)}return T=se(_,C.j(T)),new re(C,T)}for(C=S;_.l(T)>=0;){for(A=Math.max(1,Math.floor(_.m()/T.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),D=y(A),R=D.j(T);X(R)||R.l(_)>0;)A-=j,D=y(A),R=D.j(T);V(D)&&(D=I),C=C.add(D),_=se(_,R)}return new re(C,_)}i.B=function(_){return ce(this,_).h},i.and=function(_){const T=Math.max(this.g.length,_.g.length),A=[];for(let j=0;j<T;j++)A[j]=this.i(j)&_.i(j);return new f(A,this.h&_.h)},i.or=function(_){const T=Math.max(this.g.length,_.g.length),A=[];for(let j=0;j<T;j++)A[j]=this.i(j)|_.i(j);return new f(A,this.h|_.h)},i.xor=function(_){const T=Math.max(this.g.length,_.g.length),A=[];for(let j=0;j<T;j++)A[j]=this.i(j)^_.i(j);return new f(A,this.h^_.h)};function F(_){const T=_.g.length+1,A=[];for(let j=0;j<T;j++)A[j]=_.i(j)<<1|_.i(j-1)>>>31;return new f(A,_.h)}function Q(_,T){const A=T>>5;T%=32;const j=_.g.length-A,C=[];for(let D=0;D<j;D++)C[D]=T>0?_.i(D+A)>>>T|_.i(D+A+1)<<32-T:_.i(D+A);return new f(C,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=N,er=f}).apply(typeof Ny<"u"?Ny:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ub,Ro,hb,Qu,_m,db,fb,mb;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var g=0;g<h.length;++g){var b=h[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function c(h,g){if(g)e:{var b=r;h=h.split(".");for(var E=0;E<h.length-1;E++){var U=h[E];if(!(U in b))break e;b=b[U]}h=h[h.length-1],E=b[h],g=g(E),g!=E&&g!=null&&e(b,h,{configurable:!0,writable:!0,value:g})}}c("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),c("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),c("Object.entries",function(h){return h||function(g){var b=[],E;for(E in g)Object.prototype.hasOwnProperty.call(g,E)&&b.push([E,g[E]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function x(h){var g=typeof h;return g=="object"&&h!=null||g=="function"}function p(h,g,b){return h.call.apply(h.bind,arguments)}function y(h,g,b){return y=p,y.apply(null,arguments)}function N(h,g){var b=Array.prototype.slice.call(arguments,1);return function(){var E=b.slice();return E.push.apply(E,arguments),h.apply(this,E)}}function S(h,g){function b(){}b.prototype=g.prototype,h.Z=g.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(E,U,G){for(var ae=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ae[Ae-2]=arguments[Ae];return g.prototype[U].apply(E,ae)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function z(h){const g=h.length;if(g>0){const b=Array(g);for(let E=0;E<g;E++)b[E]=h[E];return b}return[]}function V(h,g){for(let E=1;E<arguments.length;E++){const U=arguments[E];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=h.length||0;const G=U.length||0;h.length=b+G;for(let ae=0;ae<G;ae++)h[b+ae]=U[ae]}else h.push(U)}}class X{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(h){f.setTimeout(()=>{throw h},0)}function se(){var h=_;let g=null;return h.g&&(g=h.g,h.g=h.g.next,h.g||(h.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,b){const E=re.get();E.set(g,b),this.h?this.h.next=E:this.g=E,this.h=E}}var re=new X(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let F,Q=!1,_=new ie,T=()=>{const h=Promise.resolve(void 0);F=()=>{h.then(A)}};function A(){for(var h;h=se();){try{h.h.call(h.g)}catch(b){P(b)}var g=re;g.j(h),g.h<100&&(g.h++,h.next=g.g,g.g=h)}Q=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(h,g){this.type=h,this.g=this.target=g,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,g=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,g),f.removeEventListener("test",b,g)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function we(h,g){C.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,g)}S(we,C),we.prototype.init=function(h,g){const b=this.type=h.type,E=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=g,g=h.relatedTarget,g||(b=="mouseover"?g=h.fromElement:b=="mouseout"&&(g=h.toElement)),this.relatedTarget=g,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ct="closure_listenable_"+(Math.random()*1e6|0),Z=0;function le(h,g,b,E,U){this.listener=h,this.proxy=null,this.src=g,this.type=b,this.capture=!!E,this.ha=U,this.key=++Z,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,g,b){for(const E in h)g.call(b,h[E],E,h)}function Ye(h,g){for(const b in h)g.call(void 0,h[b],b,h)}function O(h){const g={};for(const b in h)g[b]=h[b];return g}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,g){let b,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(b in E)h[b]=E[b];for(let G=0;G<ee.length;G++)b=ee[G],Object.prototype.hasOwnProperty.call(E,b)&&(h[b]=E[b])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,g,b,E,U){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ae=Re(h,g,E,U);return ae>-1?(g=h[ae],b||(g.fa=!1)):(g=new le(g,this.src,G,!!E,U),g.fa=b,h.push(g)),g};function Ne(h,g){const b=g.type;if(b in h.g){var E=h.g[b],U=Array.prototype.indexOf.call(E,g,void 0),G;(G=U>=0)&&Array.prototype.splice.call(E,U,1),G&&(pe(g),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Re(h,g,b,E){for(let U=0;U<h.length;++U){const G=h[U];if(!G.da&&G.listener==g&&G.capture==!!b&&G.ha==E)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Rt={};function lt(h,g,b,E,U){if(Array.isArray(g)){for(let G=0;G<g.length;G++)lt(h,g[G],b,E,U);return null}return b=Tl(b),h&&h[Ct]?h.J(g,b,x(E)?!!E.capture:!1,U):cr(h,g,b,!1,E,U)}function cr(h,g,b,E,U,G){if(!g)throw Error("Invalid event type");const ae=x(U)?!!U.capture:!!U;let Ae=ur(h);if(Ae||(h[Ue]=Ae=new he(h)),b=Ae.add(g,b,E,ae,G),b.proxy)return b;if(E=ta(),b.proxy=E,E.src=h,E.listener=b,h.addEventListener)D||(U=ae),U===void 0&&(U=!1),h.addEventListener(g.toString(),E,U);else if(h.attachEvent)h.attachEvent(ts(g.toString()),E);else if(h.addListener&&h.removeListener)h.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ta(){function h(b){return g.call(h.src,h.listener,b)}const g=_l;return h}function na(h,g,b,E,U){if(Array.isArray(g))for(var G=0;G<g.length;G++)na(h,g[G],b,E,U);else E=x(E)?!!E.capture:!!E,b=Tl(b),h&&h[Ct]?(h=h.i,G=String(g).toString(),G in h.g&&(g=h.g[G],b=Re(g,b,E,U),b>-1&&(pe(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete h.g[G],h.h--)))):h&&(h=ur(h))&&(g=h.g[g.toString()],h=-1,g&&(h=Re(g,b,E,U)),(b=h>-1?g[h]:null)&&sa(b))}function sa(h){if(typeof h!="number"&&h&&!h.da){var g=h.src;if(g&&g[Ct])Ne(g.i,h);else{var b=h.type,E=h.proxy;g.removeEventListener?g.removeEventListener(b,E,h.capture):g.detachEvent?g.detachEvent(ts(b),E):g.addListener&&g.removeListener&&g.removeListener(E),(b=ur(g))?(Ne(b,h),b.h==0&&(b.src=null,g[Ue]=null)):pe(h)}}}function ts(h){return h in Rt?Rt[h]:Rt[h]="on"+h}function _l(h,g){if(h.da)h=!0;else{g=new we(g,this);const b=h.listener,E=h.ha||h.src;h.fa&&sa(h),h=b.call(E,g)}return h}function ur(h){return h=h[Ue],h instanceof he?h:null}var Nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tl(h){return typeof h=="function"?h:(h[Nl]||(h[Nl]=function(g){return h.handleEvent(g)}),h[Nl])}function yt(){j.call(this),this.i=new he(this),this.M=this,this.G=null}S(yt,j),yt.prototype[Ct]=!0,yt.prototype.removeEventListener=function(h,g,b,E){na(this,h,g,b,E)};function It(h,g){var b,E=h.G;if(E)for(b=[];E;E=E.G)b.push(E);if(h=h.M,E=g.type||g,typeof g=="string")g=new C(g,h);else if(g instanceof C)g.target=g.target||h;else{var U=g;g=new C(E,h),oe(g,U)}U=!0;let G,ae;if(b)for(ae=b.length-1;ae>=0;ae--)G=g.g=b[ae],U=hi(G,E,!0,g)&&U;if(G=g.g=h,U=hi(G,E,!0,g)&&U,U=hi(G,E,!1,g)&&U,b)for(ae=0;ae<b.length;ae++)G=g.g=b[ae],U=hi(G,E,!1,g)&&U}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var h=this.i;for(const g in h.g){const b=h.g[g];for(let E=0;E<b.length;E++)pe(b[E]);delete h.g[g],h.h--}}this.G=null},yt.prototype.J=function(h,g,b,E){return this.i.add(String(h),g,!1,b,E)},yt.prototype.K=function(h,g,b,E){return this.i.add(String(h),g,!0,b,E)};function hi(h,g,b,E){if(g=h.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let G=0;G<g.length;++G){const ae=g[G];if(ae&&!ae.da&&ae.capture==b){const Ae=ae.listener,mt=ae.ha||ae.src;ae.fa&&Ne(h.i,ae),U=Ae.call(mt,E)!==!1&&U}}return U&&!E.defaultPrevented}function Zh(h,g){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(h,g||0)}function dc(h){h.g=Zh(()=>{h.g=null,h.i&&(h.i=!1,dc(h))},h.l);const g=h.h;h.h=null,h.m.apply(null,g)}class en extends j{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:dc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(h){j.call(this),this.h=h,this.g={}}S(hr,j);var wl=[];function El(h){Be(h.g,function(g,b){this.g.hasOwnProperty(b)&&sa(g)},h),h.g={}}hr.prototype.N=function(){hr.Z.N.call(this),El(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=f.JSON.stringify,Jh=f.JSON.parse,fc=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function mc(){}function gc(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){C.call(this,"d")}S(Ut,C);function wn(){C.call(this,"c")}S(wn,C);var ft={},pc=null;function ia(){return pc=pc||new yt}ft.Ia="serverreachability";function xc(h){C.call(this,ft.Ia,h)}S(xc,C);function ns(h){const g=ia();It(g,new xc(g))}ft.STAT_EVENT="statevent";function dr(h,g){C.call(this,ft.STAT_EVENT,h),this.stat=g}S(dr,C);function vt(h){const g=ia();It(g,new dr(g,h))}ft.Ja="timingevent";function ss(h,g){C.call(this,ft.Ja,h),this.size=g}S(ss,C);function is(h,g){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},g)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Wh(h,g,b,E,U,G){h.info(function(){if(h.g)if(G){var ae="",Ae=G.split("&");for(let Ge=0;Ge<Ae.length;Ge++){var mt=Ae[Ge].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const An=ot.split("_");ae=An.length>=2&&An[1]=="type"?ae+(ot+"="+mt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+g+`
`+b+`
`+ae})}function yc(h,g,b,E,U,G,ae){h.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+g+`
`+b+`
`+G+" "+ae})}function rs(h,g,b,E){h.info(function(){return"XMLHTTP TEXT ("+g+"): "+ed(h,b)+(E?" "+E:"")})}function fr(h,g){h.info(function(){return"TIMEOUT: "+g})}qn.prototype.info=function(){};function ed(h,g){if(!h.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var b=G[h];if(!(b.length<2)){var E=b[1];if(Array.isArray(E)&&!(E.length<1)){var U=E[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ae=1;ae<E.length;ae++)E[ae]=""}}}}return di(G)}catch{return g}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function gr(){}S(gr,mc),gr.prototype.g=function(){return new XMLHttpRequest},Sl=new gr;function Ds(h){return encodeURIComponent(String(h))}function vc(h){var g=1;h=h.split(":");const b=[];for(;g>0&&h.length;)b.push(h.shift()),g--;return h.length&&b.push(h.join(":")),b}function Bn(h,g,b,E){this.j=h,this.i=g,this.l=b,this.S=E||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var bt={},Ot={};function as(h,g,b){h.M=1,h.A=pr(Nt(g)),h.u=b,h.R=!0,ra(h,null)}function ra(h,g){h.F=Date.now(),ls(h),h.B=Nt(h.A);var b=h.B,E=h.S;Array.isArray(E)||(E=[String(E)]),ca(b.i,"t",E),h.C=0,b=h.j.L,h.h=new Hn,h.g=Mc(h.j,b?g:null,!h.u),h.P>0&&(h.O=new en(y(h.Y,h,h.g),h.P)),g=h.V,b=h.g,E=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(wl[0]=U.toString()),U=wl);for(let G=0;G<U.length;G++){const ae=lt(b,U[G],E||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,g)):(h.v="GET",h.g.ea(h.B,h.v,null,g)),ns(),Wh(h.i,h.v,h.B,h.l,h.S,h.u)}Bn.prototype.ba=function(h){h=h.target;const g=this.O;g&&Kn(h)==3?g.j():this.Y(h)},Bn.prototype.Y=function(h){try{if(h==this.g)e:{const Ae=Kn(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ae!=4||mt==7||(mt==8||Ge<=0?ns(3):ns(2)),os(this);var g=this.g.ca();this.X=g;var b=td(this);if(this.o=g==200,yc(this.i,this.v,this.B,this.l,this.S,Ae,g),this.o){if(this.U&&!this.L){t:{if(this.g){var E,U=this.g;if((E=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var G=E;break t}}G=null}if(h=G)rs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cs(this,h);else{this.o=!1,this.m=3,vt(12),mn(this),En(this);break e}}if(this.R){h=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=_c(this,b),ot==Ot){Ae==4&&(this.m=4,vt(14),h=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==bt){this.m=4,vt(15),rs(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else rs(this.i,this.l,ot,null),cs(this,ot);if(bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||b.length!=0||this.h.h||(this.m=1,vt(16),h=!1),this.o=this.o&&h,!h)rs(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),En(this);else if(b.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bl(ae),ae.P=!0,vt(11))}}else rs(this.i,this.l,b,null),cs(this,b);Ae==4&&mn(this),this.o&&!this.K&&(Ae==4?Rc(this.j,this):(this.o=!1,ls(this)))}else Os(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),En(this)}}}catch{}finally{}};function td(h){if(!bc(h))return h.g.la();const g=qt(h.g);if(g==="")return"";let b="";const E=g.length,U=Kn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return mn(h),En(h),"";h.h.i=new f.TextDecoder}for(let G=0;G<E;G++)h.h.h=!0,b+=h.h.i.decode(g[G],{stream:!(U&&G==E-1)});return g.length=0,h.h.g+=b,h.C=0,h.h.g}function bc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function _c(h,g){var b=h.C,E=g.indexOf(`
`,b);return E==-1?Ot:(b=Number(g.substring(b,E)),isNaN(b)?bt:(E+=1,E+b>g.length?Ot:(g=g.slice(E,E+b),h.C=E+b,g)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function ls(h){h.T=Date.now()+h.H,aa(h,h.H)}function aa(h,g){if(h.D!=null)throw Error("WatchDog timer not null");h.D=is(y(h.aa,h),g)}function os(h){h.D&&(f.clearTimeout(h.D),h.D=null)}Bn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(fr(this.i,this.B),this.M!=2&&(ns(),vt(17)),mn(this),this.m=2,En(this)):aa(this,this.T-h)};function En(h){h.j.I==0||h.K||Rc(h.j,h)}function mn(h){os(h);var g=h.O;g&&typeof g.dispose=="function"&&g.dispose(),h.O=null,El(h.V),h.g&&(g=h.g,h.g=null,g.abort(),g.dispose())}function cs(h,g){try{var b=h.j;if(b.I!=0&&(b.g==h||hs(b.h,h))){if(!h.L&&hs(b.h,h)&&b.I==3){try{var E=b.Ba.g.parse(g)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)ma(b),bi(b);else break e;Tr(b),vt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=is(y(b.Va,b),6e3));us(b.h)<=1&&b.ta&&(b.ta=void 0)}else xs(b,11)}else if((h.L||b.g==h)&&ma(b),!R(g))for(U=b.Ba.g.parse(g),g=0;g<U.length;g++){let Ge=U[g];const ot=Ge[0];if(!(ot<=b.K))if(b.K=ot,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const An=Ge[3];An!=null&&(b.ka=An,b.j.info("VER="+b.ka));const ys=Ge[4];ys!=null&&(b.za=ys,b.j.info("SVER="+b.za));const Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(E=1.5*Qn,b.O=E,b.j.info("backChannelRequestTimeoutMs_="+E)),E=b;const Yn=h.g;if(Yn){const wr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var G=E.h;G.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Rl(G,G.h),G.h=null))}if(E.G){const ga=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(E.wa=ga,Xe(E.J,E.G,ga))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),E=b;var ae=h;if(E.na=Dc(E,E.L?E.ba:null,E.W),ae.L){Il(E.h,ae);var Ae=ae,mt=E.O;mt&&(Ae.H=mt),Ae.D&&(os(Ae),ls(Ae)),E.g=ae}else Ac(E);b.i.length>0&&ps(b)}else Ge[0]!="stop"&&Ge[0]!="close"||xs(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?xs(b,7):Ul(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}ns(4)}catch{}}var _t=class{constructor(h,g){this.g=h,this.map=g}};function Al(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function us(h){return h.h?1:h.g?h.g.size:0}function hs(h,g){return h.h?h.h==g:h.g?h.g.has(g):!1}function Rl(h,g){h.g?h.g.add(g):h.h=g}function Il(h,g){h.h&&h.h==g?h.h=null:h.g&&h.g.has(g)&&h.g.delete(g)}Al.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let g=h.i;for(const b of h.g.values())g=g.concat(b.G);return g}return z(h.i)}var Nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(h,g){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const E=h[b].indexOf("=");let U,G=null;E>=0?(U=h[b].substring(0,E),G=h[b].substring(E+1)):U=h[b],g(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;h instanceof gn?(this.l=h.l,Vt(this,h.j),this.o=h.o,this.g=h.g,fi(this,h.u),this.h=h.h,Dl(this,jc(h.i)),this.m=h.m):h&&(g=String(h).match(Nc))?(this.l=!1,Vt(this,g[1]||"",!0),this.o=ds(g[2]||""),this.g=ds(g[3]||"",!0),fi(this,g[4]),this.h=ds(g[5]||"",!0),Dl(this,g[6]||"",!0),this.m=ds(g[7]||"")):(this.l=!1,this.i=new gi(null,this.l))}gn.prototype.toString=function(){const h=[];var g=this.j;g&&h.push(xr(g,oa,!0),":");var b=this.g;return(b||g=="file")&&(h.push("//"),(g=this.o)&&h.push(xr(g,oa,!0),"@"),h.push(Ds(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(xr(b,b.charAt(0)=="/"?Ml:Tc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",xr(b,wc)),h.join("")},gn.prototype.resolve=function(h){const g=Nt(this);let b=!!h.j;b?Vt(g,h.j):b=!!h.o,b?g.o=h.o:b=!!h.g,b?g.g=h.g:b=h.u!=null;var E=h.h;if(b)fi(g,h.u);else if(b=!!h.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var U=g.h.lastIndexOf("/");U!=-1&&(E=g.h.slice(0,U+1)+E)}if(U=E,U==".."||U==".")E="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){E=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let ae=0;ae<U.length;){const Ae=U[ae++];Ae=="."?E&&ae==U.length&&G.push(""):Ae==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),E&&ae==U.length&&G.push("")):(G.push(Ae),E=!0)}E=G.join("/")}else E=U}return b?g.h=E:b=h.i.toString()!=="",b?Dl(g,jc(h.i)):b=!!h.m,b&&(g.m=h.m),g};function Nt(h){return new gn(h)}function Vt(h,g,b){h.j=b?ds(g,!0):g,h.j&&(h.j=h.j.replace(/:$/,""))}function fi(h,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);h.u=g}else h.u=null}function Dl(h,g,b){g instanceof gi?(h.i=g,ua(h.i,h.l)):(b||(g=xr(g,mi)),h.i=new gi(g,h.l))}function Xe(h,g,b){h.i.set(g,b)}function pr(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ds(h,g){return h?g?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xr(h,g,b){return typeof h=="string"?(h=encodeURI(h).replace(g,rn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oa=/[#\/\?@]/g,Tc=/[#\?:]/g,Ml=/[#\?]/g,mi=/[#\?@]/g,wc=/#/g;function gi(h,g){this.h=this.g=null,this.i=h||null,this.j=!!g}function an(h){h.g||(h.g=new Map,h.h=0,h.i&&la(h.i,function(g,b){h.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}i=gi.prototype,i.add=function(h,g){an(this),this.i=null,h=pi(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(g),this.h+=1,this};function Ec(h,g){an(h),g=pi(h,g),h.g.has(g)&&(h.i=null,h.h-=h.g.get(g).length,h.g.delete(g))}function Ol(h,g){return an(h),g=pi(h,g),h.g.has(g)}i.forEach=function(h,g){an(this),this.g.forEach(function(b,E){b.forEach(function(U){h.call(g,U,E,this)},this)},this)};function Vl(h,g){an(h);let b=[];if(typeof g=="string")Ol(h,g)&&(b=b.concat(h.g.get(pi(h,g))));else for(h=Array.from(h.g.values()),g=0;g<h.length;g++)b=b.concat(h[g]);return b}i.set=function(h,g){return an(this),this.i=null,h=pi(this,h),Ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[g]),this.h+=1,this},i.get=function(h,g){return h?(h=Vl(this,h),h.length>0?String(h[0]):g):g};function ca(h,g,b){Ec(h,g),b.length>0&&(h.i=null,h.g.set(pi(h,g),z(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],g=Array.from(this.g.keys());for(let E=0;E<g.length;E++){var b=g[E];const U=Ds(b);b=Vl(this,b);for(let G=0;G<b.length;G++){let ae=U;b[G]!==""&&(ae+="="+Ds(b[G])),h.push(ae)}}return this.i=h.join("&")};function jc(h){const g=new gi;return g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),g}function pi(h,g){return g=String(g),h.j&&(g=g.toLowerCase()),g}function ua(h,g){g&&!h.j&&(an(h),h.i=null,h.g.forEach(function(b,E){const U=E.toLowerCase();E!=U&&(Ec(this,E),ca(this,U,b))},h)),h.j=g}function Fn(h,g){const b=new qn;if(f.Image){const E=new Image;E.onload=N(jn,b,"TestLoadImage: loaded",!0,g,E),E.onerror=N(jn,b,"TestLoadImage: error",!1,g,E),E.onabort=N(jn,b,"TestLoadImage: abort",!1,g,E),E.ontimeout=N(jn,b,"TestLoadImage: timeout",!1,g,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=h}else g(!1)}function Ll(h,g){const b=new qn,E=new AbortController,U=setTimeout(()=>{E.abort(),jn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(h,{signal:E.signal}).then(G=>{clearTimeout(U),G.ok?jn(b,"TestPingServer: ok",!0,g):jn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),jn(b,"TestPingServer: error",!1,g)})}function jn(h,g,b,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(b)}catch{}}function xi(){this.g=new fc}function fs(h){this.i=h.Sb||null,this.h=h.ab||!1}S(fs,mc),fs.prototype.g=function(){return new yr(this.i,this.h)};function yr(h,g){yt.call(this),this.H=h,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(yr,yt),i=yr.prototype,i.open=function(h,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=g,this.readyState=1,Gn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(g.body=h),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var g=h.value?h.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!h.done}))&&(this.response=this.responseText+=g)}h.done?yi(this):Gn(this),this.readyState==3&&ha(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,yi(this))},i.Na=function(h){this.g&&(this.response=h,yi(this))},i.ga=function(){this.g&&yi(this)};function yi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Gn(h)}i.setRequestHeader=function(h,g){this.A.append(h,g)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=g.next();return h.join(`\r
`)};function Gn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Sn(h){let g="";return Be(h,function(b,E){g+=E,g+=":",g+=b,g+=`\r
`}),g}function vr(h,g,b){e:{for(E in b){var E=!1;break e}E=!0}E||(b=Sn(b),typeof h=="string"?b!=null&&Ds(b):Xe(h,g,b))}function Je(h){yt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,yt);var ms=/^https?$/i,Pl=["POST","PUT"];i=Je.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,g,b,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);g=g?g.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(h),!0),this.B=!1}catch(G){br(this,G);return}if(h=b||"",b=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)b.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const G of E.keys())b.set(G,E.get(G));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),U=f.FormData&&h instanceof f.FormData,!(Array.prototype.indexOf.call(Pl,g,void 0)>=0)||E||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of b)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){br(this,G)}};function br(h,g){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=g,h.o=5,zl(h),Ms(h)}function zl(h){h.A||(h.A=!0,It(h,"complete"),It(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,It(this,"complete"),It(this,"abort"),Ms(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},i.Xa=function(){_r(this)};function _r(h){if(h.h&&typeof u<"u"){if(h.v&&Kn(h)==4)setTimeout(h.Ca.bind(h),0);else if(It(h,"readystatechange"),Kn(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var E;if(E=G===0){let ae=String(h.D).match(Nc)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),E=!ms.test(ae?ae.toLowerCase():"")}b=E}if(b)It(h,"complete"),It(h,"success");else{h.o=6;try{var U=Kn(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",zl(h)}}finally{Ms(h)}}}}function Ms(h,g){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,g||It(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Kn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var g=this.g.responseText;return h&&g.indexOf(h)==0&&(g=g.substring(h.length)),Jh(g)}};function qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Os(h){const g={};h=(h.g&&Kn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<h.length;E++){if(R(h[E]))continue;var b=vc(h[E]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=g[U]||[];g[U]=G,G.push(b)}Ye(g,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(h,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||g}function vi(h){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gs("baseRetryDelayMs",5e3,h),this.Za=gs("retryDelaySeedMs",1e4,h),this.Ta=gs("forwardChannelMaxRetries",2,h),this.va=gs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(h&&h.concurrentRequestLimit),this.Ba=new xi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=vi.prototype,i.ka=8,i.I=1,i.connect=function(h,g,b,E){vt(0),this.W=h,this.H=g||{},b&&E!==void 0&&(this.H.OSID=b,this.H.OAID=E),this.F=this.X,this.J=Dc(this,null,this.W),ps(this)};function Ul(h){if(da(h),h.I==3){var g=h.V++,b=Nt(h.J);if(Xe(b,"SID",h.M),Xe(b,"RID",g),Xe(b,"TYPE","terminate"),Nr(h,b),g=new Bn(h,h.j,g),g.M=2,g.A=pr(Nt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=g.A,b=!0),b||(g.g=Mc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ls(g)}kc(h)}function bi(h){h.g&&(Bl(h),h.g.cancel(),h.g=null)}function da(h){bi(h),h.v&&(f.clearTimeout(h.v),h.v=null),ma(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&f.clearTimeout(h.m),h.m=null)}function ps(h){if(!Cl(h.h)&&!h.m){h.m=!0;var g=h.Ea;F||T(),Q||(F(),Q=!0),_.add(g,h),h.D=0}}function fa(h,g){return us(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=g.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=is(y(h.Ea,h,g),Ic(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Bn(this,this.j,h);let G=this.o;if(this.U&&(G?(G=O(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var E=this.i[b];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(g+=E,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Sc(this,U,g),b=Nt(this.J),Xe(b,"RID",h),Xe(b,"CVER",22),this.G&&Xe(b,"X-HTTP-Session-Id",this.G),Nr(this,b),G&&(this.R?g="headers="+Ds(Sn(G))+"&"+g:this.u&&vr(b,this.u,G)),Rl(this.h,U),this.Ra&&Xe(b,"TYPE","init"),this.S?(Xe(b,"$req",g),Xe(b,"SID","null"),U.U=!0,as(U,b,null)):as(U,b,g),this.I=2}}else this.I==3&&(h?ql(this,h):this.i.length==0||Cl(this.h)||ql(this))};function ql(h,g){var b;g?b=g.l:b=h.V++;const E=Nt(h.J);Xe(E,"SID",h.M),Xe(E,"RID",b),Xe(E,"AID",h.K),Nr(h,E),h.u&&h.o&&vr(E,h.u,h.o),b=new Bn(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),g&&(h.i=g.G.concat(h.i)),g=Sc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Rl(h.h,b),as(b,E,g)}function Nr(h,g){h.H&&Be(h.H,function(b,E){Xe(g,E,b)}),h.l&&Be({},function(b,E){Xe(g,E,b)})}function Sc(h,g,b){b=Math.min(h.i.length,b);const E=h.l?y(h.l.Ka,h.l,h):null;e:{var U=h.i;let Ae=-1;for(;;){const mt=["count="+b];Ae==-1?b>0?(Ae=U[0].g,mt.push("ofs="+Ae)):Ae=0:mt.push("ofs="+Ae);let Ge=!0;for(let ot=0;ot<b;ot++){var G=U[ot].g;const An=U[ot].map;if(G-=Ae,G<0)Ae=Math.max(0,U[ot].g-100),Ge=!1;else try{G="req"+G+"_"||"";try{var ae=An instanceof Map?An:Object.entries(An);for(const[ys,Qn]of ae){let Yn=Qn;x(Qn)&&(Yn=di(Qn)),mt.push(G+ys+"="+encodeURIComponent(Yn))}}catch(ys){throw mt.push(G+"type="+encodeURIComponent("_badmap")),ys}}catch{E&&E(An)}}if(Ge){ae=mt.join("&");break e}}ae=void 0}return h=h.i.splice(0,b),g.G=h,ae}function Ac(h){if(!h.g&&!h.v){h.Y=1;var g=h.Da;F||T(),Q||(F(),Q=!0),_.add(g,h),h.A=0}}function Tr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=is(y(h.Da,h),Ic(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=is(y(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),bi(this),Cc(this))};function Bl(h){h.B!=null&&(f.clearTimeout(h.B),h.B=null)}function Cc(h){h.g=new Bn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var g=Nt(h.na);Xe(g,"RID","rpc"),Xe(g,"SID",h.M),Xe(g,"AID",h.K),Xe(g,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(g,"TO",h.ia),Xe(g,"TYPE","xmlhttp"),Nr(h,g),h.u&&h.o&&vr(g,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=pr(Nt(g)),b.u=null,b.R=!0,ra(b,h)}i.Va=function(){this.C!=null&&(this.C=null,bi(this),Tr(this),vt(19))};function ma(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Rc(h,g){var b=null;if(h.g==g){ma(h),Bl(h),h.g=null;var E=2}else if(hs(h.h,g))b=g.G,Il(h.h,g),E=1;else return;if(h.I!=0){if(g.o)if(E==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var U=h.D;E=ia(),It(E,new ss(E,b)),ps(h)}else Ac(h);else if(U=g.m,U==3||U==0&&g.X>0||!(E==1&&fa(h,g)||E==2&&Tr(h)))switch(b&&b.length>0&&(g=h.h,g.i=g.i.concat(b)),U){case 1:xs(h,5);break;case 4:xs(h,10);break;case 3:xs(h,6);break;default:xs(h,2)}}}function Ic(h,g){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*g}function xs(h,g){if(h.j.info("Error code "+g),g==2){var b=y(h.bb,h),E=h.Ua;const U=!E;E=new gn(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Vt(E,"https"),pr(E),U?Fn(E.toString(),b):Ll(E.toString(),b)}else vt(2);h.I=0,h.l&&h.l.pa(g),kc(h),da(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function kc(h){if(h.I=0,h.ja=[],h.l){const g=kl(h.h);(g.length!=0||h.i.length!=0)&&(V(h.ja,g),V(h.ja,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.oa()}}function Dc(h,g,b){var E=b instanceof gn?Nt(b):new gn(b);if(E.g!="")g&&(E.g=g+"."+E.g),fi(E,E.u);else{var U=f.location;E=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const G=new gn(null);E&&Vt(G,E),g&&(G.g=g),U&&fi(G,U),b&&(G.h=b),E=G}return b=h.G,g=h.wa,b&&g&&Xe(E,b,g),Xe(E,"VER",h.ka),Nr(h,E),E}function Mc(h,g,b){if(g&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=h.Aa&&!h.ma?new Je(new fs({ab:b})):new Je(h.ma),g.Fa(h.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}i=Oc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function _i(){}_i.prototype.g=function(h,g){return new tn(h,g)};function tn(h,g){yt.call(this),this.g=new vi(g),this.l=h,this.h=g&&g.messageUrlParams||null,h=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(h?h["X-WebChannel-Content-Type"]=g.messageContentType:h={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(h?h["X-WebChannel-Client-Profile"]=g.sa:h={"X-WebChannel-Client-Profile":g.sa}),this.g.U=h,(h=g&&g.Qb)&&!R(h)&&(this.g.u=h),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,h=this.h,h!==null&&g in h&&(h=this.h,g in h&&delete h[g])),this.j=new Vs(this)}S(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ul(this.g)},tn.prototype.o=function(h){var g=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=di(h),h=b);g.i.push(new _t(g.Ya++,h)),g.I==3&&ps(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,tn.Z.N.call(this)};function Vc(h){Ut.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var g=h.__sm__;if(g){e:{for(const b in g){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,g=g!==null&&h in g?g[h]:void 0),this.data=g}else this.data=h}S(Vc,Ut);function Lc(){wn.call(this),this.status=1}S(Lc,wn);function Vs(h){this.g=h}S(Vs,Oc),Vs.prototype.ra=function(){It(this.g,"a")},Vs.prototype.qa=function(h){It(this.g,new Vc(h))},Vs.prototype.pa=function(h){It(this.g,new Lc)},Vs.prototype.oa=function(){It(this.g,"b")},_i.prototype.createWebChannel=_i.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,mb=function(){return new _i},fb=function(){return ia()},db=ft,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Qu=mr,jl.COMPLETE="complete",hb=jl,gc.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Ro=gc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,ub=Je}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const Ty="@firebase/firestore",wy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Fm("@firebase/firestore");function Ga(){return Qr.logLevel}function ue(i,...e){if(Qr.logLevel<=Ve.DEBUG){const n=e.map(Qm);Qr.debug(`Firestore (${pl}): ${i}`,...n)}}function ri(i,...e){if(Qr.logLevel<=Ve.ERROR){const n=e.map(Qm);Qr.error(`Firestore (${pl}): ${i}`,...n)}}function rl(i,...e){if(Qr.logLevel<=Ve.WARN){const n=e.map(Qm);Qr.warn(`Firestore (${pl}): ${i}`,...n)}}function Qm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gb(i,r,n)}function gb(i,e,n){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ri(r),new Error(r)}function Qe(i,e,n,r){let c="Unexpected state";typeof n=="string"?c=n:r=n,i||gb(e,c,r)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class VE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LE{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const c=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ei,e.enqueueRetryable((()=>c(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await c(this.currentUser)}))},x=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>x(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?x(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ei)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new pb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class PE{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zE{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const c=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>c(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?c(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ey(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ey(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const c=qE(40);for(let u=0;u<c.length;++u)r.length<20&&c[u]<n&&(r+=e.charAt(c[u]%62))}return r}}function Le(i,e){return i<e?-1:i>e?1:0}function Nm(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const c=i.charAt(r),u=e.charAt(r);if(c!==u)return om(c)===om(u)?Le(c,u):om(c)?1:-1}return Le(i.length,e.length)}const BE=55296,HE=57343;function om(i){const e=i.charCodeAt(0);return e>=BE&&e<=HE}function al(i,e,n){return i.length===e.length&&i.every(((r,c)=>n(r,e[c])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class Ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let c=0;c<r;c++){const u=Ts.compareSegments(e.get(c),n.get(c));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const r=Ts.isNumericId(e),c=Ts.isNumericId(n);return r&&!c?-1:!r&&c?1:r&&c?Ts.extractNumericId(e).compare(Ts.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class at extends Ts{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((c=>c.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const FE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ts{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return FE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new Qt([jy])}static fromServerFormat(e){const n=[];let r="",c=0;const u=()=>{if(r.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;c<e.length;){const x=e[c];if(x==="\\"){if(c+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[c+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,c+=2}else x==="`"?(f=!f,c++):x!=="."||f?(r+=x,c++):(u(),c++)}if(u(),f)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(at.fromString(e))}static fromName(e){return new xe(at.fromString(e).popFirst(5))}static empty(){return new xe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(i,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function GE(i,e,n,r){if(e===!0&&r===!0)throw new me(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Sy(i){if(!xe.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ay(i){if(xe.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function ll(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(i);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i,e){const n={typeString:i};return e&&(n.value=e),n}function sc(i,e){if(!yb(i))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const c=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const f=i[r];if(c&&typeof f!==c){n=`JSON field '${r}' must be a ${c}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-62135596800,Ry=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ry);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cy)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ry}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new st(0,0))}static max(){return new Ee(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=-1;function KE(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,c=Ee.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new nr(c,xe.empty(),e)}function QE(i){return new nr(i.readTime,i.key,Fo)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(Ee.min(),xe.empty(),Fo)}static max(){return new nr(Ee.max(),xe.empty(),Fo)}}function YE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $E{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==XE)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,c)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,c)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,c)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let c=0,u=0,f=!1;e.forEach((x=>{++c,x.next((()=>{++u,f&&u===c&&n()}),(p=>r(p)))})),f=!0,u===c&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((c=>c?te.resolve(c):r()));return n}static forEach(e,n){const r=[];return e.forEach(((c,u)=>{r.push(n.call(this,c,u))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,c)=>{const u=e.length,f=new Array(u);let x=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((N=>{f[y]=N,++x,x===u&&r(f)}),(N=>c(N)))}}))}static doWhile(e,n){return new te(((r,c)=>{const u=()=>{e()===!0?n().next((()=>{u()}),c):r()};u()}))}}function ZE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function Mh(i){return i==null}function uh(i){return i===0&&1/i==-1/0}function JE(i){return typeof i=="number"&&Number.isInteger(i)&&!uh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="";function WE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Iy(e)),e=ej(i.get(n),e);return Iy(e)}function ej(i,e){let n=e;const r=i.length;for(let c=0;c<r;c++){const u=i.charAt(c);switch(u){case"\0":n+="";break;case vb:n+="";break;default:n+=u}}return n}function Iy(i){return i+vb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Zr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function bb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const c=this.comparator(e,r.key);if(c===0)return n+r.left.size;c<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,n,r,c){this.isReverse=c,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&c&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,c,u){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=c??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,c,u){return new Kt(e??this.key,n??this.value,r??this.color,c??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let c=this;const u=r(e,c.key);return c=u<0?c.copy(null,null,null,c.left.insert(e,n,r),null):u===0?c.copy(null,n,null,null,null):c.copy(null,null,null,null,c.right.insert(e,n,r)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,c=this;if(n(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,n),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),n(e,c.key)===0){if(c.right.isEmpty())return Kt.EMPTY;r=c.right.min(),c=c.copy(r.key,r.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,n))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,c,u){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const c=r.getNext();if(this.comparator(c.key,e[1])>=0)return;n(c.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(e){return new Dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const c=n.getNext().key,u=r.getNext().key;if(this.comparator(c,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Mt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(c){try{return atob(c)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _b("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(c){let u="";for(let f=0;f<c.length;++f)u+=String.fromCharCode(c[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let c=0;c<n.length;c++)r[c]=n.charCodeAt(c);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const tj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=tj.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let c=n[1];c=(c+"000000000").substr(0,9),e=Number(c)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ir(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="server_timestamp",Tb="__type__",wb="__previous_value__",Eb="__local_write_time__";function Zm(i){var n,r;return((r=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[Tb])==null?void 0:r.stringValue)===Nb}function Oh(i){const e=i.mapValue.fields[wb];return Zm(e)?Oh(e):e}function Go(i){const e=sr(i.mapValue.fields[Eb].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,c,u,f,x,p,y,N){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=c,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=x,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=N}}const hh="(default)";class Ko{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="__type__",sj="__max__",Hu={mapValue:{}},Sb="__vector__",dh="value";function rr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zm(i)?4:rj(i)?9007199254740991:ij(i)?10:11:_e(28295,{value:i})}function Is(i,e){if(i===e)return!0;const n=rr(i);if(n!==rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Go(i).isEqual(Go(e));case 3:return(function(c,u){if(typeof c.timestampValue=="string"&&typeof u.timestampValue=="string"&&c.timestampValue.length===u.timestampValue.length)return c.timestampValue===u.timestampValue;const f=sr(c.timestampValue),x=sr(u.timestampValue);return f.seconds===x.seconds&&f.nanos===x.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(c,u){return ir(c.bytesValue).isEqual(ir(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(c,u){return xt(c.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(c.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(i,e);case 2:return(function(c,u){if("integerValue"in c&&"integerValue"in u)return xt(c.integerValue)===xt(u.integerValue);if("doubleValue"in c&&"doubleValue"in u){const f=xt(c.doubleValue),x=xt(u.doubleValue);return f===x?uh(f)===uh(x):isNaN(f)&&isNaN(x)}return!1})(i,e);case 9:return al(i.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(c,u){const f=c.mapValue.fields||{},x=u.mapValue.fields||{};if(ky(f)!==ky(x))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(x[p]===void 0||!Is(f[p],x[p])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function Qo(i,e){return(i.values||[]).find((n=>Is(n,e)))!==void 0}function ol(i,e){if(i===e)return 0;const n=rr(i),r=rr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const x=xt(u.integerValue||u.doubleValue),p=xt(f.integerValue||f.doubleValue);return x<p?-1:x>p?1:x===p?0:isNaN(x)?isNaN(p)?0:-1:1})(i,e);case 3:return My(i.timestampValue,e.timestampValue);case 4:return My(Go(i),Go(e));case 5:return Nm(i.stringValue,e.stringValue);case 6:return(function(u,f){const x=ir(u),p=ir(f);return x.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const x=u.split("/"),p=f.split("/");for(let y=0;y<x.length&&y<p.length;y++){const N=Le(x[y],p[y]);if(N!==0)return N}return Le(x.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const x=Le(xt(u.latitude),xt(f.latitude));return x!==0?x:Le(xt(u.longitude),xt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Oy(i.arrayValue,e.arrayValue);case 10:return(function(u,f){var I,z,V,X;const x=u.fields||{},p=f.fields||{},y=(I=x[dh])==null?void 0:I.arrayValue,N=(z=p[dh])==null?void 0:z.arrayValue,S=Le(((V=y==null?void 0:y.values)==null?void 0:V.length)||0,((X=N==null?void 0:N.values)==null?void 0:X.length)||0);return S!==0?S:Oy(y,N)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Hu.mapValue&&f===Hu.mapValue)return 0;if(u===Hu.mapValue)return 1;if(f===Hu.mapValue)return-1;const x=u.fields||{},p=Object.keys(x),y=f.fields||{},N=Object.keys(y);p.sort(),N.sort();for(let S=0;S<p.length&&S<N.length;++S){const I=Nm(p[S],N[S]);if(I!==0)return I;const z=ol(x[p[S]],y[N[S]]);if(z!==0)return z}return Le(p.length,N.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function My(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=sr(i),r=sr(e),c=Le(n.seconds,r.seconds);return c!==0?c:Le(n.nanos,r.nanos)}function Oy(i,e){const n=i.values||[],r=e.values||[];for(let c=0;c<n.length&&c<r.length;++c){const u=ol(n[c],r[c]);if(u)return u}return Le(n.length,r.length)}function cl(i){return Tm(i)}function Tm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ir(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return xe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",c=!0;for(const u of n.values||[])c?c=!1:r+=",",r+=Tm(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let c="{",u=!0;for(const f of r)u?u=!1:c+=",",c+=`${f}:${Tm(n.fields[f])}`;return c+"}"})(i.mapValue):_e(61005,{value:i})}function Yu(i){switch(rr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(i);return e?16+Yu(e):16;case 5:return 2*i.stringValue.length;case 6:return ir(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((c,u)=>c+Yu(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let c=0;return Zr(r.fields,((u,f)=>{c+=u.length+Yu(f)})),c})(i.mapValue);default:throw _e(13486,{value:i})}}function wm(i){return!!i&&"integerValue"in i}function Jm(i){return!!i&&"arrayValue"in i}function Vy(i){return!!i&&"nullValue"in i}function Ly(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xu(i){return!!i&&"mapValue"in i}function ij(i){var n,r;return((r=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[jb])==null?void 0:r.stringValue)===Sb}function Vo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Zr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vo(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vo(i.arrayValue.values[n]);return e}return{...i}}function rj(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(n)}setAll(e){let n=Qt.emptyPath(),r={},c=[];e.forEach(((f,x)=>{if(!n.isImmediateParentOf(x)){const p=this.getFieldsMap(n);this.applyChanges(p,r,c),r={},c=[],n=x.popLast()}f?r[x.lastSegment()]=Vo(f):c.push(x.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,c)}delete(e){const n=this.field(e.popLast());Xu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let c=n.mapValue.fields[e.get(r)];Xu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=c),n=c}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,((c,u)=>e[c]=u));for(const c of r)delete e[c]}clone(){return new Pn(Vo(this.value))}}function Ab(i){const e=[];return Zr(i.fields,((n,r)=>{const c=new Qt([n]);if(Xu(r)){const u=Ab(r.mapValue).fields;if(u.length===0)e.push(c);else for(const f of u)e.push(c.child(f))}else e.push(c)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,c,u,f,x){this.key=e,this.documentType=n,this.version=r,this.readTime=c,this.createTime=u,this.data=f,this.documentState=x}static newInvalidDocument(e){return new Jt(e,0,Ee.min(),Ee.min(),Ee.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,c){return new Jt(e,1,n,Ee.min(),r,c,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ee.min(),Ee.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ee.min(),Ee.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function Py(i,e,n){let r=0;for(let c=0;c<i.position.length;c++){const u=e[c],f=i.position[c];if(u.field.isKeyField()?r=xe.comparator(xe.fromName(f.referenceValue),n.key):r=ol(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function zy(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Is(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aj(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{}class Dt extends Cb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oj(e,n,r):n==="array-contains"?new hj(e,r):n==="in"?new dj(e,r):n==="not-in"?new fj(e,r):n==="array-contains-any"?new mj(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cj(e,r):new uj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ol(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends Cb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ks(e,n)}matches(e){return Rb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rb(i){return i.op==="and"}function Ib(i){return lj(i)&&Rb(i)}function lj(i){for(const e of i.filters)if(e instanceof ks)return!1;return!0}function Em(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+cl(i.value);if(Ib(i))return i.filters.map((e=>Em(e))).join(",");{const e=i.filters.map((n=>Em(n))).join(",");return`${i.op}(${e})`}}function kb(i,e){return i instanceof Dt?(function(r,c){return c instanceof Dt&&r.op===c.op&&r.field.isEqual(c.field)&&Is(r.value,c.value)})(i,e):i instanceof ks?(function(r,c){return c instanceof ks&&r.op===c.op&&r.filters.length===c.filters.length?r.filters.reduce(((u,f,x)=>u&&kb(f,c.filters[x])),!0):!1})(i,e):void _e(19439)}function Db(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`})(i):i instanceof ks?(function(n){return n.op.toString()+" {"+n.getFilters().map(Db).join(" ,")+"}"})(i):"Filter"}class oj extends Dt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cj extends Dt{constructor(e,n){super(e,"in",n),this.keys=Mb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uj extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Mb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Mb(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>xe.fromName(r.referenceValue)))}class hj extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&Qo(n.arrayValue,this.value)}}class dj extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class fj extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qo(this.value.arrayValue,n)}}class mj extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Qo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n=null,r=[],c=[],u=null,f=null,x=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=c,this.limit=u,this.startAt=f,this.endAt=x,this.Te=null}}function Uy(i,e=null,n=[],r=[],c=null,u=null,f=null){return new gj(i,e,n,r,c,u,f)}function Wm(i){const e=Se(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Em(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>cl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>cl(r))).join(",")),e.Te=n}return e.Te}function eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!aj(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!kb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zy(i.startAt,e.startAt)&&zy(i.endAt,e.endAt)}function jm(i){return xe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n=null,r=[],c=[],u=null,f="F",x=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=c,this.limit=u,this.limitType=f,this.startAt=x,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pj(i,e,n,r,c,u,f,x){return new Vh(i,e,n,r,c,u,f,x)}function tg(i){return new Vh(i)}function qy(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xj(i){return i.collectionGroup!==null}function Lo(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let x=new Mt(Qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(x=x.add(y.field))}))})),x})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mh(u,r))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new mh(Qt.keyField(),r))}return e.Ie}function Es(i){const e=Se(i);return e.Ee||(e.Ee=yj(e,Lo(i))),e.Ee}function yj(i,e){if(i.limitType==="F")return Uy(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((c=>{const u=c.dir==="desc"?"asc":"desc";return new mh(c.field,u)}));const n=i.endAt?new fh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new fh(i.startAt.position,i.startAt.inclusive):null;return Uy(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Sm(i,e,n){return new Vh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Lh(i,e){return eg(Es(i),Es(e))&&i.limitType===e.limitType}function Ob(i){return`${Wm(Es(i))}|lt:${i.limitType}`}function Ka(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((c=>Db(c))).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((c=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(c))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((c=>cl(c))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((c=>cl(c))).join(",")),`Target(${r})`})(Es(i))}; limitType=${i.limitType})`}function Ph(i,e){return e.isFoundDocument()&&(function(r,c){const u=c.key.path;return r.collectionGroup!==null?c.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,c){for(const u of Lo(r))if(!u.field.isKeyField()&&c.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,c){for(const u of r.filters)if(!u.matches(c))return!1;return!0})(i,e)&&(function(r,c){return!(r.startAt&&!(function(f,x,p){const y=Py(f,x,p);return f.inclusive?y<=0:y<0})(r.startAt,Lo(r),c)||r.endAt&&!(function(f,x,p){const y=Py(f,x,p);return f.inclusive?y>=0:y>0})(r.endAt,Lo(r),c))})(i,e)}function vj(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vb(i){return(e,n)=>{let r=!1;for(const c of Lo(i)){const u=bj(c,e,n);if(u!==0)return u;r=r||c.field.isKeyField()}return 0}}function bj(i,e,n){const r=i.field.isKeyField()?xe.comparator(e.key,n.key):(function(u,f,x){const p=f.data.field(u),y=x.data.field(u);return p!==null&&y!==null?ol(p,y):_e(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[c,u]of r)if(this.equalsFn(c,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),c=this.inner[r];if(c===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<c.length;u++)if(this.equalsFn(c[u][0],e))return void(c[u]=[e,n]);c.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let c=0;c<r.length;c++)if(this.equalsFn(r[c][0],e))return r.length===1?delete this.inner[n]:r.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((n,r)=>{for(const[c,u]of r)e(c,u)}))}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new ut(xe.comparator);function ai(){return _j}const Lb=new ut(xe.comparator);function Io(...i){let e=Lb;for(const n of i)e=e.insert(n.key,n);return e}function Pb(i){let e=Lb;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function qr(){return Po()}function zb(){return Po()}function Po(){return new Jr((i=>i.toString()),((i,e)=>i.isEqual(e)))}const Nj=new ut(xe.comparator),Tj=new Mt(xe.comparator);function Pe(...i){let e=Tj;for(const n of i)e=e.add(n);return e}const wj=new Mt(Le);function Ej(){return wj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function Ub(i){return{integerValue:""+i}}function jj(i,e){return JE(e)?Ub(e):ng(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function Sj(i,e,n){return i instanceof gh?(function(c,u){const f={fields:{[Tb]:{stringValue:Nb},[Eb]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return u&&Zm(u)&&(u=Oh(u)),u&&(f.fields[wb]=u),{mapValue:f}})(n,e):i instanceof Yo?Bb(i,e):i instanceof Xo?Hb(i,e):(function(c,u){const f=qb(c,u),x=By(f)+By(c.Ae);return wm(f)&&wm(c.Ae)?Ub(x):ng(c.serializer,x)})(i,e)}function Aj(i,e,n){return i instanceof Yo?Bb(i,e):i instanceof Xo?Hb(i,e):n}function qb(i,e){return i instanceof ph?(function(r){return wm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class gh extends zh{}class Yo extends zh{constructor(e){super(),this.elements=e}}function Bb(i,e){const n=Fb(e);for(const r of i.elements)n.some((c=>Is(c,r)))||n.push(r);return{arrayValue:{values:n}}}class Xo extends zh{constructor(e){super(),this.elements=e}}function Hb(i,e){let n=Fb(e);for(const r of i.elements)n=n.filter((c=>!Is(c,r)));return{arrayValue:{values:n}}}class ph extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function By(i){return xt(i.integerValue||i.doubleValue)}function Fb(i){return Jm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Cj(i,e){return i.field.isEqual(e.field)&&(function(r,c){return r instanceof Yo&&c instanceof Yo||r instanceof Xo&&c instanceof Xo?al(r.elements,c.elements,Is):r instanceof ph&&c instanceof ph?Is(r.Ae,c.Ae):r instanceof gh&&c instanceof gh})(i.transform,e.transform)}class Rj{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Uh{}function Gb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Qb(i.key,ti.none()):new ic(i.key,i.data,ti.none());{const n=i.data,r=Pn.empty();let c=new Mt(Qt.comparator);for(let u of e.fields)if(!c.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),c=c.add(u)}return new Wr(i.key,r,new Jn(c.toArray()),ti.none())}}function Ij(i,e,n){i instanceof ic?(function(c,u,f){const x=c.value.clone(),p=Fy(c.fieldTransforms,u,f.transformResults);x.setAll(p),u.convertToFoundDocument(f.version,x).setHasCommittedMutations()})(i,e,n):i instanceof Wr?(function(c,u,f){if(!$u(c.precondition,u))return void u.convertToUnknownDocument(f.version);const x=Fy(c.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Kb(c)),p.setAll(x),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(c,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function zo(i,e,n,r){return i instanceof ic?(function(u,f,x,p){if(!$u(u.precondition,f))return x;const y=u.value.clone(),N=Gy(u.fieldTransforms,p,f);return y.setAll(N),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Wr?(function(u,f,x,p){if(!$u(u.precondition,f))return x;const y=Gy(u.fieldTransforms,p,f),N=f.data;return N.setAll(Kb(u)),N.setAll(y),f.convertToFoundDocument(f.version,N).setHasLocalMutations(),x===null?null:x.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,r):(function(u,f,x){return $u(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):x})(i,e,n)}function kj(i,e){let n=null;for(const r of i.fieldTransforms){const c=e.data.field(r.field),u=qb(r.transform,c||null);u!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,u))}return n||null}function Hy(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,c){return r===void 0&&c===void 0||!(!r||!c)&&al(r,c,((u,f)=>Cj(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ic extends Uh{constructor(e,n,r,c=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Wr extends Uh{constructor(e,n,r,c,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=c,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Kb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function Fy(i,e,n){const r=new Map;Qe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let c=0;c<n.length;c++){const u=i[c],f=u.transform,x=e.data.field(u.field);r.set(u.field,Aj(f,x,n[c]))}return r}function Gy(i,e,n){const r=new Map;for(const c of i){const u=c.transform,f=n.data.field(c.field);r.set(c.field,Sj(u,f,e))}return r}class Qb extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dj extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,r,c){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=c}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let c=0;c<this.mutations.length;c++){const u=this.mutations[c];u.key.isEqual(e.key)&&Ij(u,e,r[c])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zb();return this.mutations.forEach((c=>{const u=e.get(c.key),f=u.overlayedDocument;let x=this.applyToLocalView(f,u.mutatedFields);x=n.has(c.key)?null:x;const p=Gb(f,x);p!==null&&r.set(c.key,p),f.isValidDocument()||f.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,((n,r)=>Hy(n,r)))&&al(this.baseMutations,e.baseMutations,((n,r)=>Hy(n,r)))}}class sg{constructor(e,n,r,c){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=c}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let c=(function(){return Nj})();const u=e.mutations;for(let f=0;f<u.length;f++)c=c.insert(u[f].key,r[f].version);return new sg(e,n,r,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function Lj(i){switch(i){case ne.OK:return _e(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function Yb(i){if(i===void 0)return ri("GRPC error has no .code"),ne.UNKNOWN;switch(i){case St.OK:return ne.OK;case St.CANCELLED:return ne.CANCELLED;case St.UNKNOWN:return ne.UNKNOWN;case St.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case St.INTERNAL:return ne.INTERNAL;case St.UNAVAILABLE:return ne.UNAVAILABLE;case St.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case St.NOT_FOUND:return ne.NOT_FOUND;case St.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case St.ABORTED:return ne.ABORTED;case St.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case St.DATA_LOSS:return ne.DATA_LOSS;default:return _e(39323,{code:i})}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new er([4294967295,4294967295],0);function Ky(i){const e=Pj().encode(i),n=new cb;return n.update(e),new Uint8Array(n.digest())}function Qy(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),c=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new er([n,r],0),new er([c,u],0)]}class ig{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ko(`Invalid padding: ${n}`);if(r<0)throw new ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ko(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=er.fromNumber(this.ge)}ye(e,n,r){let c=e.add(n.multiply(er.fromNumber(r)));return c.compare(zj)===1&&(c=new er([c.getBits(0),c.getBits(1)],0)),c.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ky(e),[r,c]=Qy(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,c,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const c=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ig(u,c,n);return r.forEach((x=>f.insert(x))),f}insert(e){if(this.ge===0)return;const n=Ky(e),[r,c]=Qy(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,c,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,c,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=c,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const c=new Map;return c.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qh(Ee.min(),c,new ut(Le),ai(),Pe())}}class rc{constructor(e,n,r,c,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=c,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rc(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,c){this.be=e,this.removedTargetIds=n,this.key=r,this.De=c}}class Xb{constructor(e,n){this.targetId=e,this.Ce=n}}class $b{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=c}}class Yy{constructor(){this.ve=0,this.Fe=Xy(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach(((c,u)=>{switch(u){case 0:e=e.add(c);break;case 2:n=n.add(c);break;case 1:r=r.add(c);break;default:_e(38017,{changeType:u})}})),new rc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Xy()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Uj{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.Je=Fu(),this.He=Fu(),this.Ye=new ut(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,c)=>{this.rt(c)&&n(c)}))}st(e){const n=e.targetId,r=e.Ce.count,c=this.ot(n);if(c){const u=c.target;if(jm(u))if(r===0){const f=new xe(u.path);this.et(n,f,Jt.newNoDocument(f,Ee.min()))}else Qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const x=this.ut(e),p=x?this.ct(x,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:c=0},hashCount:u=0}=n;let f,x;try{f=ir(r).toUint8Array()}catch(p){if(p instanceof _b)return rl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{x=new ig(f,c,u)}catch(p){return rl(p instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return x.ge===0?null:x}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let c=0;return r.forEach((u=>{const f=this.Ge.ht(),x=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(x)||(this.et(n,u,null),c++)})),c}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const x=this.ot(f);if(x){if(u.current&&jm(x.target)){const p=new xe(x.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Pe();this.He.forEach(((u,f)=>{let x=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(x=!1,!1)})),x&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const c=new qh(e,n,this.Ye,this.je,r);return this.je=ai(),this.Je=Fu(),this.He=Fu(),this.Ye=new ut(Le),c}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const c=this.nt(e);this.Et(e,n)?c.Qe(n,1):c.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yy,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yy),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fu(){return new ut(xe.comparator)}function Xy(){return new ut(xe.comparator)}const qj={asc:"ASCENDING",desc:"DESCENDING"},Bj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hj={and:"AND",or:"OR"};class Fj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Am(i,e){return i.useProto3Json||Mh(e)?e:{value:e}}function xh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Gj(i,e){return xh(i,e.toTimestamp())}function js(i){return Qe(!!i,49232),Ee.fromTimestamp((function(n){const r=sr(n);return new st(r.seconds,r.nanos)})(i))}function rg(i,e){return Cm(i,e).canonicalString()}function Cm(i,e){const n=(function(c){return new at(["projects",c.projectId,"databases",c.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Jb(i){const e=at.fromString(i);return Qe(s1(e),10190,{key:e.toString()}),e}function Rm(i,e){return rg(i.databaseId,e.path)}function cm(i,e){const n=Jb(e);if(n.get(1)!==i.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new xe(e1(n))}function Wb(i,e){return rg(i.databaseId,e)}function Kj(i){const e=Jb(i);return e.length===4?at.emptyPath():e1(e)}function Im(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function e1(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function $y(i,e,n){return{name:Rm(i,e),fields:n.value.mapValue.fields}}function Qj(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),c=e.targetChange.targetIds||[],u=(function(y,N){return y.useProto3Json?(Qe(N===void 0||typeof N=="string",58123),Yt.fromBase64String(N||"")):(Qe(N===void 0||N instanceof Buffer||N instanceof Uint8Array,16193),Yt.fromUint8Array(N||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,x=f&&(function(y){const N=y.code===void 0?ne.UNKNOWN:Yb(y.code);return new me(N,y.message||"")})(f);n=new $b(r,c,u,x||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const c=cm(i,r.document.name),u=js(r.document.updateTime),f=r.document.createTime?js(r.document.createTime):Ee.min(),x=new Pn({mapValue:{fields:r.document.fields}}),p=Jt.newFoundDocument(c,u,f,x),y=r.targetIds||[],N=r.removedTargetIds||[];n=new Zu(y,N,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const c=cm(i,r.document),u=r.readTime?js(r.readTime):Ee.min(),f=Jt.newNoDocument(c,u),x=r.removedTargetIds||[];n=new Zu([],x,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const c=cm(i,r.document),u=r.removedTargetIds||[];n=new Zu([],u,c,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:c=0,unchangedNames:u}=r,f=new Vj(c,u),x=r.targetId;n=new Xb(x,f)}}return n}function Yj(i,e){let n;if(e instanceof ic)n={update:$y(i,e.key,e.value)};else if(e instanceof Qb)n={delete:Rm(i,e.key)};else if(e instanceof Wr)n={update:$y(i,e.key,e.data),updateMask:sS(e.fieldMask)};else{if(!(e instanceof Dj))return _e(16599,{Vt:e.type});n={verify:Rm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const x=f.transform;if(x instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof Yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof Xo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof ph)return{fieldPath:f.field.canonicalString(),increment:x.Ae};throw _e(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(c,u){return u.updateTime!==void 0?{updateTime:Gj(c,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(i,e.precondition)),n}function Xj(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((n=>(function(c,u){let f=c.updateTime?js(c.updateTime):js(u);return f.isEqual(Ee.min())&&(f=js(u)),new Rj(f,c.transformResults||[])})(n,e)))):[]}function $j(i,e){return{documents:[Wb(i,e.path)]}}function Zj(i,e){const n={structuredQuery:{}},r=e.path;let c;e.collectionGroup!==null?(c=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wb(i,c);const u=(function(y){if(y.length!==0)return n1(ks.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((N=>(function(I){return{field:Qa(I.field),direction:eS(I.dir)}})(N)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const x=Am(i,e.limit);return x!==null&&(n.structuredQuery.limit=x),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:c}}function Jj(i){let e=Kj(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let c=null;if(r>0){Qe(r===1,65062);const N=n.from[0];N.allDescendants?c=N.collectionId:e=e.child(N.collectionId)}let u=[];n.where&&(u=(function(S){const I=t1(S);return I instanceof ks&&Ib(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((I=>(function(V){return new mh(Ya(V.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(I)))})(n.orderBy));let x=null;n.limit&&(x=(function(S){let I;return I=typeof S=="object"?S.value:S,Mh(I)?null:I})(n.limit));let p=null;n.startAt&&(p=(function(S){const I=!!S.before,z=S.values||[];return new fh(z,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const I=!S.before,z=S.values||[];return new fh(z,I)})(n.endAt)),pj(e,c,f,u,x,"F",p,y)}function Wj(i,e){const n=(function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:c})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ya(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const c=Ya(n.unaryFilter.field);return Dt.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(Ya(n.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ks.create(n.compositeFilter.filters.map((r=>t1(r))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(i):_e(30097,{filter:i})}function eS(i){return qj[i]}function tS(i){return Bj[i]}function nS(i){return Hj[i]}function Qa(i){return{fieldPath:i.canonicalString()}}function Ya(i){return Qt.fromServerFormat(i.fieldPath)}function n1(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(Ly(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(Vy(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ly(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(Vy(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:tS(n.op),value:n.value}}})(i):i instanceof ks?(function(n){const r=n.getFilters().map((c=>n1(c)));return r.length===1?r[0]:{compositeFilter:{op:nS(n.op),filters:r}}})(i):_e(54877,{filter:i})}function sS(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function s1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r,c,u=Ee.min(),f=Ee.min(),x=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=c,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=x,this.expectedCount=p}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.yt=e}}function rS(i){const e=Jj({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Cn=new lS}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(nr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class lS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),c=this.index[n]||new Mt(at.comparator),u=!c.has(r);return this.index[n]=c.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),c=this.index[n];return c&&c.has(r)}getEntries(e){return(this.index[e]||new Mt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i1=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(i1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",oS=1048576;function Wy([i,e],[n,r]){const c=Le(i,n);return c===0?Le(e,r):c}class cS{constructor(e){this.Ir=e,this.buffer=new Mt(Wy),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uS{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Jy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?ue(Jy,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)}))}}class hS{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Dh.ce);const r=new cS(n);return this.mr.forEachTarget(e,(c=>r.Ar(c.sequenceNumber))).next((()=>this.mr.pr(e,(c=>r.Ar(c))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Zy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zy):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,c,u,f,x,p,y;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),c=this.params.maximumSequenceNumbersToCollect):c=S,f=Date.now(),this.nthSequenceNumber(e,c)))).next((S=>(r=S,x=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Ga()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-N}ms
	Determined least recently used ${c} in `+(x-f)+`ms
	Removed ${u} targets in `+(p-x)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-N}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:u,documentsRemoved:S}))))}}function dS(i,e){return new hS(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.changes=new Jr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,c){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=c}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((c=>(r=c,this.remoteDocumentCache.getEntry(e,n)))).next((c=>(r!==null&&zo(r.mutation,c,Jn.empty(),st.now()),c)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pe()){const c=qr();return this.populateOverlays(e,c,n).next((()=>this.computeViews(e,n,c,r).next((u=>{let f=Io();return u.forEach(((x,p)=>{f=f.insert(x,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=qr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pe())))}populateOverlays(e,n,r){const c=[];return r.forEach((u=>{n.has(u)||c.push(u)})),this.documentOverlayCache.getOverlays(e,c).next((u=>{u.forEach(((f,x)=>{n.set(f,x)}))}))}computeViews(e,n,r,c){let u=ai();const f=Po(),x=(function(){return Po()})();return n.forEach(((p,y)=>{const N=r.get(y.key);c.has(y.key)&&(N===void 0||N.mutation instanceof Wr)?u=u.insert(y.key,y):N!==void 0?(f.set(y.key,N.mutation.getFieldMask()),zo(N.mutation,y,N.mutation.getFieldMask(),st.now())):f.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,N)=>f.set(y,N))),n.forEach(((y,N)=>x.set(y,new mS(N,f.get(y)??null)))),x)))}recalculateAndSaveOverlays(e,n){const r=Po();let c=new ut(((f,x)=>f-x)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const x of f)x.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let N=r.get(p)||Jn.empty();N=x.applyToLocalView(y,N),r.set(p,N);const S=(c.get(x.batchId)||Pe()).add(p);c=c.insert(x.batchId,S)}))})).next((()=>{const f=[],x=c.getReverseIterator();for(;x.hasNext();){const p=x.getNext(),y=p.key,N=p.value,S=zb();N.forEach((I=>{if(!u.has(I)){const z=Gb(n.get(I),r.get(I));z!==null&&S.set(I,z),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return te.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,c){return(function(f){return xe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,c):this.getDocumentsMatchingCollectionQuery(e,n,r,c)}getNextDocuments(e,n,r,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,c).next((u=>{const f=c-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,c-u.size):te.resolve(qr());let x=Fo,p=u;return f.next((y=>te.forEach(y,((N,S)=>(x<S.largestBatchId&&(x=S.largestBatchId),u.get(N)?te.resolve():this.remoteDocumentCache.getEntry(e,N).next((I=>{p=p.insert(N,I)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((N=>({batchId:x,changes:Pb(N)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let c=Io();return r.isFoundDocument()&&(c=c.insert(r.key,r)),c}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,c){const u=n.collectionGroup;let f=Io();return this.indexManager.getCollectionParents(e,u).next((x=>te.forEach(x,(p=>{const y=(function(S,I){return new Vh(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,c).next((N=>{N.forEach(((S,I)=>{f=f.insert(S,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,c){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,c)))).next((f=>{u.forEach(((p,y)=>{const N=y.getKey();f.get(N)===null&&(f=f.insert(N,Jt.newInvalidDocument(N)))}));let x=Io();return f.forEach(((p,y)=>{const N=u.get(p);N!==void 0&&zo(N.mutation,y,Jn.empty(),st.now()),Ph(n,y)&&(x=x.insert(p,y))})),x}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(c){return{id:c.id,version:c.version,createTime:js(c.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(c){return{name:c.name,query:rS(c.bundledQuery),readTime:js(c.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.overlays=new ut(xe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qr();return te.forEach(n,(c=>this.getOverlay(e,c).next((u=>{u!==null&&r.set(c,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((c,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const c=this.qr.get(r);return c!==void 0&&(c.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const c=qr(),u=n.length+1,f=new xe(n.child("")),x=this.overlays.getIteratorFrom(f);for(;x.hasNext();){const p=x.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&c.set(p.getKey(),p)}return te.resolve(c)}getOverlaysForCollectionGroup(e,n,r,c){let u=new ut(((y,N)=>y-N));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let N=u.get(y.largestBatchId);N===null&&(N=qr(),u=u.insert(y.largestBatchId,N)),N.set(y.getKey(),y)}}const x=qr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,N)=>x.set(y,N))),!(x.size()>=c)););return te.resolve(x)}St(e,n,r){const c=this.overlays.get(r.key);if(c!==null){const f=this.qr.get(c.largestBatchId).delete(r.key);this.qr.set(c.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Oj(n,r));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.Qr=new Mt(Pt.$r),this.Ur=new Mt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new at([])),r=new Pt(n,e),c=new Pt(n,e+1),u=[];return this.Ur.forEachInRange([r,c],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new at([])),r=new Pt(n,e),c=new Pt(n,e+1);let u=Pe();return this.Ur.forEachInRange([r,c],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Pt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Pt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,c){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Mj(u,n,r,c);this.mutationQueue.push(f);for(const x of c)this.Zr=this.Zr.add(new Pt(x.key,u)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,c=this.ei(r),u=c<0?0:c;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),c=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,c],(f=>{const x=this.Xr(f.Yr);u.push(x)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Le);return n.forEach((c=>{const u=new Pt(c,0),f=new Pt(c,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(x=>{r=r.add(x.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,c=r.length+1;let u=r;xe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new xe(u),0);let x=new Mt(Le);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===c&&(x=x.add(p.Yr)),!0)}),f),te.resolve(this.ti(x))}ti(e){const n=[];return e.forEach((r=>{const c=this.Xr(r);c!==null&&n.push(c)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(c=>{const u=new Pt(c.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Pt(n,0),c=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.ri=e,this.docs=(function(){return new ut(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,c=this.docs.get(r),u=c?c.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach((c=>{const u=this.docs.get(c);r=r.insert(c,u?u.document.mutableCopy():Jt.newInvalidDocument(c))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,c){let u=ai();const f=n.path,x=new xe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(x);for(;p.hasNext();){const{key:y,value:{document:N}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||YE(QE(N),r)<=0||(c.has(N.key)||Ph(n,N))&&(u=u.insert(N.key,N.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,r,c){_e(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _S(this)}getSize(e){return te.resolve(this.size)}}class _S extends fS{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,c)=>{c.isValidDocument()?n.push(this.Nr.addEntry(e,c)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.persistence=e,this.si=new Jr((n=>Wm(n)),eg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new ag,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,n){return this.si.forEach(((r,c)=>n(c))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ul(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let c=0;const u=[];return this.si.forEach(((f,x)=>{x.sequenceNumber<=n&&r.get(x.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,x.targetId)),c++)})),te.waitFor(u).next((()=>c))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const c=this.persistence.referenceDelegate,u=[];return c&&n.forEach((f=>{u.push(c.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new yS,this.referenceDelegate=e(this),this.Pi=new NS(this),this.indexManager=new aS,this.remoteDocumentCache=(function(c){return new bS(c)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new iS(n),this.Ii=new pS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vS(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const c=new TS(this.ci.next());return this.referenceDelegate.Ei(),r(c).next((u=>this.referenceDelegate.di(c).next((()=>u)))).toPromise().then((u=>(c.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class TS extends $E{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new ag,this.Vi=null}static mi(e){return new lg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((c=>this.fi.add(c.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((c=>{c.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const c=xe.fromPath(r);return this.gi(e,c).next((u=>{u||n.removeEntry(c,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.pi=new Jr((r=>WE(r.path)),((r,c)=>r.isEqual(c))),this.garbageCollector=dS(this,n)}static mi(e,n){return new yh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((c=>r+c))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,c)=>this.br(e,r,c).next((u=>u?te.resolve():n(c)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const c=this.persistence.getRemoteDocumentCache(),u=c.newChangeBuffer();return c.ii(e,(f=>this.br(e,f,n).next((x=>{x||(r++,u.removeEntry(f,Ee.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yu(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const c=this.pi.get(n);return te.resolve(c!==void 0&&c>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,c){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=c}static As(e,n){let r=Pe(),c=Pe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:c=c.add(u.doc.key)}return new og(e,n.fromCache,r,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gw()?8:ZE(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,c){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,c,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wS;return this.Ss(e,n,f).next((x=>{if(u.result=x,this.Vs)return this.bs(e,n,f,x.size)}))})).next((()=>u.result))}bs(e,n,r,c){return r.documentReadCount<this.fs?(Ga()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Ga()<=Ve.DEBUG&&ue("QueryEngine","Query:",Ka(n),"scans",r.documentReadCount,"local documents and returns",c,"documents as results."),r.documentReadCount>this.gs*c?(Ga()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):te.resolve())}ys(e,n){if(qy(n))return te.resolve(null);let r=Es(n);return this.indexManager.getIndexType(e,r).next((c=>c===0?null:(n.limit!==null&&c===1&&(n=Sm(n,null,"F"),r=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((x=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,x);return this.Cs(n,y,f,p.readTime)?this.ys(e,Sm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,c){return qy(n)||c.isEqual(Ee.min())?te.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,c)?te.resolve(null):(Ga()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ka(n)),this.vs(e,f,n,KE(c,Fo)).next((x=>x)))}))}Ds(e,n){let r=new Mt(Vb(e));return n.forEach(((c,u)=>{Ph(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,c){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(c)>0)}Ss(e,n,r){return Ga()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,nr.min(),r)}vs(e,n,r,c){return this.ps.getDocumentsMatchingQuery(e,r,c).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",jS=3e8;class SS{constructor(e,n,r,c){this.persistence=e,this.Fs=n,this.serializer=c,this.Ms=new ut(Le),this.xs=new Jr((u=>Wm(u)),eg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AS(i,e,n,r){return new SS(i,e,n,r)}async function a1(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let c;return n.mutationQueue.getAllMutationBatches(r).next((u=>(c=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],x=[];let p=Pe();for(const y of c){f.push(y.batchId);for(const N of y.mutations)p=p.add(N.key)}for(const y of u){x.push(y.batchId);for(const N of y.mutations)p=p.add(N.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:x})))}))}))}function CS(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const c=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(x,p,y,N){const S=y.batch,I=S.keys();let z=te.resolve();return I.forEach((V=>{z=z.next((()=>N.getEntry(p,V))).next((X=>{const P=y.docVersions.get(V);Qe(P!==null,48541),X.version.compareTo(P)<0&&(S.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),N.addEntry(X)))}))})),z.next((()=>x.mutationQueue.removeMutationBatch(p,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,c,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(x){let p=Pe();for(let y=0;y<x.mutationResults.length;++y)x.mutationResults[y].transformResults.length>0&&(p=p.add(x.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,c)))}))}function l1(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RS(i,e){const n=Se(i),r=e.snapshotVersion;let c=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});c=n.Ms;const x=[];e.targetChanges.forEach(((N,S)=>{const I=c.get(S);if(!I)return;x.push(n.Pi.removeMatchingKeys(u,N.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,N.addedDocuments,S))));let z=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?z=z.withResumeToken(Yt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):N.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(N.resumeToken,r)),c=c.insert(S,z),(function(X,P,se){return X.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=jS?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(I,z,N)&&x.push(n.Pi.updateTargetData(u,z))}));let p=ai(),y=Pe();if(e.documentUpdates.forEach((N=>{e.resolvedLimboDocuments.has(N)&&x.push(n.persistence.referenceDelegate.updateLimboDocument(u,N))})),x.push(IS(u,f,e.documentUpdates).next((N=>{p=N.ks,y=N.qs}))),!r.isEqual(Ee.min())){const N=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));x.push(N)}return te.waitFor(x).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=c,u)))}function IS(i,e,n){let r=Pe(),c=Pe();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let f=ai();return n.forEach(((x,p)=>{const y=u.get(x);p.isFoundDocument()!==y.isFoundDocument()&&(c=c.add(x)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(x,p.readTime),f=f.insert(x,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(x,p)):ue(cg,"Ignoring outdated watch update for ",x,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:c}}))}function kS(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function DS(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let c;return n.Pi.getTargetData(r,e).next((u=>u?(c=u,te.resolve(c)):n.Pi.allocateTargetId(r).next((f=>(c=new $i(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,c).next((()=>c)))))))})).then((r=>{const c=n.Ms.get(r.targetId);return(c===null||r.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function km(i,e,n){const r=Se(i),c=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,c)))}catch(f){if(!yl(f))throw f;ue(cg,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(c.target)}function ev(i,e,n){const r=Se(i);let c=Ee.min(),u=Pe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,N){const S=Se(p),I=S.xs.get(N);return I!==void 0?te.resolve(S.Ms.get(I)):S.Pi.getTargetData(y,N)})(r,f,Es(e)).next((x=>{if(x)return c=x.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,x.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?c:Ee.min(),n?u:Pe()))).next((x=>(MS(r,vj(e),x),{documents:x,Qs:u})))))}function MS(i,e,n){let r=i.Os.get(e)||Ee.min();n.forEach(((c,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class tv{constructor(){this.activeTargetIds=Ej()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="ConnectivityMonitor";class sv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(nv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function Dm(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${c}`,this.Wo=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${c}`}Go(e,n,r,c,u){const f=Dm(),x=this.zo(e,n.toUriEncodedString());ue(um,`Sending RPC '${e}' ${f}:`,x,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,c,u);const{host:y}=new URL(x),N=ml(y);return this.Jo(e,x,p,r,N).then((S=>(ue(um,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw rl(um,`RPC '${e}' ${f} failed with error: `,S,"url: ",x,"request:",r),S}))}Ho(e,n,r,c,u,f){return this.Go(e,n,r,c,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((c,u)=>e[u]=c)),r&&r.headers.forEach(((c,u)=>e[u]=c))}zo(e,n){const r=LS[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class US extends PS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,c,u){const f=Dm();return new Promise(((x,p)=>{const y=new ub;y.setWithCredentials(!0),y.listenOnce(hb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qu.NO_ERROR:const S=y.getResponseJson();ue($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),x(S);break;case Qu.TIMEOUT:ue($t,`RPC '${e}' ${f} timed out`),p(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const I=y.getStatus();if(ue($t,`RPC '${e}' ${f} failed with status:`,I,"response text:",y.getResponseText()),I>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const V=z==null?void 0:z.error;if(V&&V.status&&V.message){const X=(function(se){const ie=se.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ie)>=0?ie:ne.UNKNOWN})(V.status);p(new me(X,V.message))}else p(new me(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new me(ne.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue($t,`RPC '${e}' ${f} completed.`)}}));const N=JSON.stringify(c);ue($t,`RPC '${e}' ${f} sending request:`,c),y.send(n,"POST",N,r,15)}))}T_(e,n,r){const c=Dm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=mb(),x=fb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const N=u.join("");ue($t,`Creating RPC '${e}' stream ${c}: ${N}`,p);const S=f.createWebChannel(N,p);this.I_(S);let I=!1,z=!1;const V=new zS({Yo:P=>{z?ue($t,`Not sending because RPC '${e}' stream ${c} is closed:`,P):(I||(ue($t,`Opening RPC '${e}' stream ${c} transport.`),S.open(),I=!0),ue($t,`RPC '${e}' stream ${c} sending:`,P),S.send(P))},Zo:()=>S.close()}),X=(P,se,ie)=>{P.listen(se,(re=>{try{ie(re)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return X(S,Ro.EventType.OPEN,(()=>{z||(ue($t,`RPC '${e}' stream ${c} transport opened.`),V.o_())})),X(S,Ro.EventType.CLOSE,(()=>{z||(z=!0,ue($t,`RPC '${e}' stream ${c} transport closed`),V.a_(),this.E_(S))})),X(S,Ro.EventType.ERROR,(P=>{z||(z=!0,rl($t,`RPC '${e}' stream ${c} transport errored. Name:`,P.name,"Message:",P.message),V.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),X(S,Ro.EventType.MESSAGE,(P=>{var se;if(!z){const ie=P.data[0];Qe(!!ie,16349);const re=ie,ce=(re==null?void 0:re.error)||((se=re[0])==null?void 0:se.error);if(ce){ue($t,`RPC '${e}' stream ${c} received error:`,ce);const F=ce.status;let Q=(function(A){const j=St[A];if(j!==void 0)return Yb(j)})(F),_=ce.message;Q===void 0&&(Q=ne.INTERNAL,_="Unknown error status: "+F+" with message "+ce.message),z=!0,V.a_(new me(Q,_)),S.close()}else ue($t,`RPC '${e}' stream ${c} received:`,ie),V.u_(ie)}})),X(x,db.STAT_EVENT,(P=>{P.stat===_m.PROXY?ue($t,`RPC '${e}' stream ${c} detected buffering proxy`):P.stat===_m.NOPROXY&&ue($t,`RPC '${e}' stream ${c} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){return new Fj(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r=1e3,c=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=c,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),c=Math.max(0,n-r);c>0&&ue("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="PersistentStream";class c1{constructor(e,n,r,c,u,f,x,p){this.Mi=e,this.S_=r,this.b_=c,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=x,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,c])=>{this.D_===n&&this.G_(r,c)}),(r=>{e((()=>{const c=new me(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(c)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((c=>{r((()=>this.z_(c)))})),this.stream.onMessage((c=>{r((()=>++this.F_==1?this.J_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qS extends c1{constructor(e,n,r,c,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,c,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Qj(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?js(f.readTime):Ee.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Im(this.serializer),n.addTarget=(function(u,f){let x;const p=f.target;if(x=jm(p)?{documents:$j(u,p)}:{query:Zj(u,p).ft},x.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){x.resumeToken=Zb(u,f.resumeToken);const y=Am(u,f.expectedCount);y!==null&&(x.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ee.min())>0){x.readTime=xh(u,f.snapshotVersion.toTimestamp());const y=Am(u,f.expectedCount);y!==null&&(x.expectedCount=y)}return x})(this.serializer,e);const r=Wj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Im(this.serializer),n.removeTarget=e,this.q_(n)}}class BS extends c1{constructor(e,n,r,c,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,c,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Xj(e.writeResults,e.commitTime),r=js(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Yj(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class FS extends HS{constructor(e,n,r,c){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Cm(n,r),c,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())}))}Ho(e,n,r,c,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,x])=>this.connection.Ho(e,Cm(n,r),c,f,x,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="RemoteStore";class KS{constructor(e,n,r,c,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ea(this)&&(ue(Yr,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ea.add(4),await ac(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Hh(y)})(this))}))})),this.Ra=new GS(r,c)}}async function Hh(i){if(ea(i))for(const e of i.da)await e(!0)}async function ac(i){for(const e of i.da)await e(!1)}function u1(i,e){const n=Se(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fg(n)?dg(n):vl(n).O_()&&hg(n,e))}function ug(i,e){const n=Se(i),r=vl(n);n.Ia.delete(e),r.O_()&&h1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ea(n)&&n.Ra.set("Unknown"))}function hg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(i).Y_(e)}function h1(i,e){i.Va.Ue(e),vl(i).Z_(e)}function dg(i){i.Va=new Uj({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),vl(i).start(),i.Ra.ua()}function fg(i){return ea(i)&&!vl(i).x_()&&i.Ia.size>0}function ea(i){return Se(i).Ea.size===0}function d1(i){i.Va=void 0}async function QS(i){i.Ra.set("Online")}async function YS(i){i.Ia.forEach(((e,n)=>{hg(i,e)}))}async function XS(i,e){d1(i),fg(i)?(i.Ra.ha(e),dg(i)):i.Ra.set("Unknown")}async function $S(i,e,n){if(i.Ra.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{await(async function(c,u){const f=u.cause;for(const x of u.targetIds)c.Ia.has(x)&&(await c.remoteSyncer.rejectListen(x,f),c.Ia.delete(x),c.Va.removeTarget(x))})(i,e)}catch(r){ue(Yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(i,r)}else if(e instanceof Zu?i.Va.Ze(e):e instanceof Xb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ee.min()))try{const r=await l1(i.localStore);n.compareTo(r)>=0&&await(function(u,f){const x=u.Va.Tt(f);return x.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const N=u.Ia.get(y);N&&u.Ia.set(y,N.withResumeToken(p.resumeToken,f))}})),x.targetMismatches.forEach(((p,y)=>{const N=u.Ia.get(p);if(!N)return;u.Ia.set(p,N.withResumeToken(Yt.EMPTY_BYTE_STRING,N.snapshotVersion)),h1(u,p);const S=new $i(N.target,p,y,N.sequenceNumber);hg(u,S)})),u.remoteSyncer.applyRemoteEvent(x)})(i,n)}catch(r){ue(Yr,"Failed to raise snapshot:",r),await vh(i,r)}}async function vh(i,e,n){if(!yl(e))throw e;i.Ea.add(1),await ac(i),i.Ra.set("Offline"),n||(n=()=>l1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Yr,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Hh(i)}))}function f1(i,e){return e().catch((n=>vh(i,n,e)))}async function Fh(i){const e=Se(i),n=ar(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;ZS(e);)try{const c=await kS(e.localStore,r);if(c===null){e.Ta.length===0&&n.L_();break}r=c.batchId,JS(e,c)}catch(c){await vh(e,c)}m1(e)&&g1(e)}function ZS(i){return ea(i)&&i.Ta.length<10}function JS(i,e){i.Ta.push(e);const n=ar(i);n.O_()&&n.X_&&n.ea(e.mutations)}function m1(i){return ea(i)&&!ar(i).x_()&&i.Ta.length>0}function g1(i){ar(i).start()}async function WS(i){ar(i).ra()}async function eA(i){const e=ar(i);for(const n of i.Ta)e.ea(n.mutations)}async function tA(i,e,n){const r=i.Ta.shift(),c=sg.from(r,e,n);await f1(i,(()=>i.remoteSyncer.applySuccessfulWrite(c))),await Fh(i)}async function nA(i,e){e&&ar(i).X_&&await(async function(r,c){if((function(f){return Lj(f)&&f!==ne.ABORTED})(c.code)){const u=r.Ta.shift();ar(r).B_(),await f1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,c))),await Fh(r)}})(i,e),m1(i)&&g1(i)}async function rv(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ue(Yr,"RemoteStore received new credentials");const r=ea(n);n.Ea.add(3),await ac(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hh(n)}async function sA(i,e){const n=Se(i);e?(n.Ea.delete(2),await Hh(n)):e||(n.Ea.add(2),await ac(n),n.Ra.set("Unknown"))}function vl(i){return i.ma||(i.ma=(function(n,r,c){const u=Se(n);return u.sa(),new qS(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,c)})(i.datastore,i.asyncQueue,{Xo:QS.bind(null,i),t_:YS.bind(null,i),r_:XS.bind(null,i),H_:$S.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),fg(i)?dg(i):i.Ra.set("Unknown")):(await i.ma.stop(),d1(i))}))),i.ma}function ar(i){return i.fa||(i.fa=(function(n,r,c){const u=Se(n);return u.sa(),new BS(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,c)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:WS.bind(null,i),r_:nA.bind(null,i),ta:eA.bind(null,i),na:tA.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Fh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Yr,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,c,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=c,this.removalCallback=u,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,c,u){const f=Date.now()+r,x=new mg(e,n,f,c,u);return x.start(r),x}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,e){if(ri("AsyncQueue",`${e}: ${i}`),yl(i))return new me(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Io(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const c=n.getNext().key,u=r.getNext().key;if(!c.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.ga=new ut(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class hl{constructor(e,n,r,c,u,f,x,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=c,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=x,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,c,u){const f=[];return n.forEach((x=>{f.push({type:0,doc:x})})),new hl(e,n,Za.emptySet(n),f,r,c,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++)if(n[c].type!==r[c].type||!n[c].doc.isEqual(r[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rA{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const c=Se(n),u=c.queries;c.queries=lv(),u.forEach(((f,x)=>{for(const p of x.Sa)p.onError(r)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function lv(){return new Jr((i=>Ob(i)),Lh)}async function p1(i,e){const n=Se(i);let r=3;const c=e.query;let u=n.queries.get(c);u?!u.ba()&&e.Da()&&(r=2):(u=new iA,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(c,!0);break;case 1:u.wa=await n.onListen(c,!1);break;case 2:await n.onFirstRemoteStoreListen(c)}}catch(f){const x=gg(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(x)}n.queries.set(c,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&pg(n)}async function x1(i,e){const n=Se(i),r=e.query;let c=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?c=e.Da()?0:1:!u.ba()&&e.Da()&&(c=2))}switch(c){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aA(i,e){const n=Se(i);let r=!1;for(const c of e){const u=c.query,f=n.queries.get(u);if(f){for(const x of f.Sa)x.Fa(c)&&(r=!0);f.wa=c}}r&&pg(n)}function lA(i,e,n){const r=Se(i),c=r.queries.get(e);if(c)for(const u of c.Sa)u.onError(n);r.queries.delete(e)}function pg(i){i.Ca.forEach((e=>{e.next()}))}var Mm,ov;(ov=Mm||(Mm={})).Ma="default",ov.Cache="cache";class y1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const c of e.docChanges)c.type!==3&&r.push(c);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.key=e}}class b1{constructor(e){this.key=e}}class oA{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Vb(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new av,c=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=c,x=!1;const p=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,y=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(((N,S)=>{const I=c.get(N),z=Ph(this.query,S)?S:null,V=!!I&&this.mutatedKeys.has(I.key),X=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let P=!1;I&&z?I.data.isEqual(z.data)?V!==X&&(r.track({type:3,doc:z}),P=!0):this.su(I,z)||(r.track({type:2,doc:z}),P=!0,(p&&this.eu(z,p)>0||y&&this.eu(z,y)<0)&&(x=!0)):!I&&z?(r.track({type:0,doc:z}),P=!0):I&&!z&&(r.track({type:1,doc:I}),P=!0,(p||y)&&(x=!0)),P&&(z?(f=f.add(z),u=X?u.add(N):u.delete(N)):(f=f.delete(N),u=u.delete(N)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const N=this.query.limitType==="F"?f.last():f.first();f=f.delete(N.key),u=u.delete(N.key),r.track({type:1,doc:N})}return{tu:f,iu:r,Cs:x,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,c){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((N,S)=>(function(z,V){const X=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:P})}};return X(z)-X(V)})(N.type,S.type)||this.eu(N.doc,S.doc))),this.ou(r),c=c??!1;const x=n&&!c?this._u():[],p=this.Xa.size===0&&this.current&&!c?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new hl(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:x}:{au:x}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new b1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new v1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class cA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uA{constructor(e){this.key=e,this.hu=!1}}class hA{constructor(e,n,r,c,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=c,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Jr((x=>Ob(x)),Lh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(xe.comparator),this.Au=new Map,this.Ru=new ag,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dA(i,e,n=!0){const r=j1(i);let c;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),c=u.view.lu()):c=await _1(r,e,n,!0),c}async function fA(i,e){const n=j1(i);await _1(n,e,!0,!1)}async function _1(i,e,n,r){const c=await DS(i.localStore,Es(e)),u=c.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let x;return r&&(x=await mA(i,e,u,f==="current",c.resumeToken)),i.isPrimaryClient&&n&&u1(i.remoteStore,c),x}async function mA(i,e,n,r,c){i.pu=(S,I,z)=>(async function(X,P,se,ie){let re=P.view.ru(se);re.Cs&&(re=await ev(X.localStore,P.query,!1).then((({documents:_})=>P.view.ru(_,re))));const ce=ie&&ie.targetChanges.get(P.targetId),F=ie&&ie.targetMismatches.get(P.targetId)!=null,Q=P.view.applyChanges(re,X.isPrimaryClient,ce,F);return uv(X,P.targetId,Q.au),Q.snapshot})(i,S,I,z);const u=await ev(i.localStore,e,!0),f=new oA(e,u.Qs),x=f.ru(u.documents),p=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",c),y=f.applyChanges(x,i.isPrimaryClient,p);uv(i,n,y.au);const N=new cA(e,n,f);return i.Tu.set(e,N),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function gA(i,e,n){const r=Se(i),c=r.Tu.get(e),u=r.Iu.get(c.targetId);if(u.length>1)return r.Iu.set(c.targetId,u.filter((f=>!Lh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(c.targetId),r.sharedClientState.isActiveQueryTarget(c.targetId)||await km(r.localStore,c.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(c.targetId),n&&ug(r.remoteStore,c.targetId),Om(r,c.targetId)})).catch(xl)):(Om(r,c.targetId),await km(r.localStore,c.targetId,!0))}async function pA(i,e){const n=Se(i),r=n.Tu.get(e),c=n.Iu.get(r.targetId);n.isPrimaryClient&&c.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ug(n.remoteStore,r.targetId))}async function xA(i,e,n){const r=wA(i);try{const c=await(function(f,x){const p=Se(f),y=st.now(),N=x.reduce(((z,V)=>z.add(V.key)),Pe());let S,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let V=ai(),X=Pe();return p.Ns.getEntries(z,N).next((P=>{V=P,V.forEach(((se,ie)=>{ie.isValidDocument()||(X=X.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,V))).next((P=>{S=P;const se=[];for(const ie of x){const re=kj(ie,S.get(ie.key).overlayedDocument);re!=null&&se.push(new Wr(ie.key,re,Ab(re.value.mapValue),ti.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,se,x)})).next((P=>{I=P;const se=P.applyToLocalDocumentSet(S,X);return p.documentOverlayCache.saveOverlays(z,P.batchId,se)}))})).then((()=>({batchId:I.batchId,changes:Pb(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(c.batchId),(function(f,x,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Le)),y=y.insert(x,p),f.Vu[f.currentUser.toKey()]=y})(r,c.batchId,n),await lc(r,c.changes),await Fh(r.remoteStore)}catch(c){const u=gg(c,"Failed to persist write");n.reject(u)}}async function N1(i,e){const n=Se(i);try{const r=await RS(n.localStore,e);e.targetChanges.forEach(((c,u)=>{const f=n.Au.get(u);f&&(Qe(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,22616),c.addedDocuments.size>0?f.hu=!0:c.modifiedDocuments.size>0?Qe(f.hu,14607):c.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await lc(n,r,e)}catch(r){await xl(r)}}function cv(i,e,n){const r=Se(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const c=[];r.Tu.forEach(((u,f)=>{const x=f.view.va(e);x.snapshot&&c.push(x.snapshot)})),(function(f,x){const p=Se(f);p.onlineState=x;let y=!1;p.queries.forEach(((N,S)=>{for(const I of S.Sa)I.va(x)&&(y=!0)})),y&&pg(p)})(r.eventManager,e),c.length&&r.Pu.H_(c),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yA(i,e,n){const r=Se(i);r.sharedClientState.updateQueryState(e,"rejected",n);const c=r.Au.get(e),u=c&&c.key;if(u){let f=new ut(xe.comparator);f=f.insert(u,Jt.newNoDocument(u,Ee.min()));const x=Pe().add(u),p=new qh(Ee.min(),new Map,new ut(Le),f,x);await N1(r,p),r.du=r.du.remove(u),r.Au.delete(e),yg(r)}else await km(r.localStore,e,!1).then((()=>Om(r,e,n))).catch(xl)}async function vA(i,e){const n=Se(i),r=e.batch.batchId;try{const c=await CS(n.localStore,e);w1(n,r,null),T1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lc(n,c)}catch(c){await xl(c)}}async function bA(i,e,n){const r=Se(i);try{const c=await(function(f,x){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let N;return p.mutationQueue.lookupMutationBatch(y,x).next((S=>(Qe(S!==null,37113),N=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,N,x))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,N))).next((()=>p.localDocuments.getDocuments(y,N)))}))})(r.localStore,e);w1(r,e,n),T1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lc(r,c)}catch(c){await xl(c)}}function T1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function w1(i,e,n){const r=Se(i);let c=r.Vu[r.currentUser.toKey()];if(c){const u=c.get(e);u&&(n?u.reject(n):u.resolve(),c=c.remove(e)),r.Vu[r.currentUser.toKey()]=c}}function Om(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||E1(i,r)}))}function E1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ug(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),yg(i))}function uv(i,e,n){for(const r of n)r instanceof v1?(i.Ru.addReference(r.key,e),_A(i,r)):r instanceof b1?(ue(xg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||E1(i,r.key)):_e(19791,{wu:r})}function _A(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ue(xg,"New document in limbo: "+n),i.Eu.add(r),yg(i))}function yg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new xe(at.fromString(e)),r=i.fu.next();i.Au.set(r,new uA(n)),i.du=i.du.insert(n,r),u1(i.remoteStore,new $i(Es(tg(n.path)),r,"TargetPurposeLimboResolution",Dh.ce))}}async function lc(i,e,n){const r=Se(i),c=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((x,p)=>{f.push(r.pu(p,e,n).then((y=>{var N;if((y||n)&&r.isPrimaryClient){const S=y?!y.fromCache:(N=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:N.current;r.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){c.push(y);const S=og.As(p.targetId,y);u.push(S)}})))})),await Promise.all(f),r.Pu.H_(c),await(async function(p,y){const N=Se(p);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(y,(I=>te.forEach(I.Es,(z=>N.persistence.referenceDelegate.addReference(S,I.targetId,z))).next((()=>te.forEach(I.ds,(z=>N.persistence.referenceDelegate.removeReference(S,I.targetId,z)))))))))}catch(S){if(!yl(S))throw S;ue(cg,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const z=N.Ms.get(I),V=z.snapshotVersion,X=z.withLastLimboFreeSnapshotVersion(V);N.Ms=N.Ms.insert(I,X)}}})(r.localStore,u))}async function NA(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ue(xg,"User change. New user:",e.toKey());const r=await a1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((x=>{x.forEach((p=>{p.reject(new me(ne.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(n,r.Ls)}}function TA(i,e){const n=Se(i),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let c=Pe();const u=n.Iu.get(e);if(!u)return c;for(const f of u){const x=n.Tu.get(f);c=c.unionWith(x.view.nu)}return c}}function j1(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yA.bind(null,e),e.Pu.H_=aA.bind(null,e.eventManager),e.Pu.yu=lA.bind(null,e.eventManager),e}function wA(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bA.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AS(this.persistence,new ES,e.initialUser,this.serializer)}Cu(e){return new r1(lg.mi,this.serializer)}Du(e){return new OS}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class EA extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uS(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new r1((r=>yh.mi(r,n)),this.serializer)}}class Vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NA.bind(null,this.syncEngine),await sA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rA})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=(function(u){return new US(u)})(e.databaseInfo);return(function(u,f,x,p){return new FS(u,f,x,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,c,u,f,x){return new KS(r,c,u,f,x)})(this.localStore,this.datastore,e.asyncQueue,(n=>cv(this.syncEngine,n,0)),(function(){return sv.v()?new sv:new VS})())}createSyncEngine(e,n){return(function(c,u,f,x,p,y,N){const S=new hA(c,u,f,x,p,y);return N&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(c){const u=Se(c);ue(Yr,"RemoteStore shutting down."),u.Ea.add(5),await ac(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vm.provider={build:()=>new Vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class jA{constructor(e,n,r,c,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=c,this.user=Zt.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ue(lr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ue(lr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(lr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async c=>{r.isEqual(c)||(await a1(e.localStore,c),r=c)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function hv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await SA(i);ue(lr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>rv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,c)=>rv(e.remoteStore,c))),i._onlineComponents=e}async function SA(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(lr,"Using user provided OfflineComponentProvider");try{await dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(c){return c.name==="FirebaseError"?c.code===ne.FAILED_PRECONDITION||c.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(n))throw n;rl("Error using user provided cache. Falling back to memory cache: "+n),await dm(i,new bh)}}else ue(lr,"Using default OfflineComponentProvider"),await dm(i,new EA(void 0));return i._offlineComponents}async function A1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(lr,"Using user provided OnlineComponentProvider"),await hv(i,i._uninitializedComponentsProvider._online)):(ue(lr,"Using default OnlineComponentProvider"),await hv(i,new Vm))),i._onlineComponents}function AA(i){return A1(i).then((e=>e.syncEngine))}async function C1(i){const e=await A1(i),n=e.eventManager;return n.onListen=dA.bind(null,e.syncEngine),n.onUnlisten=gA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pA.bind(null,e.syncEngine),n}function CA(i,e,n={}){const r=new ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,x,p,y){const N=new S1({next:I=>{N.Nu(),f.enqueueAndForget((()=>x1(u,S)));const z=I.docs.has(x);!z&&I.fromCache?y.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&I.fromCache&&p&&p.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new y1(tg(x.path),N,{includeMetadataChanges:!0,qa:!0});return p1(u,S)})(await C1(i),i.asyncQueue,e,n,r))),r.promise}function RA(i,e,n={}){const r=new ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,x,p,y){const N=new S1({next:I=>{N.Nu(),f.enqueueAndForget((()=>x1(u,S))),I.fromCache&&p.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new y1(x,N,{includeMetadataChanges:!0,qa:!0});return p1(u,S)})(await C1(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firestore.googleapis.com",fv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I1,this.ssl=fv}else this.host=e.host,this.ssl=e.ssl??fv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oS)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,c){return r.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,r,c){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OE;switch(r.type){case"firstParty":return new zE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dv.get(n);r&&(ue("ComponentProvider","Removing Datastore"),dv.delete(n),r.terminate())})(this),Promise.resolve()}}function IA(i,e,n,r={}){var y;i=ll(i,Gh);const c=ml(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},x=`${e}:${n}`;c&&(tb(`https://${x}`),nb("Firestore",!0)),u.host!==I1&&u.host!==x&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:x,ssl:c,emulatorOptions:r};if(!Gr(p,f)&&(i._setSettings(p),r.mockUserToken)){let N,S;if(typeof r.mockUserToken=="string")N=r.mockUserToken,S=Zt.MOCK_USER;else{N=aw(r.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Zt(I)}i._authCredentials=new VE(new pb(N,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kh(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(sc(n,zt._jsonSchema))return new zt(e,r||null,new xe(at.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:At("string",zt._jsonSchemaVersion),referencePath:At("string")};class tr extends Kh{constructor(e,n,r){super(e,n,tg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new xe(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function k1(i,e,...n){if(i=fn(i),xb("collection","path",e),i instanceof Gh){const r=at.fromString(e,...n);return Ay(r),new tr(i,null,r)}{if(!(i instanceof zt||i instanceof tr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(e,...n));return Ay(r),new tr(i.firestore,null,r)}}function D1(i,e,...n){if(i=fn(i),arguments.length===1&&(e=Ym.newId()),xb("doc","path",e),i instanceof Gh){const r=at.fromString(e,...n);return Sy(r),new zt(i,null,new xe(r))}{if(!(i instanceof zt||i instanceof tr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(e,...n));return Sy(r),new zt(i.firestore,i instanceof tr?i.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o1(this,"async_queue_retry"),this._c=()=>{const r=hm();r&&ue(gv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;ue(gv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const c=mg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(c),c}uc(){this.nc&&_e(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Qh extends Gh{constructor(e,n,r,c){super(e,n,r,c),this.type="firestore",this._queue=new pv,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function kA(i,e){const n=typeof i=="object"?i:ab(),r=typeof i=="string"?i:hh,c=Km(n,"firestore").getImmediate({identifier:r});if(!c._initialized){const u=iw("firestore");u&&IA(c,...u)}return c}function vg(i){if(i._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DA(i),i._firestoreClient}function DA(i){var r,c,u;const e=i._freezeSettings(),n=(function(x,p,y,N){return new nj(x,p,y,N.host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,R1(N.experimentalLongPollingOptions),N.useFetchStreams,N.isUsingEmulator)})(i._databaseId,((r=i._app)==null?void 0:r.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new jA(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(x){const p=x==null?void 0:x._online.build();return{_offline:x==null?void 0:x._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sc(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:At("string",zn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ss._jsonSchemaVersion}}static fromJSON(e){if(sc(e,Ss._jsonSchema))return new Ss(e.latitude,e.longitude)}}Ss._jsonSchemaVersion="firestore/geoPoint/1.0",Ss._jsonSchema={type:At("string",Ss._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,c){if(r.length!==c.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==c[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sc(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new As(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:At("string",As._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=/^__.*__$/;class OA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}function O1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class _g{constructor(e,n,r,c,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=c,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var c;const n=(c=this.path)==null?void 0:c.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var c;const n=(c=this.path)==null?void 0:c.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O1(this.Ac)&&MA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}Cc(e,n,r,c=!1){return new _g({Ac:e,methodName:n,Dc:r,path:Qt.emptyPath(),fc:!1,bc:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LA(i){const e=i._freezeSettings(),n=Bh(i._databaseId);return new VA(i._databaseId,!!e.ignoreUndefinedProperties,n)}function PA(i,e,n,r,c,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,c);z1("Data must be an object, but it was:",f,r);const x=L1(r,f);let p,y;if(u.merge)p=new Jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const N=[];for(const S of u.mergeFields){const I=zA(e,S,n);if(!f.contains(I))throw new me(ne.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);qA(N,I)||N.push(I)}p=new Jn(N),y=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=f.fieldTransforms;return new OA(new Pn(x),p,y)}function V1(i,e){if(P1(i=fn(i)))return z1("Unsupported field value:",e,i),L1(i,e);if(i instanceof M1)return(function(r,c){if(!O1(c.Ac))throw c.Sc(`${r._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(c);u&&c.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,c){const u=[];let f=0;for(const x of r){let p=V1(x,c.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(r,c){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jj(c.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=st.fromDate(r);return{timestampValue:xh(c.serializer,u)}}if(r instanceof st){const u=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(c.serializer,u)}}if(r instanceof Ss)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Zb(c.serializer,r._byteString)};if(r instanceof zt){const u=c.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw c.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rg(r.firestore._databaseId||c.databaseId,r._key.path)}}if(r instanceof As)return(function(f,x){return{mapValue:{fields:{[jb]:{stringValue:Sb},[dh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw x.Sc("VectorValues must only contain numeric values.");return ng(x.serializer,y)}))}}}}}})(r,c);throw c.Sc(`Unsupported field value: ${Xm(r)}`)})(i,e)}function L1(i,e){const n={};return bb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(i,((r,c)=>{const u=V1(c,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function P1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Ss||i instanceof zn||i instanceof zt||i instanceof M1||i instanceof As)}function z1(i,e,n){if(!P1(n)||!yb(n)){const r=Xm(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function zA(i,e,n){if((e=fn(e))instanceof bg)return e._internalPath;if(typeof e=="string")return U1(i,e);throw _h("Field path arguments must be of type string or ",i,!1,void 0,n)}const UA=new RegExp("[~\\*/\\[\\]]");function U1(i,e,n){if(e.search(UA)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new bg(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function _h(i,e,n,r,c){const u=r&&!r.isEmpty(),f=c!==void 0;let x=`Function ${e}() called with invalid data`;n&&(x+=" (via `toFirestore()`)"),x+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${c}`),p+=")"),new me(ne.INVALID_ARGUMENT,x+i+p)}function qA(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,r,c,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=c,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BA extends q1{data(){return super.data()}}function B1(i,e){return typeof e=="string"?U1(i,e):e instanceof bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FA{convertValue(e,n="none"){switch(rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zr(e,((c,u)=>{r[c]=this.convertValue(u,n)})),r}convertVectorValue(e){var r,c,u;const n=(u=(c=(r=e.fields)==null?void 0:r[dh].arrayValue)==null?void 0:c.values)==null?void 0:u.map((f=>xt(f.doubleValue)));return new As(n)}convertGeoPoint(e){return new Ss(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Oh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const n=sr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Qe(s1(r),9688,{name:e});const c=new Ko(r.get(1),r.get(3)),u=new xe(r.popFirst(5));return c.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Do{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hr extends q1{constructor(e,n,r,c,u,f){super(e,n,r,c,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(B1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:At("string",Hr._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Ju extends Hr{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,c){this._firestore=e,this._userDataWriter=n,this._snapshot=c,this.metadata=new Do(c.hasPendingWrites,c.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ju(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(c,u){if(c._snapshot.oldDocs.isEmpty()){let f=0;return c._snapshot.docChanges.map((x=>{const p=new Ju(c._firestore,c._userDataWriter,x.doc.key,x.doc,new Do(c._snapshot.mutatedKeys.has(x.doc.key),c._snapshot.fromCache),c.query.converter);return x.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((x=>u||x.type!==3)).map((x=>{const p=new Ju(c._firestore,c._userDataWriter,x.doc.key,x.doc,new Do(c._snapshot.mutatedKeys.has(x.doc.key),c._snapshot.fromCache),c.query.converter);let y=-1,N=-1;return x.type!==0&&(y=f.indexOf(x.doc.key),f=f.delete(x.doc.key)),x.type!==1&&(f=f.add(x.doc),N=f.indexOf(x.doc.key)),{type:KA(x.type),doc:p,oldIndex:y,newIndex:N}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],c=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),c.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KA(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(i){i=ll(i,zt);const e=ll(i.firestore,Qh);return CA(vg(e),i._key).then((n=>ZA(e,i,n)))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:At("string",Ja._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class H1 extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function YA(i){i=ll(i,Kh);const e=ll(i.firestore,Qh),n=vg(e),r=new H1(e);return HA(i._query),RA(n,i._query).then((c=>new Ja(e,r,i,c)))}function XA(i,e){const n=ll(i.firestore,Qh),r=D1(i),c=GA(i.converter,e);return $A(n,[PA(LA(i.firestore),"addDoc",r._key,c,i.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then((()=>r))}function $A(i,e){return(function(r,c){const u=new ei;return r.asyncQueue.enqueueAndForget((async()=>xA(await AA(r),c,u))),u.promise})(vg(i),e)}function ZA(i,e,n){const r=n.docs.get(e._key),c=new H1(i);return new Hr(i,c,e._key,r,new Do(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(c){pl=c})(gl),il(new Kr("firestore",((r,{instanceIdentifier:c,options:u})=>{const f=r.getProvider("app").getImmediate(),x=new Qh(new LE(r.getProvider("auth-internal")),new UE(f,r.getProvider("app-check-internal")),(function(y,N){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(y.options.projectId,N)})(f,c),f);return u={useFetchStreams:n,...u},x._setSettings(u),x}),"PUBLIC").setMultipleInstances(!0)),Wi(Ty,wy,e),Wi(Ty,wy,"esm2020")})();function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=F1,G1=new tc("auth","Firebase",F1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Fm("@firebase/auth");function WA(i,...e){Nh.logLevel<=Ve.WARN&&Nh.warn(`Auth (${gl}): ${i}`,...e)}function Wu(i,...e){Nh.logLevel<=Ve.ERROR&&Nh.error(`Auth (${gl}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(i,...e){throw Ng(i,...e)}function Cs(i,...e){return Ng(i,...e)}function K1(i,e,n){const r={...JA(),[e]:n};return new tc("auth","Firebase",r).create(e,{appName:i.name})}function ni(i){return K1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return G1.create(i,...e)}function be(i,e,...n){if(!i)throw Ng(e,...n)}function Js(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Wu(e),new Error(e)}function li(i,e){i||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function eC(){return yv()==="http:"||yv()==="https:"}function yv(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eC()||dw()||"connection"in navigator)?navigator.onLine:!0}function nC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=cw()||fw()}get(){return tC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e){li(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rC=new oc(3e4,6e4);function ci(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ui(i,e,n,r,c={}){return Y1(i,c,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const x=nc({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...u};return hw()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ml(i.emulatorConfig.host)&&(y.credentials="include"),Q1.fetch()(await X1(i,i.config.apiHost,n,x),y)})}async function Y1(i,e,n){i._canInitEmulator=!1;const r={...sC,...e};try{const c=new lC(i),u=await Promise.race([n(),c.promise]);c.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ku(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const x=u.ok?f.errorMessage:f.error.message,[p,y]=x.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ku(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ku(i,"user-disabled",f);const N=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw K1(i,N,y);es(i,N)}}catch(c){if(c instanceof oi)throw c;es(i,"network-request-failed",{message:String(c)})}}async function cc(i,e,n,r,c={}){const u=await ui(i,e,n,r,c);return"mfaPendingCredential"in u&&es(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function X1(i,e,n,r){const c=`${e}${n}?${r}`,u=i,f=u.config.emulator?Tg(i.config,c):`${i.config.apiScheme}://${c}`;return iC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function aC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cs(this.auth,"network-request-failed")),rC.get())})}}function Ku(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const c=Cs(i,e,r);return c.customData._tokenResponse=n,c}function vv(i){return i!==void 0&&i.enterprise!==void 0}class oC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cC(i,e){return ui(i,"GET","/v2/recaptchaConfig",ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(i,e){return ui(i,"POST","/v1/accounts:delete",e)}async function Th(i,e){return ui(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hC(i,e=!1){const n=fn(i),r=await n.getIdToken(e),c=wg(r);be(c&&c.exp&&c.auth_time&&c.iat,n.auth,"internal-error");const u=typeof c.firebase=="object"?c.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:c,token:r,authTime:Uo(fm(c.auth_time)),issuedAtTime:Uo(fm(c.iat)),expirationTime:Uo(fm(c.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function fm(i){return Number(i)*1e3}function wg(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const c=Zv(n);return c?JSON.parse(c):(Wu("Failed to decode base64 JWT payload"),null)}catch(c){return Wu("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function bv(i){const e=wg(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oi&&dC(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function dC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var S;const e=i.auth,n=await i.getIdToken(),r=await $o(i,Th(e,{idToken:n}));be(r==null?void 0:r.users.length,e,"internal-error");const c=r.users[0];i._notifyReloadListener(c);const u=(S=c.providerUserInfo)!=null&&S.length?$1(c.providerUserInfo):[],f=gC(i.providerData,u),x=i.isAnonymous,p=!(i.email&&c.passwordHash)&&!(f!=null&&f.length),y=x?p:!1,N={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new Pm(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(i,N)}async function mC(i){const e=fn(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gC(i,e){return[...i.filter(r=>!e.some(c=>c.providerId===r.providerId)),...e]}function $1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(i,e){const n=await Y1(i,{},async()=>{const r=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:u}=i.config,f=await X1(i,c,"/v1/token",`key=${u}`),x=await i._getAdditionalHeaders();x["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:x,body:r};return i.emulatorConfig&&ml(i.emulatorConfig.host)&&(p.credentials="include"),Q1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xC(i,e){return ui(i,"POST","/v2/accounts:revokeToken",ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:c,expiresIn:u}=await pC(e,n);this.updateTokensAndExpiration(r,c,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:c,expirationTime:u}=n,f=new Wa;return r&&(be(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),c&&(be(typeof c=="string","internal-error",{appName:e}),f.accessToken=c),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...c}){this.providerId="firebase",this.proactiveRefresh=new fC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Pm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await $o(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hC(this,e)}reload(){return mC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await $o(this,uC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,c=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,x=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,N=n.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:z,providerData:V,stsTokenManager:X}=n;be(S&&X,e,"internal-error");const P=Wa.fromJSON(this.name,X);be(typeof S=="string",e,"internal-error"),Fi(r,e.name),Fi(c,e.name),be(typeof I=="boolean",e,"internal-error"),be(typeof z=="boolean",e,"internal-error"),Fi(u,e.name),Fi(f,e.name),Fi(x,e.name),Fi(p,e.name),Fi(y,e.name),Fi(N,e.name);const se=new Wn({uid:S,auth:e,email:c,emailVerified:I,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:x,stsTokenManager:P,createdAt:y,lastLoginAt:N});return V&&Array.isArray(V)&&(se.providerData=V.map(ie=>({...ie}))),p&&(se._redirectEventId=p),se}static async _fromIdTokenResponse(e,n,r=!1){const c=new Wa;c.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:c,isAnonymous:r});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const c=n.users[0];be(c.localId!==void 0,"internal-error");const u=c.providerUserInfo!==void 0?$1(c.providerUserInfo):[],f=!(c.email&&c.passwordHash)&&!(u!=null&&u.length),x=new Wa;x.updateFromIdToken(r);const p=new Wn({uid:c.localId,auth:e,stsTokenManager:x,isAnonymous:f}),y={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:u,metadata:new Pm(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;function Ws(i){li(i instanceof Function,"Expected a class definition");let e=_v.get(i);return e?(li(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,_v.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z1.type="NONE";const Nv=Z1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(i,e,n){return`firebase:${i}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:c,name:u}=this.auth;this.fullUserKey=eh(this.userKey,c.apiKey,u),this.fullPersistenceKey=eh("persistence",c.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el(Ws(Nv),e,r);const c=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=c[0]||Ws(Nv);const f=eh(r,e.config.apiKey,e.name);let x=null;for(const y of n)try{const N=await y._get(f);if(N){let S;if(typeof N=="string"){const I=await Th(e,{idToken:N}).catch(()=>{});if(!I)break;S=await Wn._fromGetAccountInfoResponse(e,I,N)}else S=Wn._fromJSON(e,N);y!==u&&(x=S),u=y;break}}catch{}const p=c.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new el(u,e,r):(u=p[0],x&&await u._set(f,x.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new el(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s_(e))return"Blackberry";if(i_(e))return"Webos";if(W1(e))return"Safari";if((e.includes("chrome/")||e_(e))&&!e.includes("edge/"))return"Chrome";if(n_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function J1(i=Wt()){return/firefox\//i.test(i)}function W1(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e_(i=Wt()){return/crios\//i.test(i)}function t_(i=Wt()){return/iemobile/i.test(i)}function n_(i=Wt()){return/android/i.test(i)}function s_(i=Wt()){return/blackberry/i.test(i)}function i_(i=Wt()){return/webos/i.test(i)}function Eg(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function yC(i=Wt()){var e;return Eg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function vC(){return mw()&&document.documentMode===10}function r_(i=Wt()){return Eg(i)||n_(i)||i_(i)||s_(i)||/windows phone/i.test(i)||t_(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(i,e=[]){let n;switch(i){case"Browser":n=Tv(Wt());break;case"Worker":n=`${Tv(Wt())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,x)=>{try{const p=e(u);f(p)}catch(p){x(p)}});r.onAbort=n,this.queue.push(r);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const c of n)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(i,e={}){return ui(i,"GET","/v2/passwordPolicy",ci(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=6;class TC{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??NC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),c&&(n.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let c=0;c<e.length;c++)r=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,c,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,c){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wv(this),this.idTokenSubscription=new wv(this),this.beforeStateQueue=new bC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ws(n)),this._initializationPromise=this.queue(async()=>{var r,c,u;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((c=this._popupRedirectResolver)!=null&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Ln(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(x=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(x,x))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,x=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===x)&&(p!=null&&p.user)&&(r=p.user,c=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(ni(this));const n=e?fn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _C(this),n=new TC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ws(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,c){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const x=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(x,this,"internal-error"),x.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,c);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var c;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((c=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:c.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&WA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function or(i){return fn(i)}class wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nw(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(i){Yh=i}function l_(i){return Yh.loadJS(i)}function jC(){return Yh.recaptchaEnterpriseScript}function SC(){return Yh.gapiScript}function AC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class CC{constructor(){this.enterprise=new RC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IC="recaptcha-enterprise",o_="NO_RECAPTCHA";class kC{constructor(e){this.type=IC,this.auth=or(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,x)=>{cC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)x(new Error("recaptcha Enterprise site key undefined"));else{const y=new oC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{x(p)})})}function c(u,f,x){const p=window.grecaptcha;vv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(o_)})}):x(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(x=>{if(!n&&vv(window.grecaptcha))c(x,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jC();p.length!==0&&(p+=x),l_(p).then(()=>{c(x,u,f)}).catch(y=>{f(y)})}}).catch(x=>{f(x)})})}}async function Ev(i,e,n,r=!1,c=!1){const u=new kC(i);let f;if(c)f=o_;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const x={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in x){const p=x.phoneEnrollmentInfo.phoneNumber,y=x.phoneEnrollmentInfo.recaptchaToken;Object.assign(x,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in x){const p=x.phoneSignInInfo.recaptchaToken;Object.assign(x,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return x}return r?Object.assign(x,{captchaResp:f}):Object.assign(x,{captchaResponse:f}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x}async function Eh(i,e,n,r,c){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Ev(i,e,n,n==="getOobCode");return r(i,f)}else return r(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=await Ev(i,e,n,n==="getOobCode");return r(i,x)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(i,e){const n=Km(i,"auth");if(n.isInitialized()){const c=n.getImmediate(),u=n.getOptions();if(Gr(u,e??{}))return c;es(c,"already-initialized")}return n.initialize({options:e})}function MC(i,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ws);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OC(i,e,n){const r=or(i);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const c=!1,u=c_(e),{host:f,port:x}=VC(e),p=x===null?"":`:${x}`,y={url:`${u}//${f}${p}/`},N=Object.freeze({host:f,port:x,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Gr(y,r.config.emulator)&&Gr(N,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=N,r.settings.appVerificationDisabledForTesting=!0,ml(f)?(tb(`${u}//${f}${p}`),nb("Auth",!0)):LC()}function c_(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function VC(i){const e=c_(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(r);if(c){const u=c[1];return{host:u,port:jv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:jv(f)}}}function jv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function LC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,n){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function PC(i,e){return ui(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(i,e){return cc(i,"POST","/v1/accounts:signInWithPassword",ci(i,e))}async function UC(i,e){return ui(i,"POST","/v1/accounts:sendOobCode",ci(i,e))}async function qC(i,e){return UC(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(i,e){return cc(i,"POST","/v1/accounts:signInWithEmailLink",ci(i,e))}async function HC(i,e){return cc(i,"POST","/v1/accounts:signInWithEmailLink",ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends jg{constructor(e,n,r,c=null){super("password",r),this._email=e,this._password=n,this._tenantId=c}static _fromEmailAndPassword(e,n){return new Zo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,n,"signInWithPassword",zC);case"emailLink":return BC(e,{email:this._email,oobCode:this._password});default:es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,r,"signUpPassword",PC);case"emailLink":return HC(e,{idToken:n,email:this._email,oobCode:this._password});default:es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(i,e){return cc(i,"POST","/v1/accounts:signInWithIdp",ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="http://localhost";class Xr extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:c,...u}=n;if(!r||!c)return null;const f=new Xr(r,c);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KC(i){const e=Ao(Co(i)).link,n=e?Ao(Co(e)).deep_link_id:null,r=Ao(Co(i)).deep_link_id;return(r?Ao(Co(r)).link:null)||r||n||e||i}class Sg{constructor(e){const n=Ao(Co(e)),r=n.apiKey??null,c=n.oobCode??null,u=GC(n.mode??null);be(r&&c&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=c,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=KC(e);try{return new Sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,n){return Zo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sg.parseLink(n);return be(r,"argument-error"),Zo._fromEmailAndCode(e,r.code,r.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends u_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends uc{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends uc{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends uc{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(i,e){return cc(i,"POST","/v1/accounts:signUp",ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,c=!1){const u=await Wn._fromIdTokenResponse(e,r,c),f=Sv(r);return new $r({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const c=Sv(r);return new $r({user:e,providerId:c,_tokenResponse:r,operationType:n})}}function Sv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends oi{constructor(e,n,r,c){super(n.code,n.message),this.operationType=r,this.user=c,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,c){return new jh(e,n,r,c)}}function h_(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(i,u,e,r):u})}async function YC(i,e,n=!1){const r=await $o(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return $r._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,e,n=!1){const{auth:r}=i;if(Ln(r.app))return Promise.reject(ni(r));const c="reauthenticate";try{const u=await $o(i,h_(r,c,e,i),n);be(u.idToken,r,"internal-error");const f=wg(u.idToken);be(f,r,"internal-error");const{sub:x}=f;return be(i.uid===x,r,"user-mismatch"),$r._forOperation(i,c,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&es(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(i,e,n=!1){if(Ln(i.app))return Promise.reject(ni(i));const r="signIn",c=await h_(i,r,e),u=await $r._fromIdTokenResponse(i,r,c);return n||await i._updateCurrentUser(u.user),u}async function $C(i,e){return d_(or(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(i){const e=or(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZC(i,e,n){const r=or(i);await Eh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qC)}async function JC(i,e,n){if(Ln(i.app))return Promise.reject(ni(i));const r=or(i),f=await Eh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&f_(i),p}),x=await $r._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(x.user),x}function WC(i,e,n){return Ln(i.app)?Promise.reject(ni(i)):$C(fn(i),bl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&f_(i),r})}function e4(i,e,n,r){return fn(i).onIdTokenChanged(e,n,r)}function t4(i,e,n){return fn(i).beforeAuthStateChanged(e,n)}function n4(i,e,n,r){return fn(i).onAuthStateChanged(e,n,r)}function s4(i){return fn(i).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1e3,r4=10;class g_ extends m_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),c=this.localCache[n];r!==c&&e(n,c,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,x,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const c=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);vC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,r4):c()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const c of Array.from(r))c(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g_.type="LOCAL";const a4=g_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends m_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}p_.type="SESSION";const x_=p_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(c=>c.isListeningto(e));if(n)return n;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:c,data:u}=n.data,f=this.handlersMap[c];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:c});const x=Array.from(f).map(async y=>y(n.origin,u)),p=await l4(x);n.ports[0].postMessage({status:"done",eventId:r,eventType:c,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let u,f;return new Promise((x,p)=>{const y=Ag("",20);c.port1.start();const N=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:c,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(N),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),x(I.data.response);break;default:clearTimeout(N),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),c.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[c.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(){return window}function c4(i){Rs().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function u4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function d4(){return y_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="firebaseLocalStorageDb",f4=1,Ah="firebaseLocalStorage",b_="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(i,e){return i.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function m4(){const i=indexedDB.deleteDatabase(v_);return new hc(i).toPromise()}function zm(){const i=indexedDB.open(v_,f4);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Ah,{keyPath:b_})}catch(c){n(c)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await m4(),e(await zm()))})})}async function Av(i,e,n){const r=$h(i,!0).put({[b_]:e,value:n});return new hc(r).toPromise()}async function g4(i,e){const n=$h(i,!1).get(e),r=await new hc(n).toPromise();return r===void 0?null:r.value}function Cv(i,e){const n=$h(i,!0).delete(e);return new hc(n).toPromise()}const p4=800,x4=3;class __{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(d4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await u4(),!this.activeServiceWorker)return;this.sender=new o4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await Av(e,Sh,"1"),await Cv(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Av(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>g4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const u=$h(c,!1).getAll();return new hc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:c,value:u}of e)r.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(u)&&(this.notifyListeners(c,u),n.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!r.has(c)&&(this.notifyListeners(c,null),n.push(c));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const c of Array.from(r))c(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}__.type="LOCAL";const y4=__;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(i,e){return e?Ws(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b4(i){return d_(i.auth,new Cg(i),i.bypassAuthState)}function _4(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),XC(n,new Cg(i),i.bypassAuthState)}async function N4(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),YC(n,new Cg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,c,u=!1){this.auth=e,this.resolver=r,this.user=c,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:c,tenantId:u,error:f,type:x}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(x)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b4;case"linkViaPopup":case"linkViaRedirect":return N4;case"reauthViaPopup":case"reauthViaRedirect":return _4;default:es(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new oc(2e3,1e4);class $a extends N_{constructor(e,n,r,c,u){super(e,n,c,u),this.provider=r,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T4.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="pendingRedirect",th=new Map;class E4 extends N_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await j4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j4(i,e){const n=C4(e),r=A4(i);if(!await r._isAvailable())return!1;const c=await r._get(n)==="true";return await r._remove(n),c}function S4(i,e){th.set(i._key(),e)}function A4(i){return Ws(i._redirectPersistence)}function C4(i){return eh(w4,i.config.apiKey,i.name)}async function R4(i,e,n=!1){if(Ln(i.app))return Promise.reject(ni(i));const r=or(i),c=v4(r,e),f=await new E4(r,c,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=600*1e3;class k4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!T_(e)){const c=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cs(this.auth,c))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function T_({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T_(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(i,e={}){return ui(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V4=/^https?/;async function L4(i){if(i.config.emulator)return;const{authorizedDomains:e}=await M4(i);for(const n of e)try{if(P4(n))return}catch{}es(i,"unauthorized-domain")}function P4(i){const e=Lm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!V4.test(n))return!1;if(O4.test(i))return r===i;const c=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new oc(3e4,6e4);function Iv(){const i=Rs().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function U4(i){return new Promise((e,n)=>{var c,u,f;function r(){Iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iv(),n(Cs(i,"network-request-failed"))},timeout:z4.get()})}if((u=(c=Rs().gapi)==null?void 0:c.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Rs().gapi)!=null&&f.load)r();else{const x=AC("iframefcb");return Rs()[x]=()=>{gapi.load?r():n(Cs(i,"network-request-failed"))},l_(`${SC()}?onload=${x}`).catch(p=>n(p))}}).catch(e=>{throw nh=null,e})}let nh=null;function q4(i){return nh=nh||U4(i),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new oc(5e3,15e3),H4="__/auth/iframe",F4="emulator/auth/iframe",G4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q4(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Tg(e,F4):`https://${i.config.authDomain}/${H4}`,r={apiKey:e.apiKey,appName:i.name,v:gl},c=K4.get(i.config.apiHost);c&&(r.eid=c);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${nc(r).slice(1)}`}async function Y4(i){const e=await q4(i),n=Rs().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:Q4(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G4,dontclear:!0},r=>new Promise(async(c,u)=>{await r.restyle({setHideOnLeave:!1});const f=Cs(i,"network-request-failed"),x=Rs().setTimeout(()=>{u(f)},B4.get());function p(){Rs().clearTimeout(x),c(r)}r.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$4=500,Z4=600,J4="_blank",W4="http://localhost";class kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e5(i,e,n,r=$4,c=Z4){const u=Math.max((window.screen.availHeight-c)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let x="";const p={...X4,width:r.toString(),height:c.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(x=e_(y)?J4:n),J1(y)&&(e=e||W4,p.scrollbars="yes");const N=Object.entries(p).reduce((I,[z,V])=>`${I}${z}=${V},`,"");if(yC(y)&&x!=="_self")return t5(e||"",x),new kv(null);const S=window.open(e||"",x,N);be(S,i,"popup-blocked");try{S.focus()}catch{}return new kv(S)}function t5(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="__/auth/handler",s5="emulator/auth/handler",i5=encodeURIComponent("fac");async function Dv(i,e,n,r,c,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:gl,eventId:c};if(e instanceof u_){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",_w(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,S]of Object.entries({}))f[N]=S}if(e instanceof uc){const N=e.getScopes().filter(S=>S!=="");N.length>0&&(f.scopes=N.join(","))}i.tenantId&&(f.tid=i.tenantId);const x=f;for(const N of Object.keys(x))x[N]===void 0&&delete x[N];const p=await i._getAppCheckToken(),y=p?`#${i5}=${encodeURIComponent(p)}`:"";return`${r5(i)}?${nc(x).slice(1)}${y}`}function r5({config:i}){return i.emulator?Tg(i,s5):`https://${i.authDomain}/${n5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class a5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x_,this._completeRedirectFn=R4,this._overrideRedirectResult=S4}async _openPopup(e,n,r,c){var f;li((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Dv(e,n,r,Lm(),c);return e5(e,u,Ag())}async _openRedirect(e,n,r,c){await this._originValidation(e);const u=await Dv(e,n,r,Lm(),c);return c4(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:c,promise:u}=this.eventManagers[n];return c?Promise.resolve(c):(li(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Y4(e),r=new k4(e);return n.register("authEvent",c=>(be(c==null?void 0:c.authEvent,e,"invalid-auth-event"),{status:r.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},c=>{var f;const u=(f=c==null?void 0:c[0])==null?void 0:f[mm];u!==void 0&&n(!!u),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r_()||W1()||Eg()}}const l5=a5;var Mv="@firebase/auth",Ov="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u5(i){il(new Kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:x}=r.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:x,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a_(i)},y=new wC(r,c,u,p);return MC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),il(new Kr("auth-internal",e=>{const n=or(e.getProvider("auth").getImmediate());return(r=>new o5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(Mv,Ov,c5(i)),Wi(Mv,Ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=300,d5=eb("authIdTokenMaxAge")||h5;let Vv=null;const f5=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d5)return;const c=n==null?void 0:n.token;Vv!==c&&(Vv=c,await fetch(i,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function m5(i=ab()){const e=Km(i,"auth");if(e.isInitialized())return e.getImmediate();const n=DC(i,{popupRedirectResolver:l5,persistence:[y4,a4,x_]}),r=eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=f5(u.toString());t4(n,f,()=>f(n.currentUser)),e4(n,x=>f(x))}}const c=Jv("auth");return c&&OC(n,`http://${c}`),n}function g5(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}EC({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=c=>{const u=Cs("internal-error");u.customData=c,n(u)},r.type="text/javascript",r.charset="UTF-8",g5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u5("Browser");const p5={apiKey:"AIzaSyA2mWDsNSDW4oTYmfUFYGcMVFFNkd73PWw",authDomain:"chuleaf-17611.firebaseapp.com",projectId:"chuleaf-17611",storageBucket:"chuleaf-17611.firebasestorage.app",messagingSenderId:"349244563602",appId:"1:349244563602:web:f8fc22665404e18a01064b",measurementId:"G-NVNFT00418"},w_=rb(p5),Rg=kA(w_),Jo=m5(w_),x5=({categoryId:i="luc-tra"})=>{const[e,n]=Y.useState(!1),{addToCart:r}=fl(),[c,u]=Y.useState([]),[f,x]=Y.useState([]),[p,y]=Y.useState([]),[N,S]=Y.useState([]),[I,z]=Y.useState(!0),V=Bo[i]||{title:"Sn Phm",description:"Khm ph cc sn phm cht lng ca ChuLeaf.",breadcrumb:"Sn phm",parent:{label:"Trang ch",href:"#"}},X=(_,T)=>{_.preventDefault(),T==="#"?window.scrollTo({top:0,behavior:"smooth"}):window.location.hash=T},P=_=>{window.location.hash=`#${_}`};Y.useEffect(()=>{(async()=>{z(!0);try{const T=k1(Rg,"products"),A=await YA(T),j=[];A.forEach(C=>{const D=C.data(),R={id:C.id,name:D.name||"",price:D.price||"",image:D.image||"",imageHover:D.imageHover,images:D.images,tag:D.tag,format:D.format,sku:D.sku,sizes:D.sizes,variants:D.variants,ingredients:D.ingredients,brewingGuide:D.brewingGuide,material:D.material,capacity:D.capacity,reviews:D.reviews,categoryIds:D.categoryIds||(D.categoryId?[D.categoryId]:[]),categoryId:D.categoryId,description:D.description};j.push(R),console.log("Loaded product from Firestore:",R.name,"categoryIds:",R.categoryIds)}),console.log("Total Firestore products loaded:",j.length),S(j)}catch(T){console.error("Error loading products from Firestore:",T)}finally{z(!1)}})()},[]),Y.useEffect(()=>{u([]),x([]),y([]),window.scrollTo(0,0)},[i]);const se=(_,T)=>{const A=_.categoryIds||(_.categoryId?[_.categoryId]:[]);if(T==="tra-nguyen-ban"){const j=["luc-tra","bach-tra","hoang-tra","o-long","pho-nhi","hong-tra"];return A.some(C=>j.includes(C))||A.includes("tra-nguyen-ban")}return A.includes(T)},ie=Y.useMemo(()=>{const _=[...Ih];return N.forEach(T=>{_.find(A=>A.id===T.id)||_.push(T)}),_},[N]),re=Y.useMemo(()=>!ie||ie.length===0?[]:ie.filter(_=>{if(!se(_,i)||c.length>0&&!c.some(A=>_.name.includes(A))||f.length>0&&(!_.format||!f.includes(_.format)))return!1;if(p.length>0&&_.price)try{const T=parseInt(_.price.replace(/\./g,"").replace(/\D/g,""));if(!p.some(j=>j==="low"?T<=2e5:j==="mid"?T>2e5&&T<=5e5:j==="high"?T>5e5:!1))return!1}catch{console.warn("Error parsing price",_.price)}return!0}),[i,ie,c,f,p]),ce=Y.useMemo(()=>{const _=new Set;return ie.forEach(T=>{se(T,i)&&T.format&&_.add(T.format)}),_.size===0?["L ri","Ti lc","Bnh","Vin","Hp qu","T Sa","Gm","S"]:Array.from(_)},[i,ie]),F=(_,T)=>{_(A=>A.includes(T)?A.filter(j=>j!==T):[...A,T])},Q=(_,T)=>{_.stopPropagation(),r(T)};return l.jsxs("div",{className:"bg-white min-h-screen pt-[120px] pb-20",children:[l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 mb-12",children:[l.jsxs("nav",{className:"flex items-center text-xs md:text-sm text-stone-500 mb-6 overflow-x-auto whitespace-nowrap",children:[l.jsx("a",{href:"#",onClick:_=>X(_,"#"),className:"hover:text-rust-500 transition-colors",children:"Trang Ch"}),V.parent&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mx-2",children:"/"}),l.jsx("a",{href:V.parent.href,onClick:_=>{var T;return X(_,((T=V.parent)==null?void 0:T.href)||"#")},className:"hover:text-rust-500 transition-colors",children:V.parent.label})]}),l.jsx("span",{className:"mx-2",children:"/"}),l.jsx("span",{className:"text-stone-900 font-medium",children:V.breadcrumb})]}),l.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 border-b border-stone-100 pb-8",children:l.jsxs("div",{className:"max-w-3xl",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-light text-stone-900 mb-4 tracking-tight",children:V.title}),l.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed max-w-xl",children:V.description})]})})]}),i==="tra-nguyen-ban"&&l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 mb-20",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2",children:"Cc loi tr"}),l.jsx("p",{className:"text-stone-500 font-light max-w-2xl mx-auto",children:"Vi hn 6 loi tr tr danh t khp cc vng min Vit Nam, chng ti c  hng v cho mi gu thng thc."})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:UT.map(_=>l.jsxs("div",{onClick:()=>P(_.id),className:"flex flex-col items-center text-center group cursor-pointer",children:[l.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mb-4 shadow-md group-hover:shadow-xl transition-all duration-300 border-2 border-transparent group-hover:border-rust-500",children:l.jsx("img",{src:_.image,alt:_.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"})}),l.jsx("h3",{className:"font-bold text-stone-900 mb-2 group-hover:text-rust-600 transition-colors",children:_.title}),l.jsx("p",{className:"text-xs text-stone-500 line-clamp-3 leading-relaxed px-2",children:_.description})]},_.id))}),l.jsxs("div",{className:"mt-16 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-8",children:"Mua theo quy cch"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:["L ri","Ti lc","Bnh tr","Hp qu"].map(_=>l.jsx("button",{onClick:()=>F(x,_),className:`px-8 py-3 rounded border transition-all duration-200 ${f.includes(_)?"bg-stone-900 text-white border-stone-900":"bg-white text-stone-700 border-stone-200 hover:border-rust-500 hover:text-rust-500"}`,children:l.jsx("span",{className:"flex items-center gap-2 font-medium",children:_})},_))})]})]}),l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-8 sticky top-[80px] z-30 bg-white/95 backdrop-blur-sm py-4 -mx-6 px-6 lg:-mx-0 lg:px-0 border-b border-stone-100 lg:border-none",children:[l.jsxs("button",{onClick:()=>n(!0),className:"lg:hidden flex items-center gap-2 text-stone-800 font-medium border border-stone-200 px-4 py-2 rounded-full hover:bg-stone-50 transition-colors",children:[l.jsx(Xa,{size:18}),"B lc"]}),l.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-stone-500 text-sm",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Xa,{size:16}),"B lc"]}),l.jsx("span",{className:"mx-2",children:"|"}),l.jsxs("span",{children:["Hin th ",l.jsx("strong",{children:re.length})," sn phm"]})]}),l.jsx("div",{className:"flex items-center gap-3 ml-auto",children:l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center gap-2 text-stone-900 font-medium hover:text-rust-600 transition-colors",children:[l.jsx("span",{className:"hidden sm:inline text-stone-500 font-normal mr-1",children:"Sp xp:"}),"Ph bin",l.jsx(sn,{size:16})]}),l.jsx("div",{className:"absolute right-0 top-full pt-2 w-48 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-40",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-stone-100 py-2 flex flex-col",children:[l.jsx("button",{className:"text-left px-4 py-2 text-sm hover:bg-stone-50 text-stone-800 transition-colors",children:"Ph bin nht"}),l.jsx("button",{className:"text-left px-4 py-2 text-sm hover:bg-stone-50 text-stone-800 transition-colors",children:"Mi nht"}),l.jsx("button",{className:"text-left px-4 py-2 text-sm hover:bg-stone-50 text-stone-800 transition-colors",children:"Gi tng dn"})]})})]})})]}),l.jsxs("div",{className:"flex gap-8 lg:gap-12 relative",children:[l.jsxs("aside",{className:`
            fixed inset-0 bg-white z-50 p-6 transition-transform duration-300 ease-in-out lg:static lg:block lg:w-64 lg:p-0 lg:z-0
            ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            overflow-y-auto lg:overflow-visible shadow-2xl lg:shadow-none
          `,children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 lg:hidden",children:[l.jsx("h2",{className:"text-xl font-bold text-stone-900",children:"B lc"}),l.jsx("button",{onClick:()=>n(!1),className:"p-2 text-stone-500 hover:text-rust-500",children:l.jsx(si,{size:24})})]}),l.jsxs("div",{className:"space-y-8 pr-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 mb-4 text-xs uppercase tracking-widest border-b border-stone-100 pb-2",children:"Xut X"}),l.jsx("div",{className:"space-y-3",children:["Thi Nguyn","T Xa","H Giang","Lm ng","Nghi Hng","Bt Trng"].map(_=>l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("input",{type:"checkbox",checked:c.includes(_),onChange:()=>F(u,_),className:"w-4 h-4 rounded border-stone-300 text-rust-500 focus:ring-rust-500 cursor-pointer"}),l.jsx("span",{className:"text-stone-600 text-sm group-hover:text-rust-600 transition-colors",children:_})]},_))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 mb-4 text-xs uppercase tracking-widest border-b border-stone-100 pb-2",children:"Phn Loi"}),l.jsx("div",{className:"space-y-3",children:ce.map(_=>l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("input",{type:"checkbox",checked:f.includes(_),onChange:()=>F(x,_),className:"w-4 h-4 rounded border-stone-300 text-rust-500 focus:ring-rust-500 cursor-pointer"}),l.jsx("span",{className:"text-stone-600 text-sm group-hover:text-rust-600 transition-colors",children:_})]},_))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 mb-4 text-xs uppercase tracking-widest border-b border-stone-100 pb-2",children:"Mc Gi"}),l.jsx("div",{className:"space-y-3",children:[{label:"Di 200.000",val:"low"},{label:"200.000 - 500.000",val:"mid"},{label:"Trn 500.000",val:"high"}].map(_=>l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("input",{type:"checkbox",checked:p.includes(_.val),onChange:()=>F(y,_.val),className:"w-4 h-4 rounded border-stone-300 text-rust-500 focus:ring-rust-500 cursor-pointer"}),l.jsx("span",{className:"text-stone-600 text-sm group-hover:text-rust-600 transition-colors",children:_.label})]},_.val))})]})]}),l.jsx("div",{className:"mt-12 lg:hidden sticky bottom-0 bg-white p-4 border-t border-stone-100",children:l.jsxs(Te,{fullWidth:!0,onClick:()=>n(!1),children:["Xem kt qu (",re.length,")"]})})]}),l.jsxs("main",{className:"flex-1 w-full min-h-[500px]",children:[I?l.jsxs("div",{className:"text-center py-20 bg-stone-50 rounded-2xl border border-stone-100",children:[l.jsx("div",{className:"w-16 h-16 bg-stone-200 rounded-full flex items-center justify-center mx-auto mb-4 text-stone-400 animate-pulse",children:l.jsx(Xa,{size:24})}),l.jsx("h3",{className:"text-xl text-stone-800 font-light mb-2",children:"ang ti sn phm..."})]}):re.length===0?l.jsxs("div",{className:"text-center py-20 bg-stone-50 rounded-2xl border border-stone-100",children:[l.jsx("div",{className:"w-16 h-16 bg-stone-200 rounded-full flex items-center justify-center mx-auto mb-4 text-stone-400",children:l.jsx(Xa,{size:24})}),l.jsx("h3",{className:"text-xl text-stone-800 font-light mb-2",children:"Khng tm thy sn phm"}),l.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Hy th b bt b lc  xem nhiu kt qu hn."}),l.jsx(Te,{variant:"outline",size:"sm",onClick:()=>{u([]),x([]),y([])},children:"Xa b lc"})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-x-4 gap-y-10 md:gap-x-6 md:gap-y-12",children:re.map(_=>l.jsxs("div",{className:"group relative flex flex-col cursor-pointer",onClick:()=>window.location.hash=`#product/${_.id}`,children:[l.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden rounded-xl bg-stone-100 mb-4 shadow-sm group-hover:shadow-md transition-all duration-300",children:[l.jsx("img",{src:_.image,alt:_.name,className:`w-full h-full object-cover transition-all duration-500 ease-in-out ${_.imageHover?"group-hover:opacity-0":"group-hover:scale-110"}`}),_.imageHover&&l.jsx("img",{src:_.imageHover,alt:_.name,className:"absolute inset-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-500 ease-in-out"}),_.tag&&l.jsx("div",{className:"absolute top-2 left-2 bg-rust-500 text-white text-[10px] font-bold uppercase px-2 py-1 rounded tracking-wider shadow-sm z-10",children:_.tag}),l.jsxs("div",{className:"absolute inset-x-0 bottom-4 flex justify-center gap-2 translate-y-12 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 z-20",children:[l.jsx("button",{onClick:T=>Q(T,_),className:"w-10 h-10 bg-white text-stone-900 rounded-full flex items-center justify-center shadow-lg hover:bg-rust-500 hover:text-white transition-colors",children:l.jsx(Wo,{size:18})}),l.jsx("button",{className:"w-10 h-10 bg-white text-stone-900 rounded-full flex items-center justify-center shadow-lg hover:bg-red-50 hover:text-red-500 transition-colors",children:l.jsx(qv,{size:18})})]})]}),l.jsxs("div",{className:"space-y-1",children:[_.format&&l.jsx("span",{className:"text-[10px] text-stone-500 font-bold tracking-widest uppercase border border-stone-200 rounded px-1.5 py-0.5 inline-block mb-1 bg-stone-50",children:_.format}),l.jsx("h3",{className:"text-stone-900 font-medium text-base leading-snug group-hover:text-rust-600 transition-colors line-clamp-2 min-h-[2.5rem]",children:_.name}),l.jsx("div",{className:"pt-1 flex items-center justify-between",children:l.jsx("span",{className:"text-stone-900 font-bold",children:_.price})})]})]},_.id))}),re.length>0&&l.jsxs("div",{className:"mt-20 text-center",children:[l.jsxs("span",{className:"text-stone-400 text-xs tracking-widest uppercase block mb-4",children:["ang hin th ",re.length," sn phm"]}),l.jsx("div",{className:"w-48 h-1 bg-stone-200 rounded-full mx-auto overflow-hidden",children:l.jsx("div",{className:"w-full h-full bg-rust-500"})})]})]})]})]})]})},y5=()=>(Y.useEffect(()=>{window.scrollTo(0,0)},[]),l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsx("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:l.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center animate-fade-in-up",children:[l.jsx("span",{className:"text-rust-500 font-bold tracking-widest uppercase text-xs mb-4 block",children:"Cu chuyn thng hiu"}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-light text-stone-900 mb-8 leading-tight",children:["Mang tr ngh nhn Vit ",l.jsx("br",{}),l.jsx("span",{className:"font-medium text-rust-500",children:"n gn hn vi ngi tr"})]}),l.jsx("p",{className:"text-xl text-stone-600 font-light leading-relaxed max-w-2xl mx-auto",children:"ChuLeaf Co. sinh ra t mt mong mun rt n gin nhng p: S bnh d, chn thnh v cht lng cao nht trong tm gi."})]})})}),l.jsx("section",{className:"bg-stone-50 py-20 lg:py-32",children:l.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[l.jsxs("div",{className:"relative order-2 lg:order-1",children:[l.jsxs("div",{className:"relative aspect-[3/4] rounded-[2rem] overflow-hidden shadow-2xl",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1625125083293-c3bc94eff374?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D?q=80&w=1200&auto=format&fit=crop",alt:"i ch Cu t",className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-1000"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),l.jsxs("div",{className:"absolute bottom-8 left-8 text-white",children:[l.jsx("p",{className:"font-bold text-sm tracking-widest uppercase",children:"Cu t,  Lt"}),l.jsx("p",{className:"text-xs opacity-80",children:"Est. 2013"})]})]}),l.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-rust-200 rounded-full blur-3xl opacity-50 -z-10"})]}),l.jsxs("div",{className:"order-1 lg:order-2 space-y-6",children:[l.jsxs("h2",{className:"text-3xl md:text-4xl font-light text-stone-900 leading-tight",children:["Khonh khc ",l.jsx("br",{}),l.jsx("span",{className:"font-serif italic text-rust-600",children:'"trt yu"'})," mi mi"]}),l.jsxs("div",{className:"space-y-6 text-stone-600 font-light text-lg leading-relaxed",children:[l.jsx("p",{children:"Hnh trnh bt u t nm 2013, khi ti c dp bc vo nh my tr ti Cu t,  Lt."}),l.jsx("p",{className:"border-l-4 border-rust-300 pl-6 italic text-stone-800",children:'"Giy pht m ca nh xng, hng  long m nng ph vo mt  nh nh sng, say nh ru."'}),l.jsxs("p",{children:["T , ti khm ph tng loi tr Vit Nam  t Shan Tuyt c th min Bc, n i ch Mc Chu, ri Thi Nguyn y nng gi. Cng tm hiu, ti cng thy tic: ",l.jsx("br",{}),l.jsx("strong",{className:"font-medium text-stone-800",children:"V tr Vit Nam tuyt vi n th, m nhiu ngi tr li cha tng c thng thc ng cch."})]})]})]})]})})}),l.jsx("section",{className:"py-24 bg-white",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[l.jsx("h2",{className:"text-3xl font-light text-stone-900 mb-6",children:"ChuLeaf Co. ra i  thay i iu "}),l.jsx("p",{className:"text-stone-500 font-light",children:"Chng ti khng bn s xa x. Chng ti bn nhng cu chuyn bnh d."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"p-8 rounded-3xl bg-stone-50 border border-stone-100 hover:shadow-xl hover:shadow-stone-200/50 transition-all duration-300 text-center group",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-sm group-hover:scale-110 transition-transform",children:l.jsx(Uv,{className:"text-rust-500",size:28})}),l.jsx("h3",{className:"text-xl font-medium text-stone-900 mb-3",children:"Ph b ro cn"}),l.jsx("p",{className:"text-stone-500 font-light leading-relaxed",children:"Tr khng phi l th g  qu cao sang, kn ngi. Tr l thc ung cho mi ngi, cho mi cu chuyn."})]}),l.jsxs("div",{className:"p-8 rounded-3xl bg-stone-50 border border-stone-100 hover:shadow-xl hover:shadow-stone-200/50 transition-all duration-300 text-center group",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-sm group-hover:scale-110 transition-transform",children:l.jsx(Mo,{className:"text-rust-500",size:28})}),l.jsx("h3",{className:"text-xl font-medium text-stone-900 mb-3",children:"V ng bn cht"}),l.jsx("p",{className:"text-stone-500 font-light leading-relaxed",children:"Gin d  Gn gi  Ai cng c th yu. Chng ti tn trng hng v mc mc nguyn bn ca l tr."})]}),l.jsxs("div",{className:"p-8 rounded-3xl bg-stone-50 border border-stone-100 hover:shadow-xl hover:shadow-stone-200/50 transition-all duration-300 text-center group",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-sm group-hover:scale-110 transition-transform",children:l.jsx(qv,{className:"text-rust-500",size:28})}),l.jsx("h3",{className:"text-xl font-medium text-stone-900 mb-3",children:"Tinh thn ngh nhn"}),l.jsx("p",{className:"text-stone-500 font-light leading-relaxed",children:"Gi s t m ca ngh nhn lm tr, nhng b i nhng hnh thc rm r khng cn thit."})]})]})]})}),l.jsxs("section",{className:"bg-stone-900 text-white py-24 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),l.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[l.jsx(Mo,{className:"mx-auto mb-8 text-rust-400 opacity-80",size:40}),l.jsx("h2",{className:"text-2xl md:text-4xl font-serif italic leading-relaxed max-w-4xl mx-auto",children:'"Ti ChuLeaf Co., mi sn phm u l mt cu chuyn v vng t, v ngh nhn, v hng v c bn ca Vit Nam."'}),l.jsx("div",{className:"mt-12 w-24 h-1 bg-rust-500 mx-auto rounded-full"})]})]})]})),v5=()=>{const i=e=>{e.preventDefault(),window.location.hash&&window.location.hash!=="#"&&(window.location.hash=""),window.scrollTo({top:0,behavior:"smooth"})};return l.jsx("footer",{className:"bg-stone-50 text-stone-600 pt-24 pb-12 border-t border-stone-200",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-20",children:[l.jsxs("div",{children:[l.jsx("a",{href:"#",onClick:i,className:"inline-block group",children:l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 bg-rust-500 rounded-full flex items-center justify-center text-white font-bold text-xl group-hover:bg-rust-600 transition-colors",children:"c"}),l.jsx("h3",{className:"font-bold text-2xl text-stone-900 group-hover:text-rust-600 transition-colors",children:"ChuLeaf Co."})]})}),l.jsx("p",{className:"text-stone-500 mb-8 leading-relaxed font-light",children:"Qun tr nh gia lng ph th, mang n nhng hng v tr Vit tinh t v hin i nht."}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white border border-stone-200 flex items-center justify-center hover:bg-rust-500 hover:border-rust-500 hover:text-white transition-all",children:l.jsx(Y2,{size:18})}),l.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white border border-stone-200 flex items-center justify-center hover:bg-rust-500 hover:border-rust-500 hover:text-white transition-all",children:l.jsx(P2,{size:18})}),l.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white border border-stone-200 flex items-center justify-center hover:bg-rust-500 hover:border-rust-500 hover:text-white transition-all",children:l.jsx(RT,{size:18})}),l.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white border border-stone-200 flex items-center justify-center hover:bg-rust-500 hover:border-rust-500 hover:text-white transition-all",children:l.jsx(LT,{size:18})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900 mb-6",children:"V Chng Ti"}),l.jsxs("ul",{className:"space-y-4 font-light",children:[l.jsx("li",{children:l.jsx("a",{href:"#ve-chung-toi",className:"hover:text-rust-500 transition-colors",children:"Cu chuyn thng hiu"})}),l.jsx("li",{children:l.jsx("a",{href:"#ve-chung-toi",className:"hover:text-rust-500 transition-colors",children:"Pht trin bn vng"})}),l.jsx("li",{children:l.jsx("a",{href:"#ve-chung-toi",className:"hover:text-rust-500 transition-colors",children:"Tuyn dng"})}),l.jsx("li",{children:l.jsx("a",{href:"#blog",className:"hover:text-rust-500 transition-colors",children:"Blog"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900 mb-6",children:"Sn Phm"}),l.jsxs("ul",{className:"space-y-4 font-light",children:[l.jsx("li",{children:l.jsx("a",{href:"#tra-nguyen-ban",className:"hover:text-rust-500 transition-colors",children:"Danh mc tr"})}),l.jsx("li",{children:l.jsx("a",{href:"#tra-cu",className:"hover:text-rust-500 transition-colors",children:"Tr c"})}),l.jsx("li",{children:l.jsx("a",{href:"#qua-tang",className:"hover:text-rust-500 transition-colors",children:"Qu tng"})}),l.jsx("li",{children:l.jsx("a",{href:"#tiec-tra",className:"hover:text-rust-500 transition-colors",children:"Tic tr"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-rust-500 transition-colors",children:"Khuyn mi"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900 mb-6",children:"Chm Sc Khch Hng"}),l.jsxs("ul",{className:"space-y-4 font-light",children:[l.jsx("li",{children:l.jsx("a",{href:"#lien-he",className:"hover:text-rust-500 transition-colors",children:"Lin h"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-rust-500 transition-colors",children:"Vn chuyn & Giao hng"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-rust-500 transition-colors",children:"i tr"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-rust-500 transition-colors",children:"Hi p (FAQs)"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"hover:text-rust-500 transition-colors",children:"H thng ca hng"})})]})]})]}),l.jsxs("div",{className:"border-t border-stone-200 pt-8 flex flex-col md:flex-row justify-between items-center text-stone-400 text-sm font-light",children:[l.jsx("p",{children:" 2024 ChuLeaf Co. Bo lu mi quyn."}),l.jsxs("div",{className:"flex space-x-8 mt-4 md:mt-0",children:[l.jsx("a",{href:"#",className:"hover:text-stone-800",children:"Chnh sch bo mt"}),l.jsx("a",{href:"#",className:"hover:text-stone-800",children:"iu khon dch v"})]})]})]})})},b5=({categoryId:i})=>{Y.useEffect(()=>{window.scrollTo(0,0)},[i]);const n={"cach-pha-tra":{title:"Cch Pha Tr",subtitle:"Nng tm k nng pha ch vi nhng hng dn n gin t chuyn gia.",heroImage:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=1600&auto=format&fit=crop",themeColor:"bg-rust-500",icon:l.jsx(sh,{className:"w-12 h-12 text-white mb-4"})},"chuyen-tra":{title:"Chuyn Tr",subtitle:"Khm ph vn ha, lch s v nhng cu chuyn th v xoay quanh l tr.",heroImage:"https://images.unsplash.com/photo-1533658298282-3783a5df6124?q=80&w=1600&auto=format&fit=crop",themeColor:"bg-stone-800",icon:l.jsx(sh,{className:"w-12 h-12 text-white mb-4"})}}[i],r=lh.filter(u=>u.categoryId===i),c=u=>{window.location.hash=`#article/${u}`};return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsxs("section",{className:"relative w-full h-[50vh] min-h-[400px] overflow-hidden flex items-center",children:[l.jsx("div",{className:`absolute inset-0 ${n.themeColor} w-full lg:w-1/2 z-0`}),l.jsxs("div",{className:"absolute inset-0 left-auto w-full lg:w-1/2 bg-stone-200 z-0",children:[l.jsx("img",{src:n.heroImage,alt:n.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/20 lg:bg-transparent"})]}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 relative z-10 flex h-full items-center",children:l.jsxs("div",{className:"max-w-xl text-white py-12",children:[n.icon,l.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight leading-tight",children:n.title}),l.jsx("p",{className:"text-lg md:text-xl font-light opacity-90 leading-relaxed",children:n.subtitle})]})})]}),l.jsx("section",{className:"py-24 bg-white",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("div",{className:"mb-12 flex items-center justify-center",children:[l.jsx("span",{className:"h-px w-12 bg-stone-300"}),l.jsx("span",{className:"px-4 text-stone-400 text-sm uppercase tracking-widest font-medium",children:"Danh sch bi vit"}),l.jsx("span",{className:"h-px w-12 bg-stone-300"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-16",children:r.map(u=>l.jsxs("div",{className:"group cursor-pointer flex flex-col",onClick:()=>c(u.id),children:[l.jsxs("div",{className:"aspect-square overflow-hidden mb-6 bg-stone-100 relative",children:[l.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300"})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-3 leading-tight group-hover:text-rust-600 transition-colors",children:u.title}),l.jsx("p",{className:"text-stone-600 font-light mb-6 line-clamp-3 leading-relaxed flex-grow",children:u.excerpt}),l.jsxs("div",{className:"mt-auto pt-4 border-t border-stone-100 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-stone-400 font-medium uppercase tracking-wider",children:u.date}),l.jsxs("button",{className:"px-6 py-2 border border-stone-300 text-stone-800 text-sm font-medium rounded-full hover:bg-stone-900 hover:text-white hover:border-stone-900 transition-all flex items-center gap-2 group-hover:bg-stone-900 group-hover:text-white group-hover:border-stone-900",children:["Tm hiu ",l.jsx(Br,{size:14})]})]})]})]},u.id))}),r.length===0&&l.jsx("div",{className:"text-center py-20",children:l.jsx("p",{className:"text-stone-500",children:"Cha c bi vit no trong mc ny."})})]})})]})},_5=({articleId:i})=>{const e=lh.find(u=>u.id===i),n=Y.useMemo(()=>e?lh.filter(u=>u.categoryId===e.categoryId&&u.id!==e.id).slice(0,3):[],[e]);Y.useEffect(()=>{window.scrollTo(0,0)},[i]);const r=u=>{u.preventDefault(),window.history.back()},c=u=>{window.location.hash=`#article/${u}`};return e?l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsxs("div",{className:"relative w-full h-[40vh] md:h-[60vh] overflow-hidden bg-stone-900",children:[l.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover opacity-80"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-full p-6 lg:p-12 text-white",children:l.jsxs("div",{className:"container mx-auto max-w-4xl",children:[l.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-white/80 hover:text-white mb-6 text-sm font-medium uppercase tracking-widest transition-colors",children:[l.jsx(dl,{size:16})," Quay li"]}),l.jsx("span",{className:"bg-rust-500 text-white text-xs font-bold px-3 py-1 rounded uppercase tracking-widest mb-4 inline-block",children:e.categoryId==="cach-pha-tra"?"Cch Pha Tr":"Chuyn Tr"}),l.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold leading-tight mb-4 shadow-sm",children:e.title}),l.jsxs("div",{className:"flex items-center gap-6 text-sm text-white/90 font-light",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Fr,{size:16})," ",e.date]}),l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(ec,{size:16})," ",e.author]})]})]})})]}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-16",children:l.jsxs("article",{className:"max-w-3xl mx-auto",children:[l.jsx("p",{className:"text-xl md:text-2xl text-stone-700 font-serif italic leading-relaxed mb-10 border-l-4 border-rust-500 pl-6",children:e.excerpt}),l.jsx("div",{className:`prose prose-stone prose-lg max-w-none 
                    prose-headings:font-bold prose-headings:text-stone-900 
                    prose-h3:text-2xl prose-h3:mt-10 prose-h3:mb-4
                    prose-p:text-stone-600 prose-p:leading-relaxed prose-p:mb-6
                    prose-ul:list-disc prose-ul:pl-5 prose-ul:mb-6
                    prose-ol:list-decimal prose-ol:pl-5 prose-ol:mb-6
                    prose-li:mb-2 prose-li:text-stone-600
                    prose-strong:text-stone-900
                    prose-img:rounded-xl prose-img:shadow-lg prose-img:my-8`,children:typeof e.content=="string"?l.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}}):e.content}),l.jsxs("div",{className:"mt-16 pt-8 border-t border-stone-200 flex items-center justify-between",children:[l.jsx("span",{className:"text-stone-500 font-medium text-sm",children:"Chia s bi vit ny:"}),l.jsx("div",{className:"flex gap-4",children:l.jsx("button",{className:"w-10 h-10 rounded-full bg-stone-100 flex items-center justify-center text-stone-600 hover:bg-rust-500 hover:text-white transition-colors",children:l.jsx(Bv,{size:18})})})]})]})}),n.length>0&&l.jsx("section",{className:"bg-stone-50 py-16 border-t border-stone-200",children:l.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("h3",{className:"text-2xl font-bold text-stone-900 mb-8 flex items-center gap-2",children:["Bi vit lin quan",l.jsx("div",{className:"h-px bg-stone-300 flex-grow ml-4"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map(u=>l.jsxs("div",{onClick:()=>c(u.id),className:"group cursor-pointer bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[l.jsxs("div",{className:"aspect-[16/10] overflow-hidden relative",children:[l.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),l.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[l.jsx("span",{className:"text-xs text-stone-400 font-bold uppercase tracking-wider mb-2",children:u.date}),l.jsx("h4",{className:"text-lg font-bold text-stone-900 mb-3 leading-snug group-hover:text-rust-600 transition-colors line-clamp-2",children:u.title}),l.jsx("p",{className:"text-stone-500 text-sm line-clamp-2 mb-4 flex-grow",children:u.excerpt}),l.jsxs("div",{className:"flex items-center text-rust-500 font-medium text-sm group-hover:underline",children:["c tip ",l.jsx(Br,{size:14,className:"ml-1"})]})]})]},u.id))})]})})})]}):l.jsxs("div",{className:"min-h-screen pt-32 text-center",children:[l.jsx("h1",{className:"text-2xl text-stone-800",children:"Bi vit khng tn ti"}),l.jsx("a",{href:"#",className:"text-rust-500 underline mt-4 block",onClick:u=>{u.preventDefault(),window.location.hash="#"},children:"V trang ch"})]})},N5=()=>{const[i,e]=Y.useState({firstName:"",lastName:"",email:"",topic:"Tu van",message:""}),[n,r]=Y.useState(!1),[c,u]=Y.useState(!1);Y.useEffect(()=>{window.scrollTo(0,0)},[]);const f=p=>{const{name:y,value:N}=p.target;e(S=>({...S,[y]:N}))},x=p=>{p.preventDefault(),r(!0),setTimeout(()=>{console.log("Form Data Submitted:",i),r(!1),u(!0)},1500)};return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsx("div",{className:"bg-stone-50 py-12 md:py-20 border-b border-stone-100",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-light text-stone-900 mb-4",children:"Lin H"}),l.jsx("p",{className:"text-stone-500 font-light text-lg",children:"Chng ti  y  lng nghe v h tr bn."})]})}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-16 md:py-24",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-24",children:[l.jsxs("div",{className:"lg:col-span-4 space-y-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-4",children:"Kt ni vi ChuLeaf"}),l.jsx("p",{className:"text-stone-600 leading-relaxed font-light",children:"Bn c thc mc v cch pha tr? Cn t vn chn qu tng? Hay n gin l mun chia s cu chuyn tr ca ring mnh? ng ngn ngi nhn tin cho chng ti."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-rust-50 flex items-center justify-center text-rust-600 flex-shrink-0",children:l.jsx(Rh,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 text-sm uppercase tracking-wide",children:"Hotline"}),l.jsx("p",{className:"text-stone-600 font-light mt-1",children:"1900 123 456"}),l.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Th 2 - Ch Nht: 9:00 - 21:00"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-rust-50 flex items-center justify-center text-rust-600 flex-shrink-0",children:l.jsx(Ch,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 text-sm uppercase tracking-wide",children:"Email"}),l.jsx("p",{className:"text-stone-600 font-light mt-1",children:"cskh@chuleaf.co"}),l.jsx("p",{className:"text-stone-600 font-light",children:"partners@chuleaf.co"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-rust-50 flex items-center justify-center text-rust-600 flex-shrink-0",children:l.jsx(qm,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 text-sm uppercase tracking-wide",children:"Tr Tht"}),l.jsx("p",{className:"text-stone-600 font-light mt-1",children:"123 ng Cu t, TP.  Lt"}),l.jsx("p",{className:"text-stone-600 font-light",children:"45 L Quc S, Hon Kim, H Ni"})]})]})]}),l.jsxs("div",{className:"bg-stone-900 text-white p-6 rounded-2xl mt-8",children:[l.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[l.jsx(Fr,{size:18,className:"text-rust-400"})," Thi gian phn hi"]}),l.jsx("p",{className:"text-stone-300 text-sm font-light leading-relaxed",children:"Chng ti thng phn hi email trong vng 24 gi lm vic. Vi cc yu cu gp, vui lng gi hotline  c h tr nhanh nht."})]})]}),l.jsx("div",{className:"lg:col-span-8",children:l.jsx("div",{className:"bg-white rounded-3xl p-8 md:p-10 shadow-xl shadow-stone-200/50 border border-stone-100",children:c?l.jsxs("div",{className:"text-center py-20 animate-fade-in-up",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(nl,{size:40})}),l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-4",children:"Tin nhn  c gi!"}),l.jsx("p",{className:"text-stone-600 font-light max-w-md mx-auto mb-8",children:"Cm n bn  lin h vi ChuLeaf. Chng ti  nhn c thng tin v s phn hi bn sm nht c th."}),l.jsx(Te,{onClick:()=>{u(!1),e({firstName:"",lastName:"",email:"",topic:"Tu van",message:""})},variant:"outline",children:"Gi tin nhn khc"})]}):l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6 border-b border-stone-100 pb-4",children:"Gi tin nhn cho chng ti"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-stone-700",children:"Tn *"}),l.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,value:i.firstName,onChange:f,className:"w-full px-4 py-3 rounded-lg bg-stone-50 border border-stone-200 focus:bg-white focus:border-rust-500 focus:ring-1 focus:ring-rust-500 outline-none transition-all",placeholder:"Nhp tn ca bn"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-stone-700",children:"H *"}),l.jsx("input",{type:"text",id:"lastName",name:"lastName",required:!0,value:i.lastName,onChange:f,className:"w-full px-4 py-3 rounded-lg bg-stone-50 border border-stone-200 focus:bg-white focus:border-rust-500 focus:ring-1 focus:ring-rust-500 outline-none transition-all",placeholder:"Nhp h"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-stone-700",children:"Email *"}),l.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:i.email,onChange:f,className:"w-full px-4 py-3 rounded-lg bg-stone-50 border border-stone-200 focus:bg-white focus:border-rust-500 focus:ring-1 focus:ring-rust-500 outline-none transition-all",placeholder:"email@example.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-stone-700",children:"Ch  cn h tr"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{id:"topic",name:"topic",value:i.topic,onChange:f,className:"w-full px-4 py-3 rounded-lg bg-stone-50 border border-stone-200 focus:bg-white focus:border-rust-500 focus:ring-1 focus:ring-rust-500 outline-none transition-all appearance-none cursor-pointer",children:[l.jsx("option",{value:"Tu van",children:"T vn sn phm"}),l.jsx("option",{value:"Don hang",children:"Tnh trng n hng"}),l.jsx("option",{value:"Doi tac",children:"Hp tc doanh nghip (B2B)"}),l.jsx("option",{value:"Workshop",children:"ng k Workshop"}),l.jsx("option",{value:"Khac",children:"Khc"})]}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none text-stone-500",children:l.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd",fillRule:"evenodd"})})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-stone-700",children:"Li nhn *"}),l.jsx("textarea",{id:"message",name:"message",required:!0,rows:5,value:i.message,onChange:f,className:"w-full px-4 py-3 rounded-lg bg-stone-50 border border-stone-200 focus:bg-white focus:border-rust-500 focus:ring-1 focus:ring-rust-500 outline-none transition-all resize-none",placeholder:"Bn cn chng ti gip g..."})]}),l.jsx("div",{className:"pt-4",children:l.jsx(Te,{type:"submit",disabled:n,className:"w-full md:w-auto min-w-[200px] flex items-center justify-center gap-2",children:n?l.jsxs(l.Fragment,{children:[l.jsx(sl,{size:18,className:"animate-spin"})," ang gi..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Hm,{size:18})," Gi tin nhn"]})})})]})})})]})})]})},T5=({isOpen:i,onClose:e,onSuccess:n,total:r})=>{const[c,u]=Y.useState("info"),[f,x]=Y.useState(!1),[p,y]=Y.useState("cod"),[N,S]=Y.useState({name:"",phone:"",address:"",city:"H Ch Minh",note:""});if(!i)return null;const I=se=>{S({...N,[se.target.name]:se.target.value})},z=se=>{se.preventDefault(),u("payment")},V=()=>{x(!0),setTimeout(()=>{x(!1);const se=`#CL${Math.floor(Math.random()*1e4)}`;n(se),u("info")},2e3)},X=()=>{u("info"),e()},P="w-full px-4 py-3 rounded-xl border border-stone-600 bg-stone-800 focus:border-rust-500 focus:ring-2 focus:ring-rust-500/50 outline-none text-lg font-semibold text-white placeholder:font-normal placeholder:text-stone-500 transition-all";return l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-stone-900/60 backdrop-blur-sm transition-opacity",onClick:X}),l.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl animate-fade-in-up flex flex-col max-h-[90vh]",children:[l.jsxs("div",{className:"px-8 py-5 border-b border-stone-100 flex justify-between items-center bg-stone-50",children:[l.jsx("h2",{className:"text-xl font-bold text-stone-900",children:c==="info"?"Thng tin giao hng":"Thanh ton"}),l.jsx("button",{onClick:X,className:"p-2 hover:bg-stone-200 rounded-full transition-colors text-stone-500",children:l.jsx(si,{size:20})})]}),l.jsxs("div",{className:"p-8 overflow-y-auto",children:[c==="info"&&l.jsxs("form",{onSubmit:z,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-base font-bold text-stone-800 block",children:["H v tn ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{required:!0,name:"name",value:N.name,onChange:I,className:P,placeholder:"Nguyn Vn A"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-base font-bold text-stone-800 block",children:["S in thoi ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{required:!0,name:"phone",value:N.phone,onChange:I,className:P,placeholder:"0912 345 678"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-base font-bold text-stone-800 block",children:["a ch nhn hng ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{required:!0,name:"address",value:N.address,onChange:I,className:P,placeholder:"S nh, tn ng, phng/x"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-base font-bold text-stone-800 block",children:"Tnh / Thnh ph"}),l.jsxs("select",{name:"city",value:N.city,onChange:I,className:P,children:[l.jsx("option",{value:"H Ch Minh",children:"TP. H Ch Minh"}),l.jsx("option",{value:"H Ni",children:"H Ni"}),l.jsx("option",{value:" Nng",children:" Nng"}),l.jsx("option",{value:"Khc",children:"Tnh thnh khc"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-base font-bold text-stone-800 block",children:"Ghi ch (Ty chn)"}),l.jsx("input",{name:"note",value:N.note,onChange:I,className:P,placeholder:"VD: Giao gi hnh chnh"})]})]}),l.jsx("div",{className:"pt-6 flex justify-end",children:l.jsx(Te,{type:"submit",size:"lg",className:"px-12 font-bold text-base",children:"Tip tc thanh ton"})})]}),c==="payment"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-100 mb-6",children:[l.jsxs("div",{className:"flex justify-between text-stone-600 mb-2",children:[l.jsx("span",{className:"font-medium",children:"Tng tin hng:"}),l.jsx("span",{className:"font-bold text-xl text-stone-900",children:ws(r)})]}),l.jsx("div",{className:"text-xs text-stone-400",children:" bao gm ph vn chuyn"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-bold text-lg text-stone-900",children:"Chn phng thc thanh ton"}),l.jsxs("label",{className:`flex items-center p-5 border-2 rounded-xl cursor-pointer transition-all ${p==="cod"?"border-rust-500 bg-rust-50 shadow-md":"border-stone-100 hover:border-stone-300"}`,children:[l.jsx("input",{type:"radio",name:"payment",className:"hidden",checked:p==="cod",onChange:()=>y("cod")}),l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 flex-shrink-0 ${p==="cod"?"border-rust-500":"border-stone-300"}`,children:p==="cod"&&l.jsx("div",{className:"w-3 h-3 rounded-full bg-rust-500"})}),l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border border-stone-100 text-green-600 shadow-sm",children:l.jsx(AT,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-stone-900 text-lg",children:"Thanh ton khi nhn hng (COD)"}),l.jsx("div",{className:"text-sm text-stone-500",children:"Thanh ton tin mt cho shipper khi nhn hng"})]})]})]}),l.jsxs("label",{className:`flex items-center p-5 border-2 rounded-xl cursor-pointer transition-all ${p==="banking"?"border-rust-500 bg-rust-50 shadow-md":"border-stone-100 hover:border-stone-300"}`,children:[l.jsx("input",{type:"radio",name:"payment",className:"hidden",checked:p==="banking",onChange:()=>y("banking")}),l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 flex-shrink-0 ${p==="banking"?"border-rust-500":"border-stone-300"}`,children:p==="banking"&&l.jsx("div",{className:"w-3 h-3 rounded-full bg-rust-500"})}),l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center border border-stone-100 text-blue-600 shadow-sm",children:l.jsx(fT,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-stone-900 text-lg",children:"Chuyn khon ngn hng (VietQR)"}),l.jsx("div",{className:"text-sm text-stone-500",children:"Qut m QR, xc nhn tc th"})]})]})]}),l.jsxs("label",{className:`flex items-center p-5 border-2 rounded-xl cursor-pointer transition-all ${p==="momo"?"border-rust-500 bg-rust-50 shadow-md":"border-stone-100 hover:border-stone-300"}`,children:[l.jsx("input",{type:"radio",name:"payment",className:"hidden",checked:p==="momo",onChange:()=>y("momo")}),l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 flex-shrink-0 ${p==="momo"?"border-rust-500":"border-stone-300"}`,children:p==="momo"&&l.jsx("div",{className:"w-3 h-3 rounded-full bg-rust-500"})}),l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center border border-pink-200 text-pink-600 shadow-sm",children:l.jsx(bT,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-stone-900 text-lg",children:"V MoMo / ZaloPay"}),l.jsx("div",{className:"text-sm text-stone-500",children:"Thanh ton qua ng dng v in t"})]})]})]})]}),p==="banking"&&l.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100 animate-fade-in-up flex gap-6 items-center",children:[l.jsx("div",{className:"w-28 h-28 bg-white p-2 rounded-lg flex-shrink-0 shadow-sm",children:l.jsx("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=ChuLeafPaymentDemo",alt:"QR",className:"w-full h-full"})}),l.jsxs("div",{className:"text-sm text-stone-700 space-y-1",children:[l.jsx("p",{className:"font-bold text-lg text-blue-800",children:"Ngn hng MB Bank"}),l.jsxs("p",{className:"text-base",children:["STK: ",l.jsx("span",{className:"font-mono font-bold select-all bg-white px-2 py-0.5 rounded border border-blue-100",children:"0987654321"})]}),l.jsx("p",{children:"Ch TK: CHULEAF CO"}),l.jsxs("p",{children:["Ni dung: ",l.jsxs("span",{className:"font-bold text-rust-600",children:["CHULEAF ",Math.floor(Math.random()*1e3)]})]}),l.jsx("p",{className:"text-xs text-stone-500 mt-2 italic",children:"* H thng s t ng cp nht sau 1-2 pht."})]})]}),l.jsxs("div",{className:"pt-6 flex justify-between items-center border-t border-stone-100 mt-6",children:[l.jsx("button",{onClick:()=>u("info"),className:"text-stone-500 hover:text-stone-800 underline text-base font-medium",children:"Quay li"}),l.jsx(Te,{onClick:V,disabled:f,size:"lg",className:"min-w-[200px] text-base font-bold",children:f?l.jsx(sl,{className:"animate-spin",size:24}):p==="cod"?"Xc nhn t hng":"Ti  chuyn khon"})]})]})]})]})]})},w5=()=>{const{cartItems:i,updateQuantity:e,removeFromCart:n,cartTotal:r,clearCart:c}=fl(),[u,f]=Y.useState(!1),[x,p]=Y.useState(!1),[y,N]=Y.useState(""),S=i.length>0?25e3:0,I=r+S;Y.useEffect(()=>{window.scrollTo(0,0)},[]);const z=V=>{f(!1),N(V),p(!0),c(),window.scrollTo(0,0)};return x?l.jsxs("div",{className:"min-h-screen pt-32 pb-20 container mx-auto px-6 text-center animate-fade-in-up",children:[l.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100",children:l.jsx(Tn,{size:48,strokeWidth:3})}),l.jsx("h1",{className:"text-4xl font-light text-stone-900 mb-4",children:"t hng thnh cng!"}),l.jsxs("div",{className:"bg-stone-50 rounded-3xl p-8 mb-8 border border-stone-100 max-w-lg mx-auto shadow-sm",children:[l.jsxs("p",{className:"text-stone-800 font-medium text-lg mb-2",children:["M n hng: ",l.jsx("span",{className:"text-rust-600 font-bold",children:y})]}),l.jsxs("p",{className:"text-stone-600 leading-relaxed text-lg font-light",children:["Cm n bn  la chn ChuLeaf. H thng  ghi nhn n hng ca bn. ",l.jsx("br",{}),l.jsx("strong",{className:"font-medium text-stone-900",children:"Vui lng   in thoi"}),", nhn vin ca chng ti s gi in xc nhn trong vng 30 pht."]})]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-100 rounded-2xl p-6 mb-10 max-w-lg mx-auto flex items-start gap-4 text-left",children:[l.jsx("div",{className:"bg-white p-3 rounded-full shadow-sm text-rust-500 flex-shrink-0",children:l.jsx(cT,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900 text-base",children:"Cn h tr n hng?"}),l.jsx("p",{className:"text-stone-600 text-sm mb-2 font-light",children:"Nu bn mun thay i thng tin hoc c yu cu c bit:"}),l.jsx("a",{href:"tel:1900123456",className:"text-rust-600 font-bold text-xl hover:underline",children:"Hotline: 1900 123 456"})]})]}),l.jsx("div",{className:"flex justify-center gap-4",children:l.jsx(Te,{onClick:()=>{p(!1),window.location.hash="#"},size:"lg",children:"Tip tc mua sm"})})]}):i.length===0?l.jsxs("div",{className:"min-h-screen pt-32 pb-20 container mx-auto px-6 text-center",children:[l.jsx("h1",{className:"text-3xl font-light text-stone-900 mb-6",children:"Gi hng ca bn ang trng"}),l.jsx("p",{className:"text-stone-500 mb-8 font-light text-lg",children:"Hy khm ph thm cc sn phm tr tuyt vi ca chng ti."}),l.jsx(Te,{onClick:()=>window.location.hash="#",variant:"primary",children:"Quay li ca hng"})]}):l.jsxs("div",{className:"bg-white min-h-screen pt-[120px] pb-20",children:[l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-stone-500 hover:text-rust-500 mb-8 text-sm font-medium",children:[l.jsx(dl,{size:16})," Tip tc mua sm"]}),l.jsxs("h1",{className:"text-3xl md:text-4xl font-light text-stone-900 mb-10",children:["Gi hng ca bn (",i.length," mn)"]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[l.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[l.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 pb-4 border-b border-stone-200 text-sm font-bold text-stone-900 uppercase tracking-wider",children:[l.jsx("div",{className:"col-span-6",children:"Sn phm"}),l.jsx("div",{className:"col-span-2 text-center",children:"n gi"}),l.jsx("div",{className:"col-span-2 text-center",children:"S lng"}),l.jsx("div",{className:"col-span-2 text-right",children:"Tng"})]}),l.jsx("div",{className:"space-y-6",children:i.map(V=>{const X=parseInt(V.price.replace(/\./g,"").replace(/\D/g,""))*V.quantity;return l.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-12 gap-4 items-center border-b border-stone-100 pb-6",children:[l.jsxs("div",{className:"col-span-6 w-full flex gap-4",children:[l.jsx("div",{className:"w-24 h-24 bg-stone-100 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex flex-col justify-between py-1",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-stone-900 text-lg leading-tight",children:V.name}),l.jsx("p",{className:"text-sm text-stone-500 mt-1",children:V.format||"Tiu chun"})]}),l.jsx("div",{className:"flex gap-4 mt-2 md:mt-0",children:l.jsxs("button",{onClick:()=>n(V.id),className:"flex items-center gap-1 text-xs text-stone-400 hover:text-red-500 transition-colors",children:[l.jsx(Fv,{size:12})," Xa"]})})]})]}),l.jsxs("div",{className:"md:hidden w-full flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-stone-500",children:"n gi:"}),l.jsx("span",{className:"font-medium",children:V.price})]}),l.jsx("div",{className:"hidden md:block col-span-2 text-center text-stone-600",children:V.price}),l.jsx("div",{className:"col-span-2 w-full flex justify-center",children:l.jsxs("div",{className:"flex items-center border border-stone-200 rounded-md",children:[l.jsx("button",{onClick:()=>e(V.id,V.quantity-1),className:"p-2 text-stone-500 hover:text-rust-500 hover:bg-stone-50",children:l.jsx(Bm,{size:16})}),l.jsx("span",{className:"text-sm font-medium w-8 text-center",children:V.quantity}),l.jsx("button",{onClick:()=>e(V.id,V.quantity+1),className:"p-2 text-stone-500 hover:text-rust-500 hover:bg-stone-50",children:l.jsx(qo,{size:16})})]})}),l.jsxs("div",{className:"md:hidden w-full flex justify-between items-center text-lg font-bold border-t border-stone-50 pt-2 mt-2",children:[l.jsx("span",{children:"Thnh tin:"}),l.jsx("span",{children:ws(X)})]}),l.jsx("div",{className:"hidden md:block col-span-2 text-right font-bold text-stone-900",children:ws(X)})]},V.id)})})]}),l.jsx("div",{className:"lg:col-span-4",children:l.jsxs("div",{className:"bg-stone-50 p-6 md:p-8 rounded-3xl sticky top-24",children:[l.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Tng n hng"}),l.jsxs("div",{className:"space-y-4 text-sm text-stone-600 mb-6 border-b border-stone-200 pb-6",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{children:[i.length," sn phm"]}),l.jsx("span",{className:"font-medium text-stone-900",children:ws(r)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Ph vn chuyn (D kin)"}),l.jsx("span",{className:"font-medium text-stone-900",children:ws(S)})]})]}),l.jsxs("div",{className:"flex justify-between items-end mb-8",children:[l.jsx("span",{className:"text-lg font-bold text-stone-900",children:"Tng cng"}),l.jsx("span",{className:"text-2xl font-bold text-stone-900",children:ws(I)})]}),l.jsx(Te,{fullWidth:!0,size:"lg",onClick:()=>f(!0),children:"Thanh ton ngay"}),l.jsx("div",{className:"mt-6",children:l.jsx("p",{className:"text-xs text-stone-500 text-center underline cursor-pointer hover:text-rust-500",children:"Thm m gim gi"})})]})})]})]}),l.jsx(T5,{isOpen:u,onClose:()=>f(!1),onSuccess:z,total:I})]})},E5=()=>{const[i,e]=Y.useState(""),[n,r]=Y.useState("products"),[c,u]=Y.useState(!1),[f,x]=Y.useState([]),[p,y]=Y.useState([]),[N,S]=Y.useState("relevance"),[I,z]=Y.useState(!1);Y.useEffect(()=>{const F=()=>{const Q=window.location.hash;if(Q.includes("?q=")){const _=Q.split("?q=")[1];e(decodeURIComponent(_).replace(/\+/g," "))}else e("")};return F(),window.addEventListener("hashchange",F),()=>window.removeEventListener("hashchange",F)},[]);const V=F=>F.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),X=Y.useMemo(()=>{if(!i.trim())return[];const F=V(i).split(" ").filter(Q=>Q);return Ih.filter(Q=>{const _=V(Q.name),T=Q.tag?V(Q.tag):"",j=(Q.categoryIds||(Q.categoryId?[Q.categoryId]:[])).map(D=>V(D)).join(" "),C=Q.format?V(Q.format):"";return F.every(D=>_.includes(D)||T.includes(D)||j.includes(D)||C.includes(D))})},[i]),P=Y.useMemo(()=>{let F=[...X];switch(f.length>0&&(F=F.filter(Q=>Q.format&&f.includes(Q.format))),p.length>0&&(F=F.filter(Q=>{const _=parseInt(Q.price.replace(/\./g,"").replace(/\D/g,""));return p.some(T=>T==="low"?_<=2e5:T==="mid"?_>2e5&&_<=5e5:T==="high"?_>5e5:!1)})),N){case"priceAsc":F.sort((Q,_)=>parseInt(Q.price.replace(/\D/g,""))-parseInt(_.price.replace(/\D/g,"")));break;case"priceDesc":F.sort((Q,_)=>parseInt(_.price.replace(/\D/g,""))-parseInt(Q.price.replace(/\D/g,"")));break;case"nameAsc":F.sort((Q,_)=>Q.name.localeCompare(_.name));break;case"newest":F.sort((Q,_)=>Q.tag==="Mi"?-1:1);break}return F},[X,f,p,N]),se=Y.useMemo(()=>{if(!i.trim())return[];const F=V(i).split(" ").filter(Q=>Q);return lh.filter(Q=>{const _=V(Q.title+" "+Q.excerpt);return F.every(T=>_.includes(T))})},[i]),ie=Y.useMemo(()=>{const F=new Set;return X.forEach(Q=>{Q.format&&F.add(Q.format)}),Array.from(F)},[X]),re=(F,Q)=>{F(_=>_.includes(Q)?_.filter(T=>T!==Q):[..._,Q])},ce=F=>{window.location.hash=`#article/${F}`};return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsx("div",{className:"bg-stone-950 text-white py-16",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsx("span",{className:"text-stone-400 font-bold tracking-widest uppercase text-xs mb-3 block",children:"Kt qu tm kim"}),l.jsxs("h1",{className:"text-4xl md:text-5xl font-light mb-4",children:['"',i,'"']}),l.jsx("p",{className:"text-stone-400 font-light",children:"Hin th kt qu tm kim ca bn bn di."})]})}),l.jsx("div",{className:"sticky top-[72px] z-30 bg-white border-b border-stone-200",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 flex items-center gap-8 overflow-x-auto",children:[l.jsxs("button",{onClick:()=>r("products"),className:`py-4 font-medium text-sm md:text-base border-b-2 transition-colors whitespace-nowrap ${n==="products"?"border-rust-500 text-stone-900":"border-transparent text-stone-500 hover:text-stone-800"}`,children:["Sn phm (",X.length,")"]}),l.jsxs("button",{onClick:()=>r("articles"),className:`py-4 font-medium text-sm md:text-base border-b-2 transition-colors whitespace-nowrap ${n==="articles"?"border-rust-500 text-stone-900":"border-transparent text-stone-500 hover:text-stone-800"}`,children:["Bi vit & Cng thc (",se.length,")"]})]})}),l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 py-12",children:[n==="products"&&l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12 relative",children:[l.jsxs("aside",{className:`
                    fixed inset-0 bg-white z-50 p-6 transition-transform duration-300 ease-in-out lg:static lg:block lg:w-64 lg:p-0 lg:z-0
                    ${c?"translate-x-0":"-translate-x-full lg:translate-x-0"}
                    overflow-y-auto lg:overflow-visible shadow-2xl lg:shadow-none
                `,children:[l.jsxs("div",{className:"flex items-center justify-between mb-8 lg:hidden",children:[l.jsx("h2",{className:"text-xl font-bold text-stone-900",children:"B lc"}),l.jsx("button",{onClick:()=>u(!1),className:"p-2 text-stone-500 hover:text-rust-500",children:l.jsx(si,{size:24})})]}),l.jsxs("div",{className:"space-y-8 pr-4",children:[l.jsx("div",{className:"flex items-center justify-between lg:hidden",children:l.jsxs("span",{className:"text-stone-500",children:[P.length," kt qu"]})}),ie.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 mb-4 text-xs uppercase tracking-widest border-b border-stone-100 pb-2",children:"Loi Sn Phm"}),l.jsx("div",{className:"space-y-3",children:ie.map(F=>l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${f.includes(F)?"bg-rust-500 border-rust-500":"border-stone-300 bg-white"}`,children:f.includes(F)&&l.jsx(Tn,{size:10,className:"text-white"})}),l.jsx("input",{type:"checkbox",className:"hidden",checked:f.includes(F),onChange:()=>re(x,F)}),l.jsx("span",{className:"text-stone-600 text-sm group-hover:text-rust-600 transition-colors",children:F})]},F))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 mb-4 text-xs uppercase tracking-widest border-b border-stone-100 pb-2",children:"Mc Gi"}),l.jsx("div",{className:"space-y-3",children:[{label:"Di 200.000",val:"low"},{label:"200.000 - 500.000",val:"mid"},{label:"Trn 500.000",val:"high"}].map(F=>l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${p.includes(F.val)?"bg-rust-500 border-rust-500":"border-stone-300 bg-white"}`,children:p.includes(F.val)&&l.jsx(Tn,{size:10,className:"text-white"})}),l.jsx("input",{type:"checkbox",className:"hidden",checked:p.includes(F.val),onChange:()=>re(y,F.val)}),l.jsx("span",{className:"text-stone-600 text-sm group-hover:text-rust-600 transition-colors",children:F.label})]},F.val))})]})]}),l.jsx("div",{className:"mt-12 lg:hidden sticky bottom-0 bg-white p-4 border-t border-stone-100",children:l.jsxs(Te,{fullWidth:!0,onClick:()=>u(!1),children:["p dng (",P.length,")"]})})]}),l.jsxs("main",{className:"flex-1 w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold text-stone-900 hidden lg:block",children:"Sn phm"}),l.jsxs("button",{onClick:()=>u(!0),className:"lg:hidden flex items-center gap-2 text-stone-800 font-medium border border-stone-200 px-4 py-2 rounded-full hover:bg-stone-50",children:[l.jsx(Xa,{size:18})," B lc"]}),l.jsxs("div",{className:"relative z-20",children:[l.jsxs("button",{onClick:()=>z(!I),className:"flex items-center gap-2 text-sm font-medium text-stone-700 hover:text-rust-600",children:[l.jsx(Xa,{size:16,className:"hidden md:inline"}),"Sp xp theo ",l.jsx(sn,{size:16})]}),I&&l.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white shadow-xl rounded-lg border border-stone-100 py-2 flex flex-col animate-fade-in-up",children:[{label:"Lin quan nht",val:"relevance"},{label:"Mi nht",val:"newest"},{label:"Gi: Thp n Cao",val:"priceAsc"},{label:"Gi: Cao n Thp",val:"priceDesc"},{label:"Tn: A - Z",val:"nameAsc"}].map(F=>l.jsx("button",{onClick:()=>{S(F.val),z(!1)},className:`text-left px-4 py-2 text-sm hover:bg-stone-50 ${N===F.val?"text-rust-600 font-bold":"text-stone-700"}`,children:F.label},F.val))})]})]}),P.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-10 md:gap-x-6 md:gap-y-12",children:P.map(F=>l.jsx(Yv,{product:F},F.id))}):l.jsxs("div",{className:"text-center py-20 bg-stone-50 rounded-2xl border border-stone-100",children:[l.jsx(q2,{size:40,className:"mx-auto text-stone-300 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-stone-700 mb-2",children:"Khng c sn phm no"}),l.jsx("p",{className:"text-stone-500 text-sm",children:"Th thay i b lc hoc t kha tm kim."}),l.jsx("button",{onClick:()=>{x([]),y([])},className:"mt-4 text-rust-500 font-medium hover:underline",children:"Xa b lc"})]})]})]}),n==="articles"&&l.jsx("div",{children:se.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:se.map(F=>l.jsxs("div",{className:"group cursor-pointer bg-stone-50 rounded-2xl overflow-hidden hover:shadow-lg transition-all duration-300",onClick:()=>ce(F.id),children:[l.jsxs("div",{className:"aspect-[16/10] overflow-hidden relative",children:[l.jsx("img",{src:F.image,alt:F.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors"})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest bg-white border border-stone-200 px-2 py-1 rounded text-stone-500",children:F.categoryId==="cach-pha-tra"?"Pha Ch":"Cu Chuyn"}),l.jsx("span",{className:"text-xs text-stone-400",children:F.date})]}),l.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-3 leading-snug group-hover:text-rust-600 transition-colors",children:F.title}),l.jsx("p",{className:"text-stone-600 text-sm line-clamp-3 mb-4 leading-relaxed",children:F.excerpt}),l.jsxs("div",{className:"flex items-center text-rust-600 text-sm font-medium group-hover:gap-2 transition-all",children:["c thm ",l.jsx(Br,{size:16,className:"ml-1"})]})]})]},F.id))}):l.jsxs("div",{className:"text-center py-20 bg-stone-50 rounded-2xl border border-stone-100",children:[l.jsx(sh,{size:40,className:"mx-auto text-stone-300 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-stone-700 mb-2",children:"Khng tm thy bi vit no"}),l.jsx("p",{className:"text-stone-500 text-sm",children:"Hy th tm kim sn phm hoc t kha khc."})]})})]})]})},j5=()=>{const{isMiniCartOpen:i,closeMiniCart:e,cartItems:n,updateQuantity:r,removeFromCart:c,cartTotal:u,addToCart:f}=fl(),x=N=>{N.target===N.currentTarget&&e()},p=()=>{window.location.hash="#gio-hang",e()},y=Y.useMemo(()=>{const N=n.map(I=>I.id);return Ih.filter(I=>!N.includes(I.id)).sort(()=>.5-Math.random()).slice(0,2)},[n]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[60] transition-opacity duration-300 ${i?"opacity-100 visible":"opacity-0 invisible"}`,onClick:x}),l.jsx("div",{className:`fixed top-0 right-0 h-full w-full sm:w-[450px] bg-white z-[70] shadow-2xl transform transition-transform duration-300 ease-in-out ${i?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 flex items-center justify-between bg-stone-50/50",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-medium",children:[l.jsx(Tn,{size:18,className:"bg-green-100 rounded-full p-0.5"}),l.jsx("span",{children:" thm vo gi hng"})]}),l.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-900 transition-colors",children:l.jsx(si,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[n.length===0?l.jsx("div",{className:"text-center py-10 text-stone-500",children:"Gi hng ca bn ang trng"}):n.map(N=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-20 h-20 bg-stone-100 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("h4",{className:"text-stone-900 font-medium text-sm pr-2 line-clamp-2",children:N.name}),l.jsx("p",{className:"text-stone-900 font-bold text-sm whitespace-nowrap",children:N.price})]}),l.jsx("p",{className:"text-xs text-stone-500 mb-3",children:N.format||"Tiu chun"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center border border-stone-200 rounded-md",children:[l.jsx("button",{onClick:()=>r(N.id,N.quantity-1),className:"px-2 py-1 text-stone-500 hover:text-rust-500 hover:bg-stone-50",children:l.jsx(Bm,{size:14})}),l.jsx("span",{className:"text-xs font-medium w-6 text-center",children:N.quantity}),l.jsx("button",{onClick:()=>r(N.id,N.quantity+1),className:"px-2 py-1 text-stone-500 hover:text-rust-500 hover:bg-stone-50",children:l.jsx(qo,{size:14})})]}),l.jsx("button",{onClick:()=>c(N.id),className:"text-xs text-stone-400 hover:text-red-500 underline",children:"Xa"})]})]})]},N.id)),n.length>0&&y.length>0&&l.jsxs("div",{className:"mt-8 pt-8 border-t border-stone-100",children:[l.jsx("h3",{className:"text-sm font-bold text-stone-900 mb-4",children:"C th bn s thch"}),l.jsx("div",{className:"space-y-4",children:y.map(N=>l.jsxs("div",{className:"flex gap-3 items-center group",children:[l.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-md overflow-hidden flex-shrink-0",children:l.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-stone-900 font-medium text-xs truncate",children:N.name}),l.jsx("p",{className:"text-stone-500 text-xs",children:N.price})]}),l.jsx("button",{onClick:()=>f(N),className:"w-8 h-8 rounded-full border border-stone-300 flex items-center justify-center text-stone-600 hover:bg-rust-500 hover:border-rust-500 hover:text-white transition-colors",children:l.jsx(qo,{size:16})})]},N.id))})]})]}),l.jsxs("div",{className:"p-6 border-t border-stone-100 bg-white shadow-[0_-4px_20px_rgba(0,0,0,0.05)]",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("span",{className:"text-stone-600 font-medium",children:["Tm tnh (",n.length," mn)"]}),l.jsx("span",{className:"text-xl font-bold text-stone-900",children:ws(u)})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Te,{fullWidth:!0,onClick:p,children:"Xem gi hng & Thanh ton"}),l.jsx(Te,{fullWidth:!0,variant:"outline",onClick:e,children:"Tip tc mua sm"})]})]})]})})]})},S5=()=>{const[i,e]=Y.useState(!1),[n,r]=Y.useState(""),[c,u]=Y.useState(""),[f,x]=Y.useState(!1),[p,y]=Y.useState(!1),[N,S]=Y.useState(null),[I,z]=Y.useState(!1),[V,X]=Y.useState(""),[P,se]=Y.useState(!1),[ie,re]=Y.useState(!1);Y.useEffect(()=>{window.scrollTo(0,0)},[]);const ce=async A=>{A.preventDefault(),S(null),y(!0);try{await WC(Jo,n,c),window.location.hash="#account"}catch(j){let C=" xy ra li khi ng nhp. Vui lng th li.";j.code==="auth/user-not-found"?C="Email khng tn ti. Vui lng kim tra li hoc ng k ti khon mi.":j.code==="auth/wrong-password"?C="Mt khu khng ng. Vui lng th li.":j.code==="auth/invalid-email"?C="Email khng hp l. Vui lng kim tra li.":j.code==="auth/invalid-credential"?C="Email hoc mt khu khng ng. Vui lng th li.":j.code==="auth/too-many-requests"&&(C="Qu nhiu ln th ng nhp. Vui lng th li sau."),S(C),console.error("Li ng nhp:",j)}finally{y(!1)}},F=async A=>{A.preventDefault(),se(!0),S(null);try{await ZC(Jo,V),re(!0)}catch(j){let C=" xy ra li khi gi email. Vui lng th li.";j.code==="auth/user-not-found"?C="Email khng tn ti trong h thng.":j.code==="auth/invalid-email"&&(C="Email khng hp l. Vui lng kim tra li."),S(C),console.error("Li qun mt khu:",j)}finally{se(!1)}},Q=()=>{z(!1),X(""),re(!1),S(null)},_="w-full px-5 py-4 rounded-xl bg-stone-900 text-white text-lg border border-stone-700 focus:border-rust-500 focus:ring-1 focus:ring-rust-500 outline-none transition-all placeholder:text-stone-500",T="block text-base font-bold text-stone-800 mb-2";return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsxs("div",{className:"relative w-full h-[300px] md:h-[350px] bg-stone-900 overflow-hidden flex items-center justify-center",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1555529733-0e670560f7e1?q=80&w=2000&auto=format&fit=crop",alt:"Tea Society Background",className:"absolute inset-0 w-full h-full object-cover opacity-60"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/60"}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center drop-shadow-xl",children:[l.jsx("div",{className:"w-20 h-20 bg-rust-500 rounded-full flex items-center justify-center text-white font-bold text-4xl shadow-lg mb-3 border-4 border-white/20",children:"c"}),l.jsx("span",{className:"font-bold text-3xl text-white tracking-tight",children:"ChuLeaf Co."})]})]}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-16 md:py-20",children:l.jsxs("div",{className:"max-w-xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-stone-900 mb-3",children:"Cho mng tr li"}),l.jsx("p",{className:"text-stone-500 font-light text-lg",children:"ng nhp vo ti khon thnh vin ChuLeaf"})]}),l.jsxs("form",{onSubmit:ce,className:"space-y-8 bg-white md:p-8 rounded-2xl",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("label",{htmlFor:"email",className:T,children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",id:"email",required:!0,value:n,onChange:A=>r(A.target.value),placeholder:"Nhp a ch email ca bn",className:_})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("label",{htmlFor:"password",className:T,children:["Mt khu ",l.jsx("span",{className:"text-red-500",children:"*"})]})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:i?"text":"password",id:"password",required:!0,value:c,onChange:A=>u(A.target.value),placeholder:"Nhp mt khu",className:`${_} pr-12`}),l.jsx("button",{type:"button",onClick:()=>e(!i),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-stone-400 hover:text-white p-2",children:i?l.jsx(rh,{size:24}):l.jsx(ah,{size:24})})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2",children:[l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${f?"bg-stone-900 border-stone-900":"border-stone-300 bg-white"}`,children:f&&l.jsx(Tn,{size:16,className:"text-white"})}),l.jsx("input",{type:"checkbox",className:"hidden",checked:f,onChange:()=>x(!f)}),l.jsx("span",{className:"text-stone-700 text-base font-medium group-hover:text-stone-900",children:"Duy tr ng nhp"})]}),l.jsx("a",{href:"#",onClick:A=>{A.preventDefault(),z(!0)},className:"text-base font-medium text-stone-500 hover:text-stone-900 underline underline-offset-4",children:"Qun mt khu?"})]}),N&&l.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[l.jsx(ih,{size:20,className:"text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm text-red-800 font-medium",children:N})}),l.jsx("button",{onClick:()=>S(null),className:"text-red-500 hover:text-red-700",children:l.jsx("span",{className:"text-lg",children:""})})]}),l.jsx("div",{className:"pt-4",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:p,className:"bg-stone-900 hover:bg-stone-800 text-white font-bold py-4 text-lg rounded-xl shadow-xl transition-transform active:scale-[0.99] disabled:opacity-50",children:p?"ang x l...":"ng nhp"})}),l.jsx("div",{className:"text-center pt-6 border-t border-stone-100 mt-8",children:l.jsxs("p",{className:"text-stone-600 text-lg",children:["Cha l thnh vin? "," ",l.jsx("a",{href:"#register",className:"font-bold text-rust-600 hover:text-rust-700 underline underline-offset-4",children:"ng k ngay"})]})})]})]})}),I&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 md:p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:"Qun mt khu?"}),l.jsx("button",{onClick:Q,className:"text-stone-400 hover:text-stone-900",children:l.jsx("span",{className:"text-2xl",children:""})})]}),ie?l.jsxs("div",{className:"text-center py-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Tn,{size:32,className:"text-green-600"})}),l.jsx("h3",{className:"text-lg font-bold text-stone-900 mb-2",children:"Email  c gi!"}),l.jsxs("p",{className:"text-stone-600 mb-6",children:["Chng ti  gi link t li mt khu n ",l.jsx("strong",{children:V}),". Vui lng kim tra hp th ca bn."]}),l.jsx(Te,{onClick:Q,fullWidth:!0,children:"ng"})]}):l.jsxs("form",{onSubmit:F,className:"space-y-4",children:[l.jsx("p",{className:"text-stone-600 mb-4",children:"Nhp email ca bn v chng ti s gi link t li mt khu."}),N&&l.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2",children:[l.jsx(ih,{size:16,className:"text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-red-800",children:N})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"resetEmail",className:T,children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",id:"resetEmail",required:!0,value:V,onChange:A=>X(A.target.value),placeholder:"Nhp a ch email ca bn",className:_})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(Te,{type:"button",variant:"outline",onClick:Q,className:"flex-1",children:"Hy"}),l.jsx(Te,{type:"submit",disabled:P,className:"flex-1 bg-stone-900 hover:bg-stone-800 text-white",children:P?"ang gi...":"Gi email"})]})]})]})})]})},A5=()=>{const[i,e]=Y.useState(!1),[n,r]=Y.useState({firstName:"",lastName:"",email:"",phone:"",dobDay:"",dobMonth:"",dobYear:"",password:"",marketingConsent:!1,termsConsent:!1}),[c,u]=Y.useState(!1),[f,x]=Y.useState(null);Y.useEffect(()=>{window.scrollTo(0,0)},[]);const p=P=>{const{name:se,value:ie,type:re}=P.target,ce=P.target.checked;r(F=>({...F,[se]:re==="checkbox"?ce:ie})),f&&x(null)},y=async P=>{if(P.preventDefault(),!n.termsConsent){x("Vui lng ng  vi iu khon v Chnh sch bo mt.");return}u(!0),x(null);try{await JC(Jo,n.email,n.password),alert("ng k thnh cng! Bn c th ng nhp ngay by gi."),window.location.hash="#login"}catch(se){let ie=" xy ra li khi ng k. Vui lng th li.";se.code==="auth/email-already-in-use"?ie="Email ny  c s dng. Vui lng dng email khc hoc ng nhp.":se.code==="auth/invalid-email"?ie="Email khng hp l. Vui lng kim tra li.":se.code==="auth/weak-password"?ie="Mt khu qu yu. Vui lng to mt khu mnh hn (t nht 6 k t).":se.code==="auth/operation-not-allowed"&&(ie="Tnh nng ng k tm thi khng kh dng. Vui lng th li sau."),x(ie),console.error("Li ng k:",se)}finally{u(!1)}},N=Array.from({length:31},(P,se)=>se+1),S=["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],I=new Date().getFullYear(),z=Array.from({length:100},(P,se)=>I-se),V="w-full px-4 py-3.5 rounded-lg border border-stone-300 focus:border-stone-900 focus:ring-1 focus:ring-stone-900 outline-none transition-all placeholder:font-light bg-white text-stone-900",X="block text-sm font-bold text-stone-800 mb-2";return l.jsx("div",{className:"bg-white min-h-screen pt-[80px] pb-20",children:l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-12 md:py-16",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"mb-10",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-stone-900 mb-4",children:"Tr thnh thnh vin ChuLeaf Society"}),l.jsxs("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:["Nhn ngay ",l.jsx("span",{className:"font-bold text-rust-600",children:"u i 10%"})," cho n hng u tin (Online hoc ti Ca hng).",l.jsx("br",{}),"Khm ph thm nhiu c quyn dnh ring cho hi vin."]})]}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"firstName",className:X,children:["Tn ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"firstName",required:!0,value:n.firstName,onChange:p,className:V,placeholder:"Tn ca bn"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"lastName",className:X,children:["H ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"lastName",required:!0,value:n.lastName,onChange:p,className:V,placeholder:"H"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"email",className:X,children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",name:"email",required:!0,value:n.email,onChange:p,className:V,placeholder:"email@example.com"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"phone",className:X,children:["S in thoi ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"tel",name:"phone",required:!0,value:n.phone,onChange:p,className:V,placeholder:"0912 345 678"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:X,children:"Ngy sinh"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("select",{name:"dobDay",value:n.dobDay,onChange:p,className:`${V} appearance-none cursor-pointer`,children:[l.jsx("option",{value:"",children:"Ngy"}),N.map(P=>l.jsx("option",{value:P,children:P},P))]}),l.jsx(sn,{size:16,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-stone-500 pointer-events-none"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{name:"dobMonth",value:n.dobMonth,onChange:p,className:`${V} appearance-none cursor-pointer`,children:[l.jsx("option",{value:"",children:"Thng"}),S.map((P,se)=>l.jsx("option",{value:se+1,children:P},se))]}),l.jsx(sn,{size:16,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-stone-500 pointer-events-none"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{name:"dobYear",value:n.dobYear,onChange:p,className:`${V} appearance-none cursor-pointer`,children:[l.jsx("option",{value:"",children:"Nm"}),z.map(P=>l.jsx("option",{value:P,children:P},P))]}),l.jsx(sn,{size:16,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-stone-500 pointer-events-none"})]})]}),l.jsx("p",{className:"text-xs text-stone-500 mt-2 italic",children:"( chng ti gi qu sinh nht cho bn!)"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"password",className:X,children:["To mt khu ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:i?"text":"password",name:"password",required:!0,value:n.password,onChange:p,className:`${V} pr-12`,placeholder:"Nhp mt khu"}),l.jsx("button",{type:"button",onClick:()=>e(!i),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-stone-400 hover:text-stone-600",children:i?l.jsx(rh,{size:20}):l.jsx(ah,{size:20})})]}),l.jsx("p",{className:"text-xs text-stone-500 mt-2",children:"t nht 8 k t, bao gm 1 ch hoa v 1 ch s."})]}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[l.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-colors flex-shrink-0 ${n.marketingConsent?"bg-stone-900 border-stone-900":"border-stone-300 bg-white"}`,children:n.marketingConsent&&l.jsx(Tn,{size:14,className:"text-white"})}),l.jsx("input",{type:"checkbox",name:"marketingConsent",className:"hidden",checked:n.marketingConsent,onChange:p}),l.jsx("span",{className:"text-stone-600 text-sm leading-snug group-hover:text-stone-900",children:"C! ng k nhn thng tin t ChuLeaf Society bao gm m gim gi, quyn truy cp sm s kin VIP v xem trc sn phm mi."})]}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[l.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-colors flex-shrink-0 ${n.termsConsent?"bg-rust-600 border-rust-600":"border-stone-300 bg-white"}`,children:n.termsConsent&&l.jsx(Tn,{size:14,className:"text-white"})}),l.jsx("input",{type:"checkbox",name:"termsConsent",className:"hidden",checked:n.termsConsent,onChange:p,required:!0}),l.jsxs("span",{className:"text-stone-600 text-sm leading-snug group-hover:text-stone-900",children:["Ti ng  vi ",l.jsx("a",{href:"#",className:"underline font-bold text-stone-800",children:"iu khon & iu kin"})," v ",l.jsx("a",{href:"#",className:"underline font-bold text-stone-800",children:"Chnh sch bo mt"})," ca ChuLeaf Co.",l.jsx("span",{className:"text-red-500",children:"*"})]})]})]}),f&&l.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[l.jsx(ih,{size:20,className:"text-red-500 flex-shrink-0 mt-0.5"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm text-red-800 font-medium",children:f})}),l.jsx("button",{onClick:()=>x(null),className:"text-red-500 hover:text-red-700",children:l.jsx("span",{className:"text-lg",children:""})})]}),l.jsx("div",{className:"pt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:c,className:"bg-stone-900 hover:bg-stone-800 text-white font-bold py-4 text-base rounded-lg shadow-xl disabled:opacity-50",children:c?"ang to ti khon...":"ng k ngay"})}),l.jsx("div",{className:"text-center pt-2",children:l.jsxs("p",{className:"text-stone-500 text-sm",children:[" l thnh vin? "," ",l.jsx("a",{href:"#login",className:"font-bold text-stone-900 hover:text-rust-600 underline",children:"ng nhp"})]})})]})]})})})},C5=()=>{const[i,e]=Y.useState(!0),n=[{id:"w1",name:"Toulouse Small Teapot Midnight",price:88e3,image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=400&auto=format&fit=crop"}];return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsxs("div",{className:"relative bg-stone-950 text-white overflow-hidden h-[300px] flex items-center",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1576092768241-dec231879fc3?q=80&w=2000&auto=format&fit=crop",alt:"Tea Leaves",className:"w-full h-full object-cover opacity-40"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-stone-950 via-stone-950/80 to-transparent"})]}),l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 relative z-10 flex flex-col justify-center h-full",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-rust-600 font-bold text-3xl shadow-lg mb-2",children:"c"}),l.jsx("span",{className:"text-white/90 font-bold text-lg tracking-wider",children:"ChuLeaf Co."})]}),l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:["Hello ",l.jsx("span",{className:"text-rust-500",children:"Thao"})]}),l.jsx("p",{className:"text-stone-300 text-lg font-light",children:"Manage your Tea Society membership"})]})]}),l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 py-12 -mt-16 relative z-20",children:[i&&l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 mb-8 flex items-start justify-between border-l-4 border-rust-500 animate-fade-in-up",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-rust-50 rounded-full flex items-center justify-center text-rust-600 flex-shrink-0",children:l.jsx(H2,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 text-lg",children:"Is your Birthday Coming up?"}),l.jsx("p",{className:"text-stone-500 font-light text-sm mb-3",children:"Let us know when to send you a surprise."}),l.jsxs("a",{href:"#account-details",className:"text-rust-600 font-bold text-sm hover:underline flex items-center gap-1",children:["Add my birthday ",l.jsx(Br,{size:14})]})]})]}),l.jsx("button",{onClick:()=>e(!1),className:"text-stone-400 hover:text-stone-900",children:l.jsx(si,{size:20})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-stone-100 p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2",children:"Orders"}),l.jsx("p",{className:"text-stone-500 font-light mb-8",children:"View your order history"}),l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-stone-400 mb-6",children:"You have zero transactions!"}),l.jsx(Te,{onClick:()=>window.location.hash="#",variant:"outline",children:"Get sipping"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-stone-100 p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-2",children:"Wishlist"}),l.jsx("p",{className:"text-stone-500 font-light mb-6",children:"View and manage the items in your wishlist."}),n.length>0?l.jsxs("div",{className:"mb-6",children:[n.map(r=>l.jsxs("div",{className:"flex items-center gap-4 mb-4 p-4 bg-stone-50 rounded-lg",children:[l.jsx("img",{src:r.image,alt:"",className:"w-16 h-16 object-cover rounded"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:r.name}),l.jsx("p",{className:"text-sm text-stone-500",children:ws(r.price)})]})]},r.id)),l.jsx(Te,{onClick:()=>window.location.hash="#wishlist",variant:"outline",fullWidth:!0,children:"See full list"})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-stone-400 mb-6",children:"Your wishlist is empty!"}),l.jsx("p",{className:"text-stone-400 mb-6 text-sm",children:"The perfect cuppa is just a wish away."}),l.jsx(Te,{onClick:()=>window.location.hash="#",variant:"outline",children:"Wish, click and sip"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-stone-100 overflow-hidden divide-y divide-stone-100",children:[l.jsxs("a",{href:"#email-preferences",className:"flex items-center justify-between p-6 hover:bg-stone-50 transition-colors group",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 text-lg group-hover:text-rust-600 transition-colors",children:"Email preferences"}),l.jsx("p",{className:"text-stone-500 font-light text-sm",children:"Opt in and manage your email subscription notification preferences."})]}),l.jsxs("div",{className:"flex items-center gap-2 text-stone-900 font-bold text-sm",children:["Update preferences ",l.jsx(Br,{size:16})]})]}),l.jsxs("a",{href:"#account-details",className:"flex items-center justify-between p-6 hover:bg-stone-50 transition-colors group",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-stone-900 text-lg group-hover:text-rust-600 transition-colors",children:"My details"}),l.jsx("p",{className:"text-stone-500 font-light text-sm",children:"View and manage your account details."})]}),l.jsxs("div",{className:"flex items-center gap-2 text-stone-900 font-bold text-sm",children:["Edit your details ",l.jsx(Br,{size:16})]})]})]}),l.jsx("div",{className:"text-center pt-8",children:l.jsx("button",{onClick:()=>window.location.hash="#login",className:"text-stone-500 hover:text-rust-600 font-medium underline text-sm",children:"Log out"})})]})]})]})},R5=()=>{const[i,e]=Y.useState([{id:"w1",name:"Toulouse Small Teapot Midnight",price:88e3,originalPrice:0,category:"Teapots",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=400&auto=format&fit=crop"},{id:"w2",name:"Gorgeous Geisha Tea Bag Cube 25 pack",price:21e3,originalPrice:26e3,category:"Green Tea | Tea Bag | Cube 25pk",tag:"Take 20% off!",image:"https://images.unsplash.com/photo-1597481499750-3e6b22637e12?q=80&w=400&auto=format&fit=crop"},{id:"w3",name:"Gorgeous Geisha Loose Leaf Cube 100g",price:21e3,originalPrice:0,category:"Green Tea | Loose Leaf | Cube 100g-3.5oz",image:"https://images.unsplash.com/photo-1627435601361-ec25f5b1d0e5?q=80&w=400&auto=format&fit=crop"}]),n=r=>{e(i.filter(c=>c.id!==r))};return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsx("div",{className:"bg-stone-950 py-12",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("a",{href:"#account",className:"inline-flex items-center gap-2 text-stone-400 hover:text-white mb-6 text-sm font-bold transition-colors",children:[l.jsx(dl,{size:16})," Back to My Account"]}),l.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:[l.jsx("span",{className:"text-rust-500",children:"Thao's"})," Wishlist"]}),l.jsx("p",{className:"text-stone-400 font-light mt-2",children:"View and manage the items in your wishlist."})]})}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-12",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-stone-100 pb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-stone-900",children:["My Items (",i.length,")"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs(Te,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(Bv,{size:16})," Share list"]})})]}),l.jsx("div",{className:"space-y-6",children:i.map(r=>l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 border-b border-stone-100 pb-6 items-start md:items-center group",children:[l.jsx("div",{className:"w-full md:w-32 md:h-32 bg-stone-50 rounded-lg overflow-hidden flex-shrink-0 relative",children:l.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-bold text-stone-900 text-lg mb-1",children:r.name}),l.jsx("p",{className:"text-xs text-stone-500 mb-2",children:r.category}),r.tag&&l.jsx("span",{className:"inline-block text-[10px] font-bold text-rust-600 uppercase tracking-wider mb-2",children:r.tag}),l.jsx("div",{className:"flex gap-4 mt-2",children:l.jsxs("button",{onClick:()=>n(r.id),className:"flex items-center gap-1 text-xs font-bold text-stone-500 hover:text-red-500 transition-colors",children:[l.jsx(Fv,{size:14})," Remove"]})})]}),l.jsxs("div",{className:"flex flex-row md:flex-col items-center md:items-end justify-between w-full md:w-auto gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"block font-bold text-stone-900 text-lg",children:ws(r.price)}),r.originalPrice>0&&l.jsxs("span",{className:"block text-xs text-stone-400 line-through",children:["Was: ",ws(r.originalPrice)]})]}),l.jsxs(Te,{variant:"outline",className:"flex items-center gap-2 whitespace-nowrap hover:bg-rust-500 hover:text-white hover:border-rust-500",children:[l.jsx(Wo,{size:16})," Add to cart"]})]})]},r.id))}),i.length===0&&l.jsxs("div",{className:"text-center py-20 bg-stone-50 rounded-2xl",children:[l.jsx("p",{className:"text-stone-500 mb-4 text-lg",children:"Your wishlist is empty."}),l.jsx("p",{className:"text-stone-400 text-sm mb-6",children:"The perfect cuppa is just a wish away."}),l.jsx(Te,{onClick:()=>window.location.hash="#",className:"px-8",children:"Go Shopping"})]})]})})]})},I5=()=>{const[i,e]=Y.useState(!1),[n,r]=Y.useState(!1),[c,u]=Y.useState(!1),[f,x]=Y.useState({firstName:"Thao",lastName:"Chu",email:"chuthao112@gmail.com",phone:"0943831155",dobDay:"17",dobMonth:"10",dobYear:"2012"}),p=V=>{x({...f,[V.target.name]:V.target.value})},y="w-full px-4 py-3 rounded-md bg-stone-50 border border-stone-200 focus:bg-white focus:border-rust-500 outline-none transition-colors text-stone-900",N="block text-sm font-medium text-stone-500 mb-1",S=Array.from({length:31},(V,X)=>X+1),I=["January","February","March","April","May","June","July","August","September","October","November","December"],z=Array.from({length:100},(V,X)=>new Date().getFullYear()-X);return l.jsxs("div",{className:"bg-stone-50 min-h-screen pt-[80px]",children:[l.jsx("div",{className:"bg-stone-950 py-12",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("a",{href:"#account",className:"inline-flex items-center gap-2 text-stone-400 hover:text-white mb-6 text-sm font-bold transition-colors",children:[l.jsx(dl,{size:16})," Back to My Account"]}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"My details"}),l.jsx("p",{className:"text-stone-400 font-light mt-2",children:"View and manage your account details."})]})}),l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 py-12 space-y-8 max-w-4xl",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-stone-100 pb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:"Personal details"}),!i&&l.jsxs("button",{onClick:()=>e(!0),className:"flex items-center gap-2 text-sm font-bold text-stone-900 hover:text-rust-600",children:["Edit ",l.jsx(lT,{size:14})]})]}),i?l.jsxs("form",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:N,children:"First Name"}),l.jsx("input",{type:"text",name:"firstName",value:f.firstName,onChange:p,className:y})]}),l.jsxs("div",{children:[l.jsx("label",{className:N,children:"Last Name"}),l.jsx("input",{type:"text",name:"lastName",value:f.lastName,onChange:p,className:y})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:N,children:"Email"}),l.jsx("input",{type:"email",name:"email",value:f.email,onChange:p,className:y})]}),l.jsxs("div",{children:[l.jsx("label",{className:N,children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:p,className:y})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:N,children:"Date of birth"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("select",{name:"dobDay",value:f.dobDay,onChange:p,className:y,children:[l.jsx("option",{value:"",children:"Day"}),S.map(V=>l.jsx("option",{value:V,children:V},V))]}),l.jsxs("select",{name:"dobMonth",value:f.dobMonth,onChange:p,className:y,children:[l.jsx("option",{value:"",children:"Month"}),I.map((V,X)=>l.jsx("option",{value:X+1,children:V},X))]}),l.jsxs("select",{name:"dobYear",value:f.dobYear,onChange:p,className:y,children:[l.jsx("option",{value:"",children:"Year"}),z.map(V=>l.jsx("option",{value:V,children:V},V))]})]}),l.jsx("p",{className:"text-xs text-stone-400 mt-2",children:"Enter to receive a birthday reward"})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx(Te,{onClick:()=>e(!1),children:"Save changes"}),l.jsx(Te,{variant:"outline",onClick:()=>e(!1),children:"Cancel"})]})]}):l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:N,children:"First Name"}),l.jsx("p",{className:"font-medium text-stone-900",children:f.firstName})]}),l.jsxs("div",{children:[l.jsx("p",{className:N,children:"Last Name"}),l.jsx("p",{className:"font-medium text-stone-900",children:f.lastName})]}),l.jsxs("div",{children:[l.jsx("p",{className:N,children:"Email"}),l.jsx("p",{className:"font-medium text-stone-900",children:f.email})]}),l.jsxs("div",{children:[l.jsx("p",{className:N,children:"Phone"}),l.jsx("p",{className:"font-medium text-stone-900",children:f.phone})]}),l.jsxs("div",{children:[l.jsx("p",{className:N,children:"Date of birth"}),l.jsxs("p",{className:"font-medium text-stone-900",children:[f.dobDay?f.dobDay:"Enter to receive a birthday reward",f.dobMonth&&`/${f.dobMonth}`,f.dobYear&&`/${f.dobYear}`]})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-stone-100 pb-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:"Address book"}),l.jsxs("button",{className:"flex items-center gap-2 text-sm font-bold text-stone-900 hover:text-rust-600",children:["Add ",l.jsx(qo,{size:14})]})]}),l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-stone-500 mb-2",children:"You have no saved address! Add a new address to get shipping even quicker when you check out."})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-6 border-b border-stone-100 pb-4",children:"Password"}),l.jsxs("form",{className:"space-y-6 max-w-lg",children:[l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:N,children:"Current password*"}),l.jsx("input",{type:n?"text":"password",placeholder:"Enter your password",className:y}),l.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-9 text-stone-400",children:n?l.jsx(rh,{size:18}):l.jsx(ah,{size:18})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:N,children:"Choose a new password*"}),l.jsx("input",{type:c?"text":"password",placeholder:"Enter a new password",className:y}),l.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-9 text-stone-400",children:c?l.jsx(rh,{size:18}):l.jsx(ah,{size:18})}),l.jsx("p",{className:"text-xs text-stone-400 mt-2",children:"At least 8 characters, including 1 uppercase letter and 1 number"})]}),l.jsx(Te,{variant:"outline",fullWidth:!0,className:"mt-4",children:"Update password"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-4 border-b border-stone-100 pb-4",children:"Not your cup of tea?"}),l.jsx("p",{className:"text-stone-600 mb-6 text-sm",children:"If youd like to change the emails you get, you can update your email preferences. If youd like to say goodbye altogether, you can delete your Tea Society account now."}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx(Te,{variant:"outline",onClick:()=>window.location.hash="#email-preferences",className:"border-rust-500 text-rust-600 hover:bg-rust-50",children:"Update my email preferences"}),l.jsx(Te,{variant:"outline",className:"text-stone-500 border-stone-300 hover:border-red-500 hover:text-red-500 hover:bg-red-50",children:"Delete my Tea Society account"})]})]})]})]})},k5=()=>{const i="w-full px-4 py-3 rounded-md bg-white border border-stone-200 focus:border-rust-500 outline-none transition-colors text-stone-900",e="block text-sm font-bold text-stone-900 mb-1";return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsxs("div",{className:"bg-stone-950 py-12 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 h-full w-1/2 opacity-20 bg-[url('https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center mix-blend-overlay"}),l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 relative z-10",children:[l.jsxs("a",{href:"#account",className:"inline-flex items-center gap-2 text-stone-400 hover:text-white mb-6 text-sm font-bold transition-colors",children:[l.jsx(dl,{size:16})," Back to My Account"]}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Email preferences"}),l.jsx("p",{className:"text-stone-400 font-light mt-2",children:"Opt in and manage your email subscription notification preferences."})]})]}),l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 py-16 flex flex-col lg:flex-row gap-16",children:[l.jsxs("div",{className:"flex-1 max-w-2xl",children:[l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-4",children:"Email preferences"}),l.jsx("p",{className:"text-stone-600 mb-2",children:"Sign up to receive marketing email from T2 Tea."}),l.jsx("div",{className:"w-full h-48 bg-stone-50 rounded-xl my-6 flex items-center justify-center border border-stone-100 overflow-hidden",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1550583724-b2692b85b150?q=80&w=600&auto=format&fit=crop",alt:"Tea Illustration",className:"w-full h-full object-cover opacity-80"})})]}),l.jsxs("form",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:e,children:["Email",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",defaultValue:"chuthao112@gmail.com",className:i})]}),l.jsxs("div",{children:[l.jsx("label",{className:e,children:"First name"}),l.jsx("input",{type:"text",defaultValue:"Thao",className:i})]}),l.jsxs("div",{children:[l.jsx("label",{className:e,children:"Last name"}),l.jsx("input",{type:"text",defaultValue:"Chu",className:i})]}),l.jsxs("div",{children:[l.jsxs("label",{className:e,children:["Country",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"To ensure you receive relevant communications, please select your country."}),l.jsxs("select",{className:i,children:[l.jsx("option",{children:"Singapore"}),l.jsx("option",{children:"Vietnam"}),l.jsx("option",{children:"Australia"})]})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-stone-100 mt-6",children:[l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[l.jsx("div",{className:"mt-0.5 w-5 h-5 rounded border border-stone-300 bg-white flex items-center justify-center transition-colors group-hover:border-rust-500",children:l.jsx(Tn,{size:14,className:"text-transparent group-hover:text-stone-200"})}),l.jsx("input",{type:"checkbox",className:"hidden"}),l.jsx("span",{className:"text-stone-600 text-sm leading-snug",children:"Yes! Sign me up to receive communications from Tea Society including discounts, VIP early access to sale events, the first look at new items and more"})]}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[l.jsx("div",{className:"mt-0.5 w-5 h-5 rounded border border-stone-300 bg-white flex items-center justify-center transition-colors"}),l.jsx("input",{type:"checkbox",className:"hidden"}),l.jsx("span",{className:"text-stone-600 text-sm leading-snug",children:"I agree to T2's Terms and Conditions and Privacy Policy"})]})]}),l.jsx("div",{className:"pt-6",children:l.jsx(Te,{fullWidth:!0,size:"lg",children:"Subscribe"})}),l.jsx("div",{className:"text-center pt-4",children:l.jsx("button",{type:"button",className:"text-stone-500 underline text-sm hover:text-stone-900",children:"Unsubscribe from all T2 Tea marketing notifications"})})]}),l.jsxs("div",{className:"mt-12 pt-8 border-t border-stone-200 flex items-start gap-3",children:[l.jsx("div",{className:"bg-stone-900 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold font-serif flex-shrink-0 mt-0.5",children:"i"}),l.jsx("p",{className:"text-xs text-stone-500",children:"Please note we'll still send you order and account information by email, post and text message."})]})]}),l.jsx("div",{className:"hidden lg:block lg:w-1/3"})]})]})},D5=[{id:"ws-knowledge",title:"Hnh Trnh Hng V: Khm Ph 6 Loi Tr Vit",description:"Kha hc nhp mn dnh cho ngi mi bt u. Bn s c tm hiu v lch s, cch phn bit Lc tr, Hng tr, Bch tr... v trc tip nm th cc phm tr thng hng.",price:"500.000  / ngi",image:"https://images.unsplash.com/photo-1576092768241-dec231879fc3?q=80&w=800&auto=format&fit=crop",duration:"2.5 Gi",level:"C bn"},{id:"ws-brewing",title:"Ngh Nhn Pha Ch: K Thut Tr o ng Dng",description:"i su vo k thut. Hc cch kim sot nhit  nc, thi gian hm cho tng loi m (T sa, Gm, S). Thc hnh pha tr ngon chun v.",price:"850.000  / ngi",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=800&auto=format&fit=crop",duration:"3.5 Gi",level:"Nng cao"}],M5=[{id:"slot1",time:"09:00 - 11:30",seats:4},{id:"slot2",time:"14:00 - 16:30",seats:6}],O5=()=>{const[i,e]=Y.useState(null),[n,r]=Y.useState("calendar"),[c,u]=Y.useState(null),[f,x]=Y.useState(null),[p,y]=Y.useState({name:"",phone:"",email:"",note:""});Y.useEffect(()=>{window.scrollTo(0,0)},[]);const N=new Date().getMonth()+1,S=new Date().getFullYear(),I=new Date(S,N,0).getDate(),z=new Date(S,N-1,1).getDay(),V=[];for(let F=0;F<z;F++)V.push(null);for(let F=1;F<=I;F++)V.push(F);const X=F=>{const _=new Date(S,N-1,F).getDay();return _===0||_===6},P=F=>{e(F),r("calendar"),u(null),x(null)},se=F=>{X(F)&&(u(F),x(null))},ie=F=>{y({...p,[F.target.name]:F.target.value})},re=F=>{F.preventDefault(),setTimeout(()=>{r("success")},1e3)},ce="w-full px-4 py-3 rounded-xl border border-stone-600 bg-stone-800 focus:border-rust-500 focus:ring-2 focus:ring-rust-500/50 outline-none text-lg font-semibold text-white placeholder:font-normal placeholder:text-stone-500 transition-all";return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsx("div",{className:"bg-stone-950 text-white py-16 md:py-24 text-center",children:l.jsxs("div",{className:"container mx-auto px-6",children:[l.jsx("span",{className:"text-rust-500 font-bold tracking-widest uppercase text-xs mb-4 block",children:"Tic Tr & Workshop"}),l.jsx("h1",{className:"text-4xl md:text-6xl font-light mb-6",children:"Tri Nghim Vn Ha Tr"}),l.jsx("p",{className:"text-stone-400 text-lg font-light max-w-2xl mx-auto",children:"Kt ni vi chnh mnh v nhng ngi bn ng iu qua nhng bui workshop tr o m cng ti ChuLeaf."})]})}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-16",children:l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:D5.map(F=>l.jsxs("div",{className:"group flex flex-col bg-white rounded-3xl overflow-hidden border border-stone-100 shadow-lg hover:shadow-2xl transition-all duration-500",children:[l.jsxs("div",{className:"relative h-[300px] overflow-hidden",children:[l.jsx("img",{src:F.image,alt:F.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"}),l.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-stone-900 uppercase tracking-wider",children:F.level})]}),l.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-stone-500 mb-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fr,{size:16})," ",F.duration]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(qm,{size:16})," ChuLeaf Tea House"]})]}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-4 leading-tight group-hover:text-rust-600 transition-colors",children:F.title}),l.jsx("p",{className:"text-stone-600 font-light mb-8 leading-relaxed flex-grow",children:F.description}),l.jsxs("div",{className:"flex items-center justify-between mt-auto pt-6 border-t border-stone-100",children:[l.jsx("span",{className:"text-xl font-bold text-stone-900",children:F.price}),l.jsx(Te,{onClick:()=>P(F),children:"ng k ngay"})]})]})]},F.id))})}),i&&l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[l.jsx("div",{className:"absolute inset-0 bg-stone-900/80 backdrop-blur-sm",onClick:()=>e(null)}),l.jsxs("div",{className:"relative bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh] animate-fade-in-up",children:[l.jsxs("div",{className:"bg-stone-50 px-8 py-6 border-b border-stone-100 flex justify-between items-start",children:[l.jsxs("div",{children:[n==="success"?l.jsx("span",{className:"text-green-600 font-bold uppercase text-xs tracking-wider",children:"Hon tt"}):l.jsx("span",{className:"text-rust-500 font-bold uppercase text-xs tracking-wider",children:n==="calendar"?"Bc 1/2: Chn lch":"Bc 2/2: Thng tin"}),l.jsx("h3",{className:"font-bold text-xl text-stone-900 mt-1 line-clamp-1",children:i.title})]}),l.jsx("button",{onClick:()=>e(null),className:"text-stone-400 hover:text-stone-900",children:l.jsx(zv,{className:"rotate-90"})})]}),l.jsxs("div",{className:"p-8 overflow-y-auto",children:[n==="calendar"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h4",{className:"font-bold text-stone-900",children:["Thng ",N,"/",S]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("span",{className:"flex items-center text-xs text-stone-500",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-white border border-stone-300 mr-1"})," Trng"]}),l.jsxs("span",{className:"flex items-center text-xs text-stone-500",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-rust-500 mr-1"})," Chn"]})]})]}),l.jsx("div",{className:"grid grid-cols-7 gap-2 text-center mb-2",children:["CN","T2","T3","T4","T5","T6","T7"].map(F=>l.jsx("span",{className:"text-xs font-bold text-stone-400 uppercase",children:F},F))}),l.jsx("div",{className:"grid grid-cols-7 gap-2",children:V.map((F,Q)=>{if(!F)return l.jsx("div",{},Q);const _=X(F),T=c===F;return l.jsx("button",{disabled:!_,onClick:()=>se(F),className:`
                                                        h-10 rounded-lg text-sm font-medium transition-all
                                                        ${T?"bg-rust-500 text-white shadow-md transform scale-105":_?"bg-stone-100 text-stone-900 hover:bg-rust-100 hover:text-rust-600":"bg-white text-stone-300 cursor-not-allowed"}
                                                    `,children:F},Q)})})]}),c&&l.jsxs("div",{className:"animate-fade-in-up",children:[l.jsxs("h4",{className:"font-bold text-stone-900 mb-3",children:["Khung gi ngy ",c,"/",N]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:M5.map(F=>l.jsxs("button",{onClick:()=>x(F.time),className:`
                                                        border-2 rounded-xl p-4 text-left transition-all flex justify-between items-center
                                                        ${f===F.time?"border-rust-500 bg-rust-50":"border-stone-200 hover:border-stone-300"}
                                                    `,children:[l.jsxs("div",{children:[l.jsx("div",{className:`font-bold ${f===F.time?"text-rust-700":"text-stone-900"}`,children:F.time}),l.jsxs("div",{className:"text-xs text-stone-500",children:["Cn ",F.seats," ch"]})]}),f===F.time&&l.jsx(nl,{size:20,className:"text-rust-500"})]},F.id))}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl mt-4 flex gap-3 items-start",children:[l.jsx(K2,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:"Lu : Bui workshop s bao gm ton b dng c v nguyn liu pha ch. Bn khng cn chun b g thm."})]})]}),l.jsx("div",{className:"pt-4 flex justify-end",children:l.jsx(Te,{disabled:!c||!f,onClick:()=>r("info"),size:"lg",className:"w-full sm:w-auto",children:"Tip tc"})})]}),n==="info"&&l.jsxs("form",{onSubmit:re,className:"space-y-6 animate-fade-in-up",children:[l.jsxs("div",{className:"flex gap-2 mb-2 text-sm text-stone-500 bg-stone-50 p-3 rounded-lg",children:[l.jsx(w2,{size:16})," ",c,"/",N,"/",S,l.jsx("span",{className:"mx-2",children:"|"}),l.jsx(Fr,{size:16})," ",f]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"font-bold text-stone-800 flex items-center gap-2",children:[l.jsx(ec,{size:16})," H tn"]}),l.jsx("input",{required:!0,name:"name",value:p.name,onChange:ie,className:ce,placeholder:"Nguyn Vn A"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"font-bold text-stone-800 flex items-center gap-2",children:[l.jsx(Rh,{size:16})," S in thoi"]}),l.jsx("input",{required:!0,name:"phone",value:p.phone,onChange:ie,className:ce,placeholder:"0912 345 678"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"font-bold text-stone-800 flex items-center gap-2",children:[l.jsx(Ch,{size:16})," Email"]}),l.jsx("input",{required:!0,type:"email",name:"email",value:p.email,onChange:ie,className:ce,placeholder:"email@example.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"font-bold text-stone-800",children:"Ghi ch thm (D ng, yu cu...)"}),l.jsx("textarea",{rows:3,name:"note",value:p.note,onChange:ie,className:ce,placeholder:"VD: Ti b d ng phn hoa..."})]}),l.jsxs("div",{className:"pt-4 flex justify-between items-center gap-4",children:[l.jsx("button",{type:"button",onClick:()=>r("calendar"),className:"text-stone-500 font-bold hover:text-stone-900",children:"Quay li"}),l.jsx(Te,{type:"submit",size:"lg",className:"flex-1 sm:flex-none",children:"Xc nhn t lch"})]})]}),n==="success"&&l.jsxs("div",{className:"text-center py-12 animate-fade-in-up",children:[l.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(nl,{size:48})}),l.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-4",children:"ng k thnh cng!"}),l.jsxs("p",{className:"text-stone-600 mb-8 text-lg",children:["Cm n ",l.jsx("strong",{children:p.name}),". Chng ti  gi email xc nhn n ",l.jsx("strong",{children:p.email}),"."]}),l.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 max-w-md mx-auto mb-10 text-left space-y-3 border border-stone-200",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-stone-500",children:"Workshop:"}),l.jsx("span",{className:"font-bold text-stone-900 text-right",children:i.title})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-stone-500",children:"Thi gian:"}),l.jsxs("span",{className:"font-bold text-stone-900",children:[f,", ",c,"/",N,"/",S]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-stone-500",children:"a im:"}),l.jsx("span",{className:"font-bold text-stone-900",children:"ChuLeaf Tea House"})]})]}),l.jsx(Te,{onClick:()=>e(null),children:"ng ca s"})]})]})]})]})]})},V5=()=>{const[i,e]=Y.useState(!1),[n,r]=Y.useState(!1),[c,u]=Y.useState({name:"",phone:"",email:"",guestCount:"",eventType:"personal",date:"",services:{teaMaster:!1,sweets:!1,workshop:!1,decor:!1},note:""});Y.useEffect(()=>{window.scrollTo(0,0)},[]);const f=S=>{const{name:I,value:z}=S.target;u(V=>({...V,[I]:z}))},x=S=>{const{name:I,checked:z}=S.target;u(V=>({...V,services:{...V.services,[I]:z}}))},p=S=>{S.preventDefault(),e(!0),setTimeout(()=>{e(!1),r(!0)},1500)},y="w-full px-4 py-3 rounded-xl bg-stone-800 border border-stone-600 focus:border-rust-500 focus:ring-2 focus:ring-rust-500/50 outline-none text-lg font-medium text-white placeholder:text-stone-500 transition-all",N="block text-sm font-bold text-stone-700 mb-2";return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsxs("div",{className:"relative w-full h-[60vh] min-h-[500px] bg-stone-900 overflow-hidden flex items-center justify-center",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1529690250154-362033f630a4?q=80&w=2000&auto=format&fit=crop",alt:"Tea Party Aesthetics",className:"absolute inset-0 w-full h-full object-cover opacity-60"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-950 via-transparent to-transparent"}),l.jsxs("div",{className:"relative z-10 text-center max-w-4xl px-6 animate-fade-in-up",children:[l.jsx("span",{className:"text-rust-400 font-bold tracking-[0.2em] uppercase text-sm mb-6 block",children:"Dch V S Kin ng Cp"}),l.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-serif font-bold text-white mb-8 leading-tight shadow-sm",children:["Ngh Thut Tic Tr ",l.jsx("br",{}),l.jsx("span",{className:"text-rust-500",children:"ChuLeaf Co."})]}),l.jsx("p",{className:"text-stone-200 text-lg md:text-xl font-light max-w-2xl mx-auto leading-relaxed",children:"Mang khng gian tr o tinh t, tnh ti v sang trng n s kin ca bn. Mt tri nghim vn ha c bn  kt ni v s chia."}),l.jsx("div",{className:"mt-10",children:l.jsx(Te,{onClick:()=>{var S;return(S=document.getElementById("booking-form"))==null?void 0:S.scrollIntoView({behavior:"smooth"})},size:"lg",className:"px-10 py-4 text-lg shadow-xl shadow-rust-500/20",children:"t tic ngay"})})]})]}),l.jsx("section",{className:"py-20 lg:py-28 bg-white",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-stone-900 mb-4",children:"Khng gian tr cho mi khonh khc"}),l.jsx("p",{className:"text-stone-500 font-light",children:"Chng ti thit k tri nghim ph hp ring cho tng tnh cht s kin."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"group p-8 rounded-3xl bg-stone-50 border border-stone-100 hover:shadow-xl transition-all duration-500 hover:-translate-y-2",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:scale-110 transition-transform",children:l.jsx(Hv,{size:28,className:"text-rust-500"})}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-4",children:"Tic C Nhn"}),l.jsx("p",{className:"text-stone-600 font-light leading-relaxed",children:"Sinh nht, hp mt gia nh hay nhng bui tr chiu thn mt. To nn k nim m cng v ng nh bn ngi thn yu."})]}),l.jsxs("div",{className:"group p-8 rounded-3xl bg-stone-50 border border-stone-100 hover:shadow-xl transition-all duration-500 hover:-translate-y-2",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:scale-110 transition-transform",children:l.jsx(DT,{size:28,className:"text-rust-500"})}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-4",children:"Tic Doanh Nghip"}),l.jsx("p",{className:"text-stone-600 font-light leading-relaxed",children:"Tip khch VIP, hi ngh hay tic cui nm. Nng tm hnh nh doanh nghip vi s tinh t v chuyn nghip."})]}),l.jsxs("div",{className:"group p-8 rounded-3xl bg-stone-50 border border-stone-100 hover:shadow-xl transition-all duration-500 hover:-translate-y-2",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:scale-110 transition-transform",children:l.jsx(oy,{size:28,className:"text-rust-500"})}),l.jsx("h3",{className:"text-2xl font-bold text-stone-900 mb-4",children:"S Kin Vn Ha"}),l.jsx("p",{className:"text-stone-600 font-light leading-relaxed",children:"Trin lm ngh thut, ra mt sch hay cc s kin mang tnh truyn thng. im nhn vn ha c o."})]})]})]})}),l.jsxs("section",{className:"py-20 bg-stone-900 text-white overflow-hidden relative",children:[l.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-rust-900/20 blur-3xl rounded-full"}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 relative z-10",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-rust-400 font-bold tracking-widest uppercase text-xs mb-4 block",children:"Dch v trn gi"}),l.jsxs("h2",{className:"text-4xl md:text-5xl font-serif font-bold mb-8 leading-tight",children:["S Tinh T Trong ",l.jsx("br",{})," Tng Chi Tit"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex gap-5",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-rust-400 flex-shrink-0",children:l.jsx(ec,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold mb-2",children:"Tr Nhn Chuyn Nghip"}),l.jsx("p",{className:"text-stone-400 font-light",children:"i ng ngh nhn pha tr am hiu, phc v chun mc tr o."})]})]}),l.jsxs("div",{className:"flex gap-5",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-rust-400 flex-shrink-0",children:l.jsx(Uv,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold mb-2",children:"B Su Tp Tr Qu"}),l.jsx("p",{className:"text-stone-400 font-light",children:"Nhng phm tr Shan Tuyt c th,  Long thng hng c tuyn chn k lng."})]})]}),l.jsxs("div",{className:"flex gap-5",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-rust-400 flex-shrink-0",children:l.jsx(oy,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold mb-2",children:"Bnh Ngt & Trang Tr"}),l.jsx("p",{className:"text-stone-400 font-light",children:"Bnh u xanh, Wagashi tinh xo cng khng gian by tr hoa v trm hng."})]})]}),l.jsxs("div",{className:"flex gap-5",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-rust-400 flex-shrink-0",children:l.jsx(rT,{size:24})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold mb-2",children:"Biu Din & Workshop"}),l.jsx("p",{className:"text-stone-400 font-light",children:"Mn biu din pha tr ngh thut hoc workshop hng dn ngn cho khch tham d."})]})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-[4/5] rounded-[2.5rem] overflow-hidden border-4 border-stone-800 shadow-2xl",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=1000&auto=format&fit=crop",alt:"Tea Ceremony",className:"w-full h-full object-cover opacity-90"})}),l.jsxs("div",{className:"absolute bottom-10 -left-6 bg-rust-600 p-6 rounded-2xl shadow-xl text-white max-w-[200px]",children:[l.jsx("p",{className:"font-serif italic text-2xl font-bold mb-1",children:'"c bn"'}),l.jsx("p",{className:"text-xs opacity-90",children:"Mi ba tic l mt tc phm ngh thut ring bit."})]})]})]})})]}),l.jsx("section",{id:"booking-form",className:"py-20 lg:py-32 bg-stone-50",children:l.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-24",children:[l.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-stone-900 mb-4",children:"Lin h t tic"}),l.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:" li thng tin, chuyn vin s kin ca ChuLeaf s lin h t vn kch bn v bo gi chi tit trong vng 24h."})]}),l.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-stone-100 space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-rust-50 flex items-center justify-center text-rust-600 flex-shrink-0",children:l.jsx(Rh,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:"Hotline T Vn"}),l.jsx("p",{className:"text-rust-600 font-bold text-xl",children:"0987 654 321"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-rust-50 flex items-center justify-center text-rust-600 flex-shrink-0",children:l.jsx(Ch,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:"Email Hp Tc"}),l.jsx("p",{className:"text-stone-600",children:"event@chuleaf.co"})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-rust-50 flex items-center justify-center text-rust-600 flex-shrink-0",children:l.jsx(qm,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-stone-900",children:"Vn Phng"}),l.jsx("p",{className:"text-stone-600 text-sm",children:"45 L Quc S, Hon Kim, H Ni"})]})]})]})]}),l.jsx("div",{className:"lg:col-span-8",children:l.jsx("div",{className:"bg-white rounded-[2rem] p-8 md:p-10 shadow-xl shadow-stone-200/50 border border-stone-100",children:n?l.jsxs("div",{className:"text-center py-20 animate-fade-in-up",children:[l.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100",children:l.jsx(nl,{size:48})}),l.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-4",children:"ng k thnh cng!"}),l.jsxs("p",{className:"text-stone-600 font-light text-lg mb-8 max-w-md mx-auto",children:["Cm n bn  quan tm. ChuLeaf s lin h vi bn qua s in thoi ",l.jsx("strong",{children:c.phone})," sm nht  t vn chi tit."]}),l.jsx(Te,{onClick:()=>r(!1),variant:"outline",children:"Gi yu cu khc"})]}):l.jsxs("form",{onSubmit:p,className:"space-y-8",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-6 flex items-center gap-2 border-b border-stone-100 pb-4",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-stone-900 text-white flex items-center justify-center text-sm",children:"1"}),"Thng tin lin h"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:N,children:"H v Tn"}),l.jsx("input",{required:!0,name:"name",value:c.name,onChange:f,className:y,placeholder:"Nguyn Vn A"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:N,children:"S in thoi"}),l.jsx("input",{required:!0,name:"phone",value:c.phone,onChange:f,className:y,placeholder:"0912 345 678"})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:N,children:"Email"}),l.jsx("input",{required:!0,type:"email",name:"email",value:c.email,onChange:f,className:y,placeholder:"email@example.com"})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-6 flex items-center gap-2 border-b border-stone-100 pb-4",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-stone-900 text-white flex items-center justify-center text-sm",children:"2"}),"Thng tin s kin"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:N,children:"Loi hnh tic"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{name:"eventType",value:c.eventType,onChange:f,className:`${y} appearance-none cursor-pointer`,children:[l.jsx("option",{value:"personal",children:"Tic C Nhn (Sinh nht, Gia nh)"}),l.jsx("option",{value:"corporate",children:"Tic Doanh Nghip"}),l.jsx("option",{value:"event",children:"S Kin Vn Ha / Khc"})]}),l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 pointer-events-none",children:""})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:N,children:"S lng khch (D kin)"}),l.jsx("input",{type:"number",name:"guestCount",value:c.guestCount,onChange:f,className:y,placeholder:"VD: 20"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:N,children:"Ngy d kin"}),l.jsx("input",{type:"date",name:"date",value:c.date,onChange:f,className:y})]})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-6 flex items-center gap-2 border-b border-stone-100 pb-4",children:[l.jsx("span",{className:"w-8 h-8 rounded-full bg-stone-900 text-white flex items-center justify-center text-sm",children:"3"}),"Yu cu chi tit"]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[l.jsxs("label",{className:"flex items-center p-4 rounded-xl border border-stone-200 cursor-pointer hover:border-rust-500 hover:bg-rust-50/50 transition-all",children:[l.jsx("input",{type:"checkbox",name:"teaMaster",checked:c.services.teaMaster,onChange:x,className:"w-5 h-5 text-rust-500 rounded focus:ring-rust-500 border-gray-300 mr-3"}),l.jsx("span",{className:"font-medium text-stone-800",children:"Cn Tr Nhn phc v"})]}),l.jsxs("label",{className:"flex items-center p-4 rounded-xl border border-stone-200 cursor-pointer hover:border-rust-500 hover:bg-rust-50/50 transition-all",children:[l.jsx("input",{type:"checkbox",name:"sweets",checked:c.services.sweets,onChange:x,className:"w-5 h-5 text-rust-500 rounded focus:ring-rust-500 border-gray-300 mr-3"}),l.jsx("span",{className:"font-medium text-stone-800",children:"Bnh ngt / Teabreak"})]}),l.jsxs("label",{className:"flex items-center p-4 rounded-xl border border-stone-200 cursor-pointer hover:border-rust-500 hover:bg-rust-50/50 transition-all",children:[l.jsx("input",{type:"checkbox",name:"workshop",checked:c.services.workshop,onChange:x,className:"w-5 h-5 text-rust-500 rounded focus:ring-rust-500 border-gray-300 mr-3"}),l.jsx("span",{className:"font-medium text-stone-800",children:"Workshop / Hng dn"})]}),l.jsxs("label",{className:"flex items-center p-4 rounded-xl border border-stone-200 cursor-pointer hover:border-rust-500 hover:bg-rust-50/50 transition-all",children:[l.jsx("input",{type:"checkbox",name:"decor",checked:c.services.decor,onChange:x,className:"w-5 h-5 text-rust-500 rounded focus:ring-rust-500 border-gray-300 mr-3"}),l.jsx("span",{className:"font-medium text-stone-800",children:"Trang tr khng gian"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:N,children:"Ghi ch thm"}),l.jsx("textarea",{rows:4,name:"note",value:c.note,onChange:f,className:y,placeholder:"Chia s thm v  tng hoc yu cu c bit ca bn..."})]})]}),l.jsx("div",{className:"pt-4",children:l.jsx(Te,{type:"submit",fullWidth:!0,size:"lg",disabled:i,className:"text-lg font-bold py-4",children:i?l.jsxs(l.Fragment,{children:[l.jsx(sl,{className:"animate-spin mr-2"})," ang gi..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Hm,{className:"mr-2"})," Gi yu cu t tic"]})})})]})})})]})})})]})},L5=[{id:"basic",title:"Kha Nhp Mn: 3 Bui Gii Thiu",duration:"3 Bui (90 pht/bui)",price:"Lin h",description:"Lm quen vi th gii tr o. Hiu v dng c, nc v phn bit cc loi tr c bn. Ph hp cho ngi mi bt u.",image:"https://images.unsplash.com/photo-1576092768241-dec231879fc3?q=80&w=800&auto=format&fit=crop",sessions:[{title:"Bui 1: Nhp Mn Tr o",desc:"Gii thiu v Bn tr, Tr C c bn, Cc quy tc ng x trn bn tr."},{title:"Bui 2: Nc & Hng V",desc:"Vai tr ca Nc & Cc yu t nh hng trc tip n hng v chn tr."},{title:"Bui 3: Phn Loi Tr",desc:"Tng quan v Lc tr (Khng ln men),  Long (Bn ln men) v Hng tr/Ph nh (Ln men)."}]},{id:"advanced",title:"Kha Chuyn Su: 10 Bui Ngh Nhn",duration:"10 Bui (120 pht/bui)",price:"Lin h",description:"Hnh trnh tr thnh ngi am hiu tr thc th. i su vo tng dng tr, k thut pha ch nng cao v vn ha thng tr.",image:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?q=80&w=800&auto=format&fit=crop",sessions:[{title:"Bui 1: Khng Gian & Tm Th",desc:"Thit lp bn tr, Tr c chuyn su, Quy tc khng gian tr."},{title:"Bui 2: Khoa Hc V Nc",desc:"Phn tch nc, nhit  v tc ng ha hc n l tr."},{title:"Bui 3: Lc Tr (Green Tea)",desc:"K thut pha tr xanh Thi Nguyn, tr xanh Nht Bn."},{title:"Bui 4: Hong Tr (Yellow Tea)",desc:"Khm ph phm tr tin vua v k thut ."},{title:"Bui 5:  Long (Oolong)",desc:"nh thc hng hng hoa v v ngt hu ca tr bn ln men."},{title:"Bui 6: Ph Nh (Pu-erh)",desc:"Tr bnh, tr lu nin v k thut tch tr."},{title:"Bui 7: Bch Tr (White Tea)",desc:"S tinh t ca bp non v cch pha nhit  thp."},{title:"Bui 8: Hng Tr (Black Tea)",desc:"V ngt mt ong v sc nc  thm."},{title:"Bui 9: Tr p Hng",desc:"Ngh thut p hng Sen, Li, Qu t nhin."},{title:"Bui 10: Vn Ha Tr o",desc:"Tng kt, thc hnh pha tr mi khch v m o."}]}],P5=()=>{const[i,e]=Y.useState("basic"),[n,r]=Y.useState("basic"),[c,u]=Y.useState(!1),[f,x]=Y.useState(!1),[p,y]=Y.useState({name:"",phone:"",email:"",note:""});Y.useEffect(()=>{window.scrollTo(0,0)},[]);const N=P=>{e(i===P?null:P)},S=P=>{var se;r(P),(se=document.getElementById("registration-form"))==null||se.scrollIntoView({behavior:"smooth"})},I=P=>{y({...p,[P.target.name]:P.target.value})},z=P=>{P.preventDefault(),u(!0),setTimeout(()=>{u(!1),x(!0)},1500)},V="w-full px-4 py-3 rounded-xl bg-stone-800 border border-stone-600 focus:border-rust-500 focus:ring-2 focus:ring-rust-500/50 outline-none text-lg font-medium text-white placeholder:text-stone-500 transition-all",X="block text-sm font-bold text-stone-700 mb-2";return l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsxs("div",{className:"relative w-full h-[50vh] min-h-[450px] bg-stone-900 overflow-hidden flex items-center justify-center",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?q=80&w=2000&auto=format&fit=crop",alt:"Online Learning Tea",className:"absolute inset-0 w-full h-full object-cover opacity-50"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-950 via-transparent to-transparent"}),l.jsxs("div",{className:"relative z-10 text-center max-w-3xl px-6 animate-fade-in-up",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 bg-rust-600/90 backdrop-blur text-white px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider mb-6 shadow-lg",children:[l.jsx(sT,{size:14})," E-Learning Platform"]}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-serif font-bold text-white mb-6 leading-tight",children:["Kt Ni Vn Ha Tr ",l.jsx("br",{}),l.jsx("span",{className:"text-rust-400",children:"T Xa"})]}),l.jsx("p",{className:"text-stone-300 text-lg md:text-xl font-light max-w-2xl mx-auto leading-relaxed",children:"Hc cch pha tr v thng tr ng iu ngay ti nh. Gio trnh c thit k bi bn bi cc ngh nhn hng u ca ChuLeaf."})]})]}),l.jsx("section",{className:"py-20 bg-stone-50",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-4",children:"L trnh hc tp"}),l.jsx("p",{className:"text-stone-500 font-light",children:"Chn kha hc ph hp vi nhu cu v thi gian ca bn."})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:L5.map(P=>l.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-xl shadow-stone-200/50 border border-stone-100 flex flex-col h-full transition-transform hover:-translate-y-1 duration-300",children:[l.jsxs("div",{className:"relative h-56 overflow-hidden",children:[l.jsx("img",{src:P.image,alt:P.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),l.jsxs("div",{className:"absolute bottom-4 left-6 text-white",children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium mb-1",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Fr,{size:14})," ",P.duration]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(cy,{size:14})," Online qua Zoom"]})]}),l.jsx("h3",{className:"text-2xl font-bold",children:P.title})]})]}),l.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[l.jsx("p",{className:"text-stone-600 font-light mb-6 leading-relaxed",children:P.description}),l.jsxs("div",{className:"mb-8 flex-1",children:[l.jsxs("button",{onClick:()=>N(P.id),className:"flex items-center justify-between w-full text-left font-bold text-stone-900 mb-4 hover:text-rust-600 transition-colors",children:[l.jsxs("span",{children:["Ni dung chi tit (",P.sessions.length," bui)"]}),i===P.id?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})]}),l.jsx("div",{className:`space-y-3 overflow-hidden transition-all duration-500 ${i===P.id?"max-h-[600px] opacity-100":"max-h-0 opacity-0"}`,children:P.sessions.map((se,ie)=>l.jsxs("div",{className:"flex gap-3 text-sm",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-rust-50 text-rust-600 flex items-center justify-center font-bold flex-shrink-0 text-xs mt-0.5",children:ie+1}),l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-stone-800 block",children:se.title}),l.jsx("span",{className:"text-stone-500 font-light text-xs",children:se.desc})]})]},ie))})]}),l.jsxs("div",{className:"pt-6 border-t border-stone-100 flex items-center justify-between mt-auto",children:[l.jsxs("div",{className:"text-stone-500 font-medium text-sm",children:["Hc ph: ",l.jsx("span",{className:"text-rust-600 font-bold text-lg ml-1",children:P.price})]}),l.jsx(Te,{onClick:()=>S(P.id),children:"ng k hc ngay"})]})]})]},P.id))})]})}),l.jsx("section",{id:"registration-form",className:"py-20 lg:py-32 bg-white",children:l.jsx("div",{className:"container mx-auto px-6 lg:px-12",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{className:"bg-stone-50 rounded-[2.5rem] p-8 md:p-12 border border-stone-100 shadow-lg",children:f?l.jsxs("div",{className:"text-center py-12 animate-fade-in-up",children:[l.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100",children:l.jsx(nl,{size:48})}),l.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-4",children:"ng k thnh cng!"}),l.jsxs("p",{className:"text-stone-600 font-light text-lg mb-8 max-w-md mx-auto",children:["Cm n ",l.jsx("strong",{children:p.name}),". B phn tuyn sinh s lin h vi bn qua s ",l.jsx("strong",{children:p.phone}),"  t vn lch hc v hc ph chi tit."]}),l.jsx(Te,{onClick:()=>x(!1),variant:"outline",children:"ng k thm"})]}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-6",children:"ng k t vn"}),l.jsx("p",{className:"text-stone-500 font-light mb-8",children:"in thng tin bn di  nhn lch khai ging v u i hc ph mi nht."}),l.jsxs("form",{onSubmit:z,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:X,children:"H v Tn"}),l.jsxs("div",{className:"relative",children:[l.jsx(ec,{className:"absolute top-3.5 left-4 text-stone-400",size:20}),l.jsx("input",{required:!0,name:"name",value:p.name,onChange:I,className:`${V} pl-12`,placeholder:"Nguyn Vn A"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:X,children:"S in thoi"}),l.jsxs("div",{className:"relative",children:[l.jsx(Rh,{className:"absolute top-3.5 left-4 text-stone-400",size:20}),l.jsx("input",{required:!0,name:"phone",value:p.phone,onChange:I,className:`${V} pl-12`,placeholder:"0912 345 678"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:X,children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ch,{className:"absolute top-3.5 left-4 text-stone-400",size:20}),l.jsx("input",{required:!0,type:"email",name:"email",value:p.email,onChange:I,className:`${V} pl-12`,placeholder:"email@example.com"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:X,children:"Kha hc quan tm"}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{name:"course",value:n,onChange:P=>r(P.target.value),className:`${V} appearance-none cursor-pointer`,children:[l.jsx("option",{value:"basic",children:"Kha Nhp Mn (3 Bui)"}),l.jsx("option",{value:"advanced",children:"Kha Chuyn Su (10 Bui)"})]}),l.jsx(sn,{className:"absolute top-3.5 right-4 text-stone-400 pointer-events-none",size:20})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:X,children:"Mong mun / Thi gian hc"}),l.jsx("textarea",{rows:3,name:"note",value:p.note,onChange:I,className:V,placeholder:"VD: Ti rnh vo ti th 3-5-7..."})]}),l.jsx(Te,{type:"submit",fullWidth:!0,size:"lg",disabled:c,className:"mt-4 py-4 text-lg font-bold shadow-xl shadow-rust-500/20",children:c?l.jsxs(l.Fragment,{children:[l.jsx(sl,{className:"animate-spin mr-2"})," ang gi..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Hm,{className:"mr-2"})," Gi ng k"]})})]})]}),l.jsxs("div",{className:"hidden lg:flex flex-col justify-center relative",children:[l.jsx("div",{className:"absolute inset-0 bg-rust-50 rounded-3xl -rotate-3 transform scale-95 z-0"}),l.jsxs("div",{className:"relative z-10 bg-stone-900 rounded-3xl p-8 text-white shadow-2xl",children:[l.jsx("h3",{className:"text-2xl font-serif font-bold mb-6 text-rust-400",children:"Quyn li hc vin"}),l.jsxs("ul",{className:"space-y-6",children:[l.jsxs("li",{className:"flex gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center text-rust-400 flex-shrink-0 border border-stone-700",children:l.jsx(cy,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold mb-1",children:"Hc trc tuyn (Zoom)"}),l.jsx("p",{className:"text-stone-400 text-sm font-light",children:"Tng tc trc tip vi ging vin, xem li video bi ging trn i."})]})]}),l.jsxs("li",{className:"flex gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center text-rust-400 flex-shrink-0 border border-stone-700",children:l.jsx(sh,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold mb-1",children:"Ti liu c quyn"}),l.jsx("p",{className:"text-stone-400 text-sm font-light",children:"Gio trnh PDF v Ebook vn ha tr c bin son ring."})]})]}),l.jsxs("li",{className:"flex gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-800 flex items-center justify-center text-rust-400 flex-shrink-0 border border-stone-700",children:l.jsx(nl,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold mb-1",children:"Chng nhn hon thnh"}),l.jsx("p",{className:"text-stone-400 text-sm font-light",children:"Nhn chng nhn online t ChuLeaf Co. sau khi kt thc kha hc."})]})]})]}),l.jsxs("div",{className:"mt-10 pt-8 border-t border-stone-800 text-center",children:[l.jsx("p",{className:"text-stone-400 text-sm mb-2",children:"Cn h tr gp?"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:"0987 654 321"})]})]})]})]})})})})})]})},E_=Y.createContext(void 0),z5=({children:i})=>{const[e,n]=Y.useState(null),[r,c]=Y.useState(!0);Y.useEffect(()=>{const f=n4(Jo,x=>{n(x),c(!1)});return()=>f()},[]);const u=async()=>{try{await s4(Jo),window.location.hash="#login"}catch(f){console.error("Error signing out:",f),alert(" xy ra li khi ng xut. Vui lng th li.")}};return l.jsx(E_.Provider,{value:{user:e,isLoading:r,signOut:u},children:i})},U5=()=>{const i=Y.useContext(E_);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},gm=["chuthao112@gmail.com","laylachu112@gmail.com"],q5=()=>{const{user:i,isLoading:e}=U5(),[n,r]=Y.useState({name:"",price:"",description:"",image:"",imageHover:"",images:[],sku:"",ingredients:"",material:"",capacity:"",categoryIds:[],tag:"",format:""}),[c,u]=Y.useState(""),[f,x]=Y.useState(!1),[p,y]=Y.useState(!1),[N,S]=Y.useState(null),[I,z]=Y.useState(!0);Y.useEffect(()=>{if(window.scrollTo(0,0),!e){if(z(!1),!i){alert("Vui lng ng nhp  truy cp trang qun tr."),window.location.hash="#login";return}if(!i.email||!gm.includes(i.email)){alert("Bn khng c quyn truy cp trang ny."),window.location.hash="#";return}}},[i,e]);const V=Q=>{const{name:_,value:T}=Q.target;r(A=>({...A,[_]:T}))},X=Q=>{r(_=>({..._,categoryIds:_.categoryIds.includes(Q)?_.categoryIds.filter(T=>T!==Q):[..._.categoryIds,Q]}))},P=()=>{c.trim()&&(r(Q=>({...Q,images:[...Q.images,c.trim()]})),u(""))},se=Q=>{r(_=>({..._,images:_.images.filter((T,A)=>A!==Q)}))},ie=async Q=>{if(Q.preventDefault(),!i||!i.email||!gm.includes(i.email)){S("Bn khng c quyn thm sn phm.");return}x(!0),y(!1),S(null);try{const _=n.price.includes("")?n.price:`${parseInt(n.price).toLocaleString("vi-VN")} `,T={name:n.name,price:_,image:n.image,createdAt:st.fromDate(new Date),updatedAt:st.fromDate(new Date)};n.description&&(T.description=n.description),n.imageHover&&(T.imageHover=n.imageHover);const A=[n.image];n.imageHover&&A.push(n.imageHover),n.images.length>0&&A.push(...n.images),A.length>1&&(T.images=A),n.sku&&(T.sku=n.sku),n.ingredients&&(T.ingredients=n.ingredients),n.material&&(T.material=n.material),n.capacity&&(T.capacity=n.capacity),n.categoryIds.length>0&&(T.categoryIds=n.categoryIds),n.tag&&(T.tag=n.tag),n.format&&(T.format=n.format),await XA(k1(Rg,"products"),T),y(!0),S(null),setTimeout(()=>{r({name:"",price:"",description:"",image:"",imageHover:"",images:[],sku:"",ingredients:"",material:"",capacity:"",categoryIds:[],tag:"",format:""}),u(""),y(!1)},3e3)}catch(_){console.error("Li khi lu sn phm:",_);const T=(_==null?void 0:_.message)||" xy ra li khi lu sn phm. Vui lng th li.";S(T),y(!1)}finally{x(!1)}},re="w-full px-4 py-3 rounded-lg border border-stone-300 focus:border-stone-900 focus:ring-1 focus:ring-stone-900 outline-none transition-all placeholder:font-light bg-white text-stone-900",ce="block text-sm font-bold text-stone-800 mb-2",F=(()=>{const Q={},_=[];return Object.entries(Bo).forEach(([T,A])=>{if(A.parent){const j=A.parent.href.replace("#","");Q[j]||(Q[j]=[]),Q[j].push({id:T,label:A.title,parent:j})}else _.push({id:T,label:A.title})}),{mainCategories:_,groups:Q}})();return I||e?l.jsx("div",{className:"bg-stone-50 min-h-screen pt-[80px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(sl,{className:"w-12 h-12 text-rust-500 animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-stone-600",children:"ang kim tra quyn truy cp..."})]})}):!i||!i.email||!gm.includes(i.email)?null:l.jsxs("div",{className:"bg-stone-50 min-h-screen pt-[80px]",children:[l.jsx("div",{className:"bg-stone-950 py-12",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12",children:[l.jsxs("a",{href:"#",className:"inline-flex items-center gap-2 text-stone-400 hover:text-white mb-6 text-sm font-bold transition-colors",children:[l.jsx(dl,{size:16})," V trang ch"]}),l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Thm sn phm mi"}),l.jsx("p",{className:"text-stone-400 font-light mt-2",children:"Qun l sn phm ca ca hng"}),l.jsxs("p",{className:"text-stone-500 text-sm mt-1",children:["ng nhp vi t cch: ",i.email]})]})}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-12 max-w-3xl",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[p&&l.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3 animate-fade-in",children:[l.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(Tn,{size:20,className:"text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-green-800 mb-1",children:"Sn phm  c thm thnh cng!"}),l.jsx("p",{className:"text-sm text-green-600",children:"Sn phm  c lu vo Firestore v s hin th trn website."})]}),l.jsx("button",{onClick:()=>y(!1),className:"text-green-600 hover:text-green-800 transition-colors",children:l.jsx(si,{size:18})})]}),N&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 animate-fade-in",children:[l.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(ih,{size:20,className:"text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-red-800 mb-1",children:"Li khi lu sn phm"}),l.jsx("p",{className:"text-sm text-red-600",children:N}),l.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Vui lng kim tra li thng tin v th li."})]}),l.jsx("button",{onClick:()=>S(null),className:"text-red-600 hover:text-red-800 transition-colors",children:l.jsx(si,{size:18})})]}),l.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"name",className:ce,children:["Tn sn phm ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:n.name,onChange:V,placeholder:"Nhp tn sn phm",className:re})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"price",className:ce,children:["Gi ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"price",name:"price",required:!0,value:n.price,onChange:V,placeholder:"V d: 125000 hoc 125.000 ",className:re}),l.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Nhp s (s t ng format thnh 125.000 )"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:ce,children:"M t"}),l.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:V,placeholder:"Nhp m t sn phm",rows:4,className:re})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"image",className:ce,children:["Link nh sn phm ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",id:"image",name:"image",required:!0,value:n.image,onChange:V,placeholder:"/images/tra-moc-bg.png hoc URL y ",className:re}),l.jsx("p",{className:"text-xs text-stone-500 mt-1",children:" dng nh trong folder public/images, nhp: /images/tn-file.png"}),n.image&&l.jsx("div",{className:"mt-3",children:l.jsx("img",{src:n.image,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-stone-200",onError:Q=>{Q.target.style.display="none"}})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"imageHover",className:ce,children:"Link nh hover (ty chn)"}),l.jsx("input",{type:"text",id:"imageHover",name:"imageHover",value:n.imageHover,onChange:V,placeholder:"/images/tra-moc-hover.png hoc URL y ",className:re}),l.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"nh ny s hin th khi ngi dng hover vo sn phm. Nu khng c, s dng nh chnh."}),n.imageHover&&l.jsx("div",{className:"mt-3",children:l.jsx("img",{src:n.imageHover,alt:"Hover Preview",className:"w-32 h-32 object-cover rounded-lg border border-stone-200",onError:Q=>{Q.target.style.display="none"}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:ce,children:"Thm nh khc (cho gallery)"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:c,onChange:Q=>u(Q.target.value),placeholder:"/images/tra-moc-2.png",className:re,onKeyPress:Q=>{Q.key==="Enter"&&(Q.preventDefault(),P())}}),l.jsx(Te,{type:"button",onClick:P,className:"bg-stone-700 hover:bg-stone-600 text-white px-4",children:"Thm"})]}),n.images.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((Q,_)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:Q,alt:`Gallery ${_+1}`,className:"w-20 h-20 object-cover rounded-lg border border-stone-200",onError:T=>{T.target.style.display="none"}}),l.jsx("button",{type:"button",onClick:()=>se(_),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:""})]},_))}),l.jsx("p",{className:"text-xs text-stone-500 mt-1",children:'Thm nhiu nh  to gallery trn trang chi tit sn phm. Nhn Enter hoc nt "Thm"  thm nh.'})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"sku",className:ce,children:"M sn phm (SKU)"}),l.jsx("input",{type:"text",id:"sku",name:"sku",value:n.sku,onChange:V,placeholder:"VD: T125AE018",className:re})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"ingredients",className:ce,children:"Thnh phn (cho sn phm tr)"}),l.jsx("textarea",{id:"ingredients",name:"ingredients",value:n.ingredients,onChange:V,placeholder:"VD: Tr en, hoa sen, hoa cc...",rows:2,className:re})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"material",className:ce,children:"Cht liu & Bo qun (cho tr c)"}),l.jsx("textarea",{id:"material",name:"material",value:n.material,onChange:V,placeholder:"VD: Gm s. An ton vi l vi sng v my ra bt.",rows:2,className:re})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"capacity",className:ce,children:"Dung tch (cho tr c)"}),l.jsx("input",{type:"text",id:"capacity",name:"capacity",value:n.capacity,onChange:V,placeholder:"VD: 750ml",className:re})]}),l.jsxs("div",{children:[l.jsx("label",{className:ce,children:"Danh mc (c th chn nhiu)"}),l.jsxs("div",{className:"border border-stone-300 rounded-lg p-4 max-h-64 overflow-y-auto bg-white",children:[F.mainCategories.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-xs font-bold text-stone-500 uppercase tracking-widest mb-3",children:"Danh mc chnh"}),l.jsx("div",{className:"space-y-2",children:F.mainCategories.map(Q=>l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("input",{type:"checkbox",checked:n.categoryIds.includes(Q.id),onChange:()=>X(Q.id),className:"w-4 h-4 rounded border-stone-300 text-rust-500 focus:ring-rust-500 cursor-pointer"}),l.jsx("span",{className:"text-stone-700 text-sm group-hover:text-rust-600 transition-colors",children:Q.label})]},Q.id))})]}),Object.entries(F.groups).map(([Q,_])=>{var A;const T=((A=Bo[Q])==null?void 0:A.title)||Q;return l.jsxs("div",{className:"mb-4 last:mb-0",children:[l.jsx("h4",{className:"text-xs font-bold text-stone-500 uppercase tracking-widest mb-3",children:T}),l.jsx("div",{className:"space-y-2 pl-4",children:_.map(j=>l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[l.jsx("input",{type:"checkbox",checked:n.categoryIds.includes(j.id),onChange:()=>X(j.id),className:"w-4 h-4 rounded border-stone-300 text-rust-500 focus:ring-rust-500 cursor-pointer"}),l.jsx("span",{className:"text-stone-700 text-sm group-hover:text-rust-600 transition-colors",children:j.label})]},j.id))})]},Q)})]}),l.jsx("p",{className:"text-xs text-stone-500 mt-2",children:"Chn mt hoc nhiu danh mc. Sn phm s hin th  tt c cc trang danh mc  chn."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"tag",className:ce,children:"Tag"}),l.jsxs("select",{id:"tag",name:"tag",value:n.tag,onChange:V,className:re,children:[l.jsx("option",{value:"",children:"Chn tag (ty chn)"}),l.jsx("option",{value:"Mi",children:"Mi"}),l.jsx("option",{value:"Bn chy",children:"Bn chy"}),l.jsx("option",{value:"Cao cp",children:"Cao cp"}),l.jsx("option",{value:"Tin li",children:"Tin li"}),l.jsx("option",{value:"Thng hng",children:"Thng hng"}),l.jsx("option",{value:"c sn",children:"c sn"}),l.jsx("option",{value:"VIP",children:"VIP"}),l.jsx("option",{value:"Lu nm",children:"Lu nm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"format",className:ce,children:"Format"}),l.jsxs("select",{id:"format",name:"format",value:n.format,onChange:V,className:re,children:[l.jsx("option",{value:"",children:"Chn format (ty chn)"}),l.jsx("option",{value:"L ri",children:"L ri"}),l.jsx("option",{value:"Ti lc",children:"Ti lc"}),l.jsx("option",{value:"Bnh",children:"Bnh"})]})]}),l.jsx("div",{className:"pt-6 border-t border-stone-200",children:l.jsx(Te,{type:"submit",disabled:f,fullWidth:!0,className:"bg-stone-900 hover:bg-stone-800 text-white font-bold py-4 text-base rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?l.jsxs(l.Fragment,{children:[l.jsx(sl,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"ang lu sn phm..."})]}):"Lu sn phm"})})]})]})})]})},B5=({productId:i})=>{const{addToCart:e}=fl(),[n,r]=Y.useState(null),[c,u]=Y.useState(!0),[f,x]=Y.useState(0),[p,y]=Y.useState("L ri"),[N,S]=Y.useState(""),[I,z]=Y.useState(""),[V,X]=Y.useState(1),[P,se]=Y.useState({description:!0,ingredients:!1,brewingGuide:!1,delivery:!1}),ie=Y.useMemo(()=>{if(!n)return!1;const j=n.categoryIds||(n.categoryId?[n.categoryId]:[]),C=["tra-nguyen-ban","tra-uop-huong","luc-tra","bach-tra","hoang-tra","o-long","pho-nhi","hong-tra","tra-sen","tra-lai","tra-que"];return j.some(D=>C.includes(D))},[n]),re=Y.useMemo(()=>{if(!n)return!1;const j=n.categoryIds||(n.categoryId?[n.categoryId]:[]),C=["tra-cu","bo-tra","am-tra","chen-tra","chen-tong","tra-cu-khac"];return j.some(D=>C.includes(D))},[n]),ce=Y.useMemo(()=>{if(!n)return[];if(n.images&&n.images.length>0)return n.images;const j=[n.image];return n.imageHover&&j.push(n.imageHover),j},[n]),F=Y.useMemo(()=>{if(!n)return"";if(ie&&N&&n.sizes){const j=n.sizes.find(C=>C.id===N);return(j==null?void 0:j.price)||n.price}if(re&&I&&n.variants){const j=n.variants.find(C=>C.id===I);return(j==null?void 0:j.price)||n.price}return n.price},[n,N,I,ie,re]);Y.useEffect(()=>{(async()=>{u(!0);try{let C=Ih.find(D=>D.id===i);if(!C){const D=D1(Rg,"products",i),R=await QA(D);if(R.exists()){const we=R.data();C={id:R.id,name:we.name||"",price:we.price||"",image:we.image||"",imageHover:we.imageHover,images:we.images,tag:we.tag,format:we.format,categoryIds:we.categoryIds||(we.categoryId?[we.categoryId]:[]),categoryId:we.categoryId,sku:we.sku,sizes:we.sizes,variants:we.variants,ingredients:we.ingredients,brewingGuide:we.brewingGuide,material:we.material,capacity:we.capacity,reviews:we.reviews,description:we.description}}}C?(r(C),C.sizes&&C.sizes.length>0&&S(C.sizes[0].id),C.variants&&C.variants.length>0&&z(C.variants[0].id)):r(null)}catch(C){console.error("Error loading product:",C),r(null)}finally{u(!1)}})()},[i]);const Q=Y.useMemo(()=>{if(!n)return null;const j=n.categoryIds||(n.categoryId?[n.categoryId]:[]);if(j.length>0){const C=Bo[j[0]];if(C)return{category:C.title,categoryHref:`#${j[0]}`,parent:C.parent}}return null},[n]),_=j=>{se(C=>({...C,[j]:!C[j]}))},T=()=>{var C,D;if(!n)return;const j={...n,price:F,name:N&&n.sizes?`${n.name} - ${((C=n.sizes.find(R=>R.id===N))==null?void 0:C.name)||""}`:I&&n.variants?`${n.name} - ${((D=n.variants.find(R=>R.id===I))==null?void 0:D.name)||""}`:n.name};for(let R=0;R<V;R++)e(j)},A=j=>{X(C=>Math.max(1,C+j))};return Y.useEffect(()=>{const j=C=>{ce.length<=1||(C.key==="ArrowLeft"?x(D=>D>0?D-1:ce.length-1):C.key==="ArrowRight"&&x(D=>D<ce.length-1?D+1:0))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[ce.length]),c?l.jsx("div",{className:"bg-white min-h-screen pt-[80px] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-rust-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-stone-600",children:"ang ti sn phm..."})]})}):n?l.jsxs("div",{className:"bg-white min-h-screen pt-[80px]",children:[l.jsx("div",{className:"container mx-auto px-6 lg:px-12 py-6",children:l.jsxs("nav",{className:"flex items-center text-xs md:text-sm text-stone-500 mb-6",children:[l.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),window.location.hash="#"},className:"hover:text-rust-500 transition-colors",children:"Trang Ch"}),Q&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mx-2",children:"/"}),Q.parent&&l.jsxs(l.Fragment,{children:[l.jsx("a",{href:Q.parent.href,onClick:j=>{j.preventDefault(),window.location.hash=Q.parent.href},className:"hover:text-rust-500 transition-colors",children:Q.parent.label}),l.jsx("span",{className:"mx-2",children:"/"})]}),l.jsx("a",{href:Q.categoryHref,onClick:j=>{j.preventDefault(),window.location.hash=Q.categoryHref},className:"hover:text-rust-500 transition-colors",children:Q.category})]}),l.jsx("span",{className:"mx-2",children:"/"}),l.jsx("span",{className:"text-stone-900 font-medium",children:n.name})]})}),l.jsx("div",{className:"container mx-auto px-6 lg:px-12 pb-20",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[ce.length>1&&l.jsx("div",{className:"flex lg:flex-col gap-2 overflow-x-auto lg:overflow-y-auto lg:max-h-[600px] pb-2 lg:pb-0",children:ce.map((j,C)=>l.jsx("button",{onClick:()=>x(C),className:`flex-shrink-0 w-20 h-20 lg:w-24 lg:h-24 rounded-lg overflow-hidden border-2 transition-all ${f===C?"border-rust-500 shadow-md":"border-stone-200 hover:border-stone-400"}`,children:l.jsx("img",{src:j,alt:`${n.name} - View ${C+1}`,className:"w-full h-full object-cover"})},C))}),l.jsxs("div",{className:"flex-1 relative aspect-square bg-stone-50 rounded-xl overflow-hidden",children:[l.jsx("img",{src:ce[f]||n.image,alt:n.name,className:"w-full h-full object-cover"}),n.tag&&l.jsx("div",{className:"absolute top-4 left-4 bg-rust-500 text-white text-xs font-bold uppercase px-3 py-1.5 rounded-full tracking-wider shadow-lg z-10",children:n.tag})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center gap-3 mb-2",children:n.format&&l.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-stone-600 uppercase tracking-widest border border-stone-300 rounded px-2 py-1",children:[l.jsx(Mo,{size:12}),n.format]})}),l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-stone-900 mb-2",children:n.name}),n.sku&&l.jsxs("p",{className:"text-sm text-stone-500",children:["M sn phm: ",n.sku]})]}),n.description&&l.jsx("p",{className:"text-stone-600 leading-relaxed",children:n.description.split(".")[0]+"."}),ie&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-800 mb-3",children:"Chn quy cch"}),l.jsx("div",{className:"flex gap-3",children:["L ri","Ti lc"].map(j=>l.jsxs("button",{onClick:()=>y(j),className:`flex-1 px-6 py-3 rounded-lg border-2 transition-all ${p===j?"border-rust-500 bg-rust-50 text-rust-700 font-bold":"border-stone-300 text-stone-700 hover:border-stone-400"}`,children:[p===j&&l.jsx(Tn,{size:16,className:"inline mr-2"}),j]},j))})]}),n.sizes&&n.sizes.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-800 mb-3",children:"Chn kch thc"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.sizes.map(j=>l.jsxs("button",{onClick:()=>S(j.id),className:`relative p-4 rounded-lg border-2 transition-all text-left ${N===j.id?"border-rust-500 bg-rust-50":"border-stone-200 hover:border-stone-400"}`,children:[N===j.id&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(Tn,{size:20,className:"text-rust-500"})}),j.image&&l.jsx("img",{src:j.image,alt:j.name,className:"w-16 h-16 object-cover rounded mb-2"}),l.jsx("div",{className:"font-bold text-stone-900 text-sm",children:j.name}),l.jsx("div",{className:"text-xs text-stone-500 mb-1",children:j.weight}),l.jsx("div",{className:"text-stone-900 font-bold",children:j.price})]},j.id))})]})]}),re&&l.jsx(l.Fragment,{children:n.variants&&n.variants.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-800 mb-3",children:"Cng c sn vi"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.variants.map(j=>l.jsxs("button",{onClick:()=>z(j.id),className:`relative p-4 rounded-lg border-2 transition-all text-left ${I===j.id?"border-rust-500 bg-rust-50":"border-stone-200 hover:border-stone-400"}`,children:[I===j.id&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(Tn,{size:20,className:"text-rust-500"})}),j.image&&l.jsx("img",{src:j.image,alt:j.name,className:"w-16 h-16 object-cover rounded mb-2"}),l.jsx("div",{className:"font-bold text-stone-900 text-sm",children:j.name}),j.color&&l.jsx("div",{className:"text-xs text-stone-500 mb-1",children:j.color}),l.jsx("div",{className:"text-stone-900 font-bold",children:j.price})]},j.id))})]})}),n.tag&&l.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-orange-800 font-bold",children:"Gim gi c bit!"}),l.jsx("span",{className:"text-sm text-orange-600",children:"p dng cho sn phm ny"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-stone-800 mb-2",children:"S lng"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>A(-1),className:"w-10 h-10 rounded-lg border border-stone-300 flex items-center justify-center hover:bg-stone-50 transition-colors",children:l.jsx(Bm,{size:18})}),l.jsx("input",{type:"number",min:"1",value:V,onChange:j=>X(Math.max(1,parseInt(j.target.value)||1)),className:"w-20 text-center text-lg font-bold border-0 focus:outline-none"}),l.jsx("button",{onClick:()=>A(1),className:"w-10 h-10 rounded-lg border border-stone-300 flex items-center justify-center hover:bg-stone-50 transition-colors",children:l.jsx(qo,{size:18})})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-1 bg-stone-900 text-white px-6 py-4 rounded-lg text-center",children:l.jsx("div",{className:"text-2xl font-bold",children:F})}),l.jsxs(Te,{onClick:T,className:"flex-1 bg-rust-500 hover:bg-rust-600 text-white font-bold py-4 text-lg rounded-lg flex items-center justify-center gap-2",children:[l.jsx(Wo,{size:20}),"Thm vo gi"]})]}),l.jsx("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-stone-200",children:ie&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[l.jsx(Mo,{size:16}),l.jsx("span",{className:"text-sm",children:"Tr en"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[l.jsx(zT,{size:16}),l.jsx("span",{className:"text-sm",children:"Nng lng"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[l.jsx(TT,{size:16}),l.jsx("span",{className:"text-sm",children:"Bui chiu"})]})]})}),l.jsxs("div",{className:"space-y-2 pt-4 border-t border-stone-200",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>_("description"),className:"w-full flex items-center justify-between py-4 text-left font-bold text-stone-900 hover:text-rust-600 transition-colors",children:[l.jsx("span",{children:"M t"}),P.description?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})]}),P.description&&n.description&&l.jsx("div",{className:"pb-4 text-stone-600 leading-relaxed whitespace-pre-line",children:n.description})]}),ie&&n.ingredients&&l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>_("ingredients"),className:"w-full flex items-center justify-between py-4 text-left font-bold text-stone-900 hover:text-rust-600 transition-colors",children:[l.jsx("span",{children:"Thnh phn"}),P.ingredients?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})]}),P.ingredients&&l.jsx("div",{className:"pb-4 text-stone-600",children:n.ingredients})]}),ie&&n.brewingGuide&&l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>_("brewingGuide"),className:"w-full flex items-center justify-between py-4 text-left font-bold text-stone-900 hover:text-rust-600 transition-colors",children:[l.jsx("span",{children:"Hng dn pha"}),P.brewingGuide?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})]}),P.brewingGuide&&l.jsxs("div",{className:"pb-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-6 text-stone-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mo,{size:18}),l.jsx("span",{children:n.brewingGuide.quantity})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ET,{size:18}),l.jsx("span",{children:n.brewingGuide.temperature})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fr,{size:18}),l.jsx("span",{children:n.brewingGuide.time})]})]}),n.brewingGuide.hot&&l.jsxs("div",{className:"text-stone-600 text-sm",children:[l.jsx("strong",{children:"Pha nng:"})," ",n.brewingGuide.hot]}),n.brewingGuide.iced&&l.jsxs("div",{className:"text-stone-600 text-sm",children:[l.jsx("strong",{children:"Pha lnh:"})," ",n.brewingGuide.iced]})]})]}),re&&n.material&&l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>_("material"),className:"w-full flex items-center justify-between py-4 text-left font-bold text-stone-900 hover:text-rust-600 transition-colors",children:[l.jsx("span",{children:"Cht liu & Bo qun"}),P.material?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})]}),P.material&&l.jsx("div",{className:"pb-4 text-stone-600",children:n.material})]}),re&&n.capacity&&l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>_("capacity"),className:"w-full flex items-center justify-between py-4 text-left font-bold text-stone-900 hover:text-rust-600 transition-colors",children:[l.jsx("span",{children:"Dung tch"}),P.capacity?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})]}),P.capacity&&l.jsx("div",{className:"pb-4 text-stone-600",children:n.capacity})]}),l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>_("delivery"),className:"w-full flex items-center justify-between py-4 text-left font-bold text-stone-900 hover:text-rust-600 transition-colors",children:[l.jsx("span",{children:"Giao hng & i tr"}),P.delivery?l.jsx(Gi,{size:20}):l.jsx(sn,{size:20})]}),P.delivery&&l.jsxs("div",{className:"pb-4 text-stone-600 space-y-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Giao hng tiu chun:"})," n hng thng n trong 3-5 ngy lm vic. Min ph vi n hng trn 500.000 ."]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Giao hng nhanh:"})," Nhn hng trong 1-3 ngy lm vic."]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Chnh sch i tr:"})," Chng ti mun m bo bn hon ton hi lng vi sn phm tr ca mnh. Tm hiu thm v chnh sch i tr ca chng ti."]})]})]})]})]})]})})]}):l.jsx("div",{className:"bg-white min-h-screen pt-[80px]",children:l.jsxs("div",{className:"container mx-auto px-6 lg:px-12 py-20 text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-stone-900 mb-4",children:"Sn phm khng tn ti"}),l.jsxs("p",{className:"text-stone-600 mb-8",children:["Khng tm thy sn phm vi ID: ",i]}),l.jsx(Te,{onClick:()=>window.location.hash="#",children:"V trang ch"})]})})};function H5(){const[i,e]=Y.useState(window.location.hash||"");Y.useEffect(()=>{const r=()=>{e(window.location.hash),window.scrollTo(0,0)};return window.addEventListener("hashchange",r),()=>window.removeEventListener("hashchange",r)},[]);const n=()=>{const c=i.replace("#","").split("?")[0];if(c==="search")return l.jsx(E5,{});if(c==="gio-hang")return l.jsx(w5,{});if(c==="login")return l.jsx(S5,{});if(c==="register"||c==="dang-ky")return l.jsx(A5,{});if(c==="admin-add-product")return l.jsx(q5,{});if(c==="account"||c==="tai-khoan")return l.jsx(C5,{});if(c==="wishlist")return l.jsx(R5,{});if(c==="account-details")return l.jsx(I5,{});if(c==="email-preferences")return l.jsx(k5,{});if(c==="workshop")return l.jsx(O5,{});if(c==="tiec-tra-service")return l.jsx(V5,{});if(c==="khoa-hoc-online")return l.jsx(P5,{});if(c.startsWith("product/")){const u=c.split("product/")[1];return l.jsx(B5,{productId:u})}if(c.startsWith("article/")){const u=c.split("article/")[1];return l.jsx(_5,{articleId:u})}return c==="cach-pha-tra"||c==="chuyen-tra"?l.jsx(b5,{categoryId:c}):c in Bo?l.jsx(x5,{categoryId:c}):c==="ve-chung-toi"||c==="gioi-thieu"?l.jsx(y5,{}):c==="lien-he"?l.jsx(N5,{}):c==="blog"?l.jsx("div",{className:"pt-32 text-center min-h-[50vh]",children:l.jsx("h1",{className:"text-3xl font-light",children:"Trang ny ang c xy dng"})}):l.jsx(XT,{})};return l.jsx(z5,{children:l.jsx(BT,{children:l.jsxs("div",{className:"min-h-screen bg-white font-sans text-stone-900 antialiased selection:bg-orange-200 selection:text-orange-900",children:[l.jsx(HT,{}),l.jsx(j5,{}),l.jsx("main",{children:n()}),l.jsx(v5,{})]})})})}const j_=document.getElementById("root");if(!j_)throw new Error("Could not find root element to mount to");const F5=m2.createRoot(j_);F5.render(l.jsx(a2.StrictMode,{children:l.jsx(H5,{})}));
